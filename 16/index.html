<!DOCTYPE html><html lang="zh-CN" class="bg-[var(--page-bg)] transition text-[14px] md:text-[16px]" data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 361;--page-width: 75rem;--bg-url: url(https://eopfapi.b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa/pic?img=ua);--bg-enable: 1;--bg-position: center;--bg-size: cover;--bg-repeat: no-repeat;--bg-attachment: fixed;--bg-opacity: 0.5;"> <head><title>第 16 页 - AcoFork Blog</title><meta charset="UTF-8"><meta name="description" content="分享网络技术、服务器部署、内网穿透、静态网站搭建、CDN优化、容器化部署等技术教程与实践经验的个人技术博客，专注于云原生、无服务器架构和前后端开发，作者为afoim/二叉树树"><meta name="author" content="二叉树树"><meta name="keywords" content><meta property="og:site_name" content="AcoFork Blog"><meta property="og:url" content="https://2x.nz/16/"><meta property="og:title" content="第 16 页 - AcoFork Blog"><meta property="og:description" content="分享网络技术、服务器部署、内网穿透、静态网站搭建、CDN优化、容器化部署等技术教程与实践经验的个人技术博客，专注于云原生、无服务器架构和前后端开发，作者为afoim/二叉树树"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://2x.nz/16/"><meta name="twitter:title" content="第 16 页 - AcoFork Blog"><meta name="twitter:description" content="分享网络技术、服务器部署、内网穿透、静态网站搭建、CDN优化、容器化部署等技术教程与实践经验的个人技术博客，专注于云原生、无服务器架构和前后端开发，作者为afoim/二叉树树"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.7.9"><script src="/js/umami-share.js" defer></script><link rel="icon" href="https://q2.qlogo.cn/headimg_dl?dst_uin=2726730791&spec=0"><!-- Set the theme before the page is rendered to avoid a flash --><script>(function(){const DEFAULT_THEME = "auto";
const LIGHT_MODE = "light";
const DARK_MODE = "dark";
const AUTO_MODE = "auto";
const BANNER_HEIGHT_EXTEND = 30;
const PAGE_WIDTH = 75;
const configHue = 361;
const forceDarkMode = true;

			// Force dark mode if configured
			if (forceDarkMode) {
				document.documentElement.classList.add('dark');
				localStorage.setItem('theme', DARK_MODE);
			} else {
				// Load the theme from local storage
				const theme = localStorage.getItem('theme') || DEFAULT_THEME;
				switch (theme) {
					case LIGHT_MODE:
						document.documentElement.classList.remove('dark');
						break
					case DARK_MODE:
						document.documentElement.classList.add('dark');
						break
					case AUTO_MODE:
						if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
							document.documentElement.classList.add('dark');
						} else {
							document.documentElement.classList.remove('dark');
						}
				}
			}

			// Load the hue from local storage
			const hue = localStorage.getItem('hue') || configHue;
			document.documentElement.style.setProperty('--hue', hue);

			// calculate the --banner-height-extend, which needs to be a multiple of 4 to avoid blurry text
			let offset = Math.floor(window.innerHeight * (BANNER_HEIGHT_EXTEND / 100));
			offset = offset - offset % 4;
			document.documentElement.style.setProperty('--banner-height-extend', `${offset}px`);

			// Background image loading detection
			const bgUrl = getComputedStyle(document.documentElement).getPropertyValue('--bg-url').trim();
			const bgEnable = getComputedStyle(document.documentElement).getPropertyValue('--bg-enable').trim();
			
			if (bgUrl && bgUrl !== 'none' && bgEnable === '1') {
				const img = new Image();
				const urlMatch = bgUrl.match(/url\(["']?([^"')]+)["']?\)/);
				if (urlMatch) {
					img.onload = function() {
						// 背景图片完全加载后，显示背景并启用卡片透明效果
						document.body.classList.add('bg-loaded');
						document.documentElement.style.setProperty('--card-bg', 'var(--card-bg-transparent)');
						document.documentElement.style.setProperty('--float-panel-bg', 'var(--float-panel-bg-transparent)');
					};
					img.onerror = function() {
						// Keep cards opaque if background image fails to load
						console.warn('Background image failed to load, keeping cards opaque');
					};
					img.src = urlMatch[1];
				}
			}
		})();</script><!-- defines global css variables. This will be applied to <html> <body> and some other elements idk why --><link rel="alternate" type="application/rss+xml" title="二叉树树" href="https://2x.nz/rss.xml"><!-- Umami分析（云-备用） --><script defer src="https://cloud.umami.is/script.js" data-website-id="5d710dbd-3a2e-43e3-a553-97b415090c63" data-swup-ignore-script></script><!-- 百度统计 --><script data-swup-ignore-script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b219eaad631b87d273cfe72148b2138b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><!-- clarity 分析 --><script type="text/javascript" data-swup-ignore-script>
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t8f0gmcwtx");
</script><!-- gad --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1683686345039700" crossorigin="anonymous" data-swup-ignore-script></script><meta name="google-adsense-account" content="ca-pub-1683686345039700"><!-- 谷歌分析 --><script async src="https://www.googletagmanager.com/gtag/js?id=G-9Z4LT4H8KH" data-swup-ignore-script></script><script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.CQ182X93.js"></script><!-- Cloudflare Web Analytics --><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;15fe148e91b34f10a15652e1a74ab26c&quot;}" data-swup-ignore-script></script><!-- End Cloudflare Web Analytics --><link rel="stylesheet" href="/_astro/Layout.DRe9SoLl.css">
<link rel="stylesheet" href="/_astro/Layout.omPQcCVA.css">
<link rel="stylesheet" href="/_astro/_page_.C6NT1Zvp.css">
<link rel="stylesheet" href="/_astro/_page_.C11aP-Rm.css">
<link rel="stylesheet" href="/_astro/about.BtniRLn_.css">
<link rel="stylesheet" href="/_astro/_page_.C3bd0h5r.css">
<style>.friend-card[data-astro-cid-spp2p3no]{display:flex;flex-direction:column;gap:.25rem;border-radius:.5rem;background-color:var(--card-bg);padding:1rem}.friend-card[data-astro-cid-spp2p3no]:hover{background-color:#0000000d}.friend-card[data-astro-cid-spp2p3no]:hover:is(.dark *){background-color:#ffffff0d}.friend-card[data-astro-cid-spp2p3no]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.friend-card[data-astro-cid-spp2p3no]:active{scale:.98;background-color:var(--btn-regular-bg-active)}.friend-card[data-astro-cid-spp2p3no]:hover{background-color:var(--btn-regular-bg-hover)}.friend-card[data-astro-cid-spp2p3no]:hover .font-bold[data-astro-cid-spp2p3no]{color:var(--btn-content)}.friend-card[data-astro-cid-spp2p3no]:hover .text-sm[data-astro-cid-spp2p3no]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.friend-card[data-astro-cid-spp2p3no]:hover .text-sm[data-astro-cid-spp2p3no]:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.friend-card[data-astro-cid-spp2p3no] .font-bold[data-astro-cid-spp2p3no],.friend-card[data-astro-cid-spp2p3no] .text-sm[data-astro-cid-spp2p3no]{transition-property:color;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}
.donate-card[data-astro-cid-3z6uernf]{display:flex;flex-direction:column;border-radius:.5rem;border-width:1px;border-color:#0000001a;background-color:var(--card-bg);padding:1rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.donate-card[data-astro-cid-3z6uernf]:hover{border-color:#0003}.donate-card[data-astro-cid-3z6uernf]:is(.dark *){border-color:#ffffff1a}.donate-card[data-astro-cid-3z6uernf]:hover:is(.dark *){border-color:#fff3}.support-card[data-astro-cid-3z6uernf]{border-radius:.5rem;background-color:var(--card-bg);padding:1rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.support-card[data-astro-cid-3z6uernf]:hover{background-color:#0000000d}.support-card[data-astro-cid-3z6uernf]:hover:is(.dark *){background-color:#ffffff0d}.qr-code-placeholder[data-astro-cid-3z6uernf]{text-align:center}.sponsors-section[data-astro-cid-3z6uernf]{margin-top:1.5rem}.sponsors-grid[data-astro-cid-3z6uernf]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media(min-width:768px){.sponsors-grid[data-astro-cid-3z6uernf]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(min-width:1024px){.sponsors-grid[data-astro-cid-3z6uernf]{grid-template-columns:repeat(3,minmax(0,1fr))}}.sponsor-placeholder[data-astro-cid-3z6uernf]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.sponsor-placeholder[data-astro-cid-3z6uernf]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sponsor-card[data-astro-cid-3z6uernf]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.sponsor-card[data-astro-cid-3z6uernf]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.crypto-info[data-astro-cid-3z6uernf]>[data-astro-cid-3z6uernf]:not([hidden])~[data-astro-cid-3z6uernf]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.wallet-address[data-astro-cid-3z6uernf],.bybit-uid[data-astro-cid-3z6uernf]{text-align:center}.copy-btn[data-astro-cid-3z6uernf]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.copy-btn[data-astro-cid-3z6uernf]:hover{color:var(--primary);opacity:.8}
input.svelte-1wah7ro:focus{outline:0}.search-panel.svelte-1wah7ro{max-height:calc(100vh - 100px);overflow-y:auto}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k){-webkit-appearance:none;height:1.5rem;background-image:var(--color-selection-bar);transition:background-image .15s ease-in-out}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-webkit-slider-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-webkit-slider-thumb:hover{background:#fffc}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-webkit-slider-thumb:active{background:#fff9}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-moz-range-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;border-width:0;background:#ffffffb3;box-shadow:none}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-moz-range-thumb:hover{background:#fffc}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-moz-range-thumb:active{background:#fff9}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-ms-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-ms-thumb:hover{background:#fffc}#display-setting.svelte-d7tq3k input[type=range]:where(.svelte-d7tq3k)::-ms-thumb:active{background:#fff9}
</style><script type="module" src="/_astro/page.B-gX5Lgq.js"></script></head> <body class=" min-h-screen transition " data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 361;--page-width: 75rem;--bg-url: url(https://eopfapi.b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa/pic?img=ua);--bg-enable: 1;--bg-position: center;--bg-size: cover;--bg-repeat: no-repeat;--bg-attachment: fixed;--bg-opacity: 0.5;"> <div id="config-carrier" data-hue="361"></div>    <div id="top-row" class="z-50 pointer-events-none relative transition-all duration-700 max-w-[var(--page-width)] px-0 md:px-4 mx-auto"> <div id="navbar-wrapper" class="pointer-events-auto sticky top-0 transition-all"> <div id="navbar" class="z-50 onload-animation"> <div class="absolute h-8 left-0 right-0 -top-8 bg-[var(--card-bg)] transition"></div> <!-- used for onload animation --> <div class="card-base !overflow-visible max-w-[var(--page-width)] h-[4.5rem] !rounded-t-none mx-auto flex items-center justify-between px-4"> <a href="/" class="btn-plain scale-animation rounded-lg h-[3.25rem] px-5 font-bold active:scale-95"> <div class="flex flex-row text-[var(--primary)] items-center text-md"> <svg width="1em" height="1em" class="text-[1.75rem] mb-1 mr-2" data-icon="material-symbols:home-outline-rounded">   <symbol id="ai:material-symbols:home-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75"/></symbol><use href="#ai:material-symbols:home-outline-rounded"></use>  </svg> AcoFork Blog </div> </a> <div class="hidden md:flex"> <a aria-label="首页" href="/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 首页  </div> </a><a aria-label="归档" href="/archive/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 归档  </div> </a><a aria-label="关于" href="/about/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 关于  </div> </a><a aria-label="友链" href="/friends/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 友链  </div> </a><a aria-label="赞助" href="/sponsors/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 赞助  </div> </a><a aria-label="统计" href="https://cloud.umami.is/share/hN3l7PGcxsUCBHfU" target="_blank" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 统计 <svg width="1em" height="1em" class="text-[0.875rem] transition -translate-y-[1px] ml-1 text-black/[0.2] dark:text-white/[0.2]" data-icon="fa6-solid:arrow-up-right-from-square">   <symbol id="ai:fa6-solid:arrow-up-right-from-square" viewBox="0 0 512 512"><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></symbol><use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </div> </a><a aria-label="状态" href="https://stats.uptimerobot.com/VAtAH0mzPN" target="_blank" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 状态 <svg width="1em" height="1em" viewBox="0 0 512 512" class="text-[0.875rem] transition -translate-y-[1px] ml-1 text-black/[0.2] dark:text-white/[0.2]" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </div> </a> </div> <div class="flex"> <!--<SearchPanel client:load>--> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="2j02uq" component-url="/_astro/Search.C5206ddy.js" component-export="default" renderer-url="/_astro/client.svelte.DKv7QOqj.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island>  <button aria-label="Menu" name="Nav Menu" class="btn-plain scale-animation rounded-lg w-11 h-11 active:scale-90 md:!hidden" id="nav-menu-switch"> <svg width="1em" height="1em" class="text-[1.25rem]" data-icon="material-symbols:menu-rounded">   <symbol id="ai:material-symbols:menu-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/></symbol><use href="#ai:material-symbols:menu-rounded"></use>  </svg> </button> </div> <div id="nav-menu-panel" class="float-panel float-panel-closed absolute transition-all fixed right-4 px-2 py-2"> <a href="/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 首页 </div> <svg width="1em" height="1em" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <symbol id="ai:material-symbols:chevron-right-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M12.6 12L8.7 8.1q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7z"/></symbol><use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/archive/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 归档 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/about/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 关于 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/friends/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 友链 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/sponsors/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 赞助 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="https://cloud.umami.is/share/hN3l7PGcxsUCBHfU" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        " target="_blank"> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 统计 </div>  <svg width="1em" height="1em" viewBox="0 0 512 512" class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </a><a href="https://stats.uptimerobot.com/VAtAH0mzPN" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        " target="_blank"> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 状态 </div>  <svg width="1em" height="1em" viewBox="0 0 512 512" class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </a> </div> <astro-island uid="O8dFd" component-url="/_astro/DisplaySettings.C_7ADqoF.js" component-export="default" renderer-url="/_astro/client.svelte.DKv7QOqj.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;DisplaySettings&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> </div> </div> <script type="module">function l(){let e=document.getElementById("display-settings-switch");e&&(e.onclick=function(){let t=document.getElementById("display-setting");t&&t.classList.toggle("float-panel-closed")});let n=document.getElementById("nav-menu-switch");n&&(n.onclick=function(){let t=document.getElementById("nav-menu-panel");t&&t.classList.toggle("float-panel-closed")})}l();</script> </div> </div>   <div class="absolute w-full z-30 pointer-events-none" style="top: 5.5rem"> <!-- The pointer-events-none here prevent blocking the click event of the TOC --> <div class="relative max-w-[var(--page-width)] mx-auto pointer-events-auto"> <div id="main-grid" class="transition duration-700 w-full left-0 right-0 grid grid-cols-[17.5rem_auto] grid-rows-[auto_1fr_auto] lg:grid-rows-[auto]
    mx-auto gap-4 px-0 md:px-4"> <!-- Banner image credit -->  <div id="sidebar" class="mb-4 row-start-2 row-end-3 col-span-2 lg:row-start-1 lg:row-end-2 lg:col-span-1 lg:max-w-[17.5rem] onload-animation w-full"> <div class="flex flex-col w-full gap-4 mb-4"> <div class="card-base p-3"> <a aria-label="Go to About Page" href="/about/" class="group block relative mx-auto mt-1 lg:mx-0 lg:mt-0 mb-3
       max-w-[12rem] lg:max-w-none overflow-hidden rounded-xl active:scale-95"> <div class="absolute transition pointer-events-none group-hover:bg-black/30 group-active:bg-black/50
        w-full h-full z-50 flex items-center justify-center"> <svg width="1.13em" height="1em" class="transition opacity-0 scale-90 group-hover:scale-100 group-hover:opacity-100 text-white text-5xl" data-icon="fa6-regular:address-card">   <symbol id="ai:fa6-regular:address-card" viewBox="0 0 576 512"><path fill="currentColor" d="M512 80c8.8 0 16 7.2 16 16v320c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm144 224a64 64 0 1 0 0-128a64 64 0 1 0 0 128m-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80zm200-144c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></symbol><use href="#ai:fa6-regular:address-card"></use>  </svg> </div> <div class="mx-auto lg:w-full h-full lg:mt-0  overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 -->  <img src="https://q2.qlogo.cn/headimg_dl?dst_uin=2726730791&spec=0" alt="Profile Image of the Author" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho> </div>  </a> <div class="px-2"> <div class="font-bold text-xl text-center mb-1 dark:text-neutral-50 transition">二叉树树</div> <div class="h-1 w-5 bg-[var(--primary)] mx-auto rounded-full mb-2 transition"></div> <div class="text-center text-neutral-400 mb-2.5 transition">Protect What You Love.</div> <div class="flex flex-wrap gap-2 justify-center mb-1"> <a rel="me" aria-label="Bilibli" href="https://space.bilibili.com/325903362" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:bilibili">   <symbol id="ai:fa6-brands:bilibili" viewBox="0 0 512 512"><path fill="currentColor" d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1c-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79c0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797c0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5c-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8c-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5s-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5s-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></symbol><use href="#ai:fa6-brands:bilibili"></use>  </svg> </a><a rel="me" aria-label="GitHub" href="https://github.com/afoim" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="0.97em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:github">   <symbol id="ai:fa6-brands:github" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2"/></symbol><use href="#ai:fa6-brands:github"></use>  </svg> </a>  </div> <!-- 全站访问量统计 --> <div class="text-center text-sm text-neutral-500 dark:text-neutral-400 mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-700"> <div class="flex items-center justify-center gap-1"> <svg width="1em" height="1em" class="text-base" data-icon="material-symbols:visibility-outline">   <symbol id="ai:material-symbols:visibility-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 16q1.875 0 3.188-1.312T16.5 11.5t-1.312-3.187T12 7T8.813 8.313T7.5 11.5t1.313 3.188T12 16m0-1.8q-1.125 0-1.912-.788T9.3 11.5t.788-1.912T12 8.8t1.913.788t.787 1.912t-.787 1.913T12 14.2m0 4.8q-3.65 0-6.65-2.037T1 11.5q1.35-3.425 4.35-5.462T12 4t6.65 2.038T23 11.5q-1.35 3.425-4.35 5.463T12 19m0-2q2.825 0 5.188-1.487T20.8 11.5q-1.25-2.525-3.613-4.012T12 6T6.813 7.488T3.2 11.5q1.25 2.525 3.613 4.013T12 17"/></symbol><use href="#ai:material-symbols:visibility-outline"></use>  </svg> <span id="site-stats">统计加载中...</span> </div> </div> </div> </div> <script>(function(){const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 获取全站访问量统计
    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    async function loadSiteStats() {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取全站统计数据（不指定url参数获取全站数据）
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                 headers: {
                     'x-umami-share-token': token
                 }
             });
            
            if (statsResponse.status === 401) {
                // token 失效，清理缓存后重新获取一次
                clearUmamiShareCache();
                return await loadSiteStats();
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageviews = statsData.pageviews || 0;
            const visitors = statsData.visitors || 0;
            
            const statsElement = document.getElementById('site-stats');
            if (statsElement) {
                statsElement.textContent = generateStatsText(pageviews, visitors);
            }
        } catch (error) {
            console.error('获取全站统计失败:', error);
            const statsElement = document.getElementById('site-stats');
            if (statsElement) {
                statsElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    document.addEventListener('DOMContentLoaded', loadSiteStats);
})();</script> </div> <div id="sidebar-sticky" class="transition-all duration-700 flex flex-col w-full gap-4 top-4 sticky top-4"> <widget-layout data-id="domain-switcher" data-is-collapsed="undefined" class="pb-4 card-base onload-animation" style="animation-delay: 150ms; " data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="">线路切换</div> <div id="domain-switcher" class="collapse-wrapper px-4 overflow-hidden" data-astro-cid-ucso7hve style="">  <div class="flex flex-col gap-2"> <a href="https://2x.nz" data-url="https://2x.nz" class="domain-link btn-regular !justify-between px-3 py-2 rounded-lg text-sm group" data-domain="2x.nz"> <span class="truncate">Vercel</span> <div class="flex items-center gap-2"> <span class="latency-text text-xs font-bold opacity-0 transition-opacity"></span> <span class="status-indicator w-2 h-2 rounded-full bg-[var(--btn-content)]/30 dark:bg-white/30"></span> </div> </a><a href="https://blog.2b2x.cn" data-url="https://blog.2b2x.cn" class="domain-link btn-regular !justify-between px-3 py-2 rounded-lg text-sm group" data-domain="blog.2b2x.cn"> <span class="truncate">备案域</span> <div class="flex items-center gap-2"> <span class="latency-text text-xs font-bold opacity-0 transition-opacity"></span> <span class="status-indicator w-2 h-2 rounded-full bg-[var(--btn-content)]/30 dark:bg-white/30"></span> </div> </a><a href="https://b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa" data-url="https://b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa" class="domain-link btn-regular !justify-between px-3 py-2 rounded-lg text-sm group" data-domain="b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa"> <span class="truncate">漏网之鱼</span> <div class="flex items-center gap-2"> <span class="latency-text text-xs font-bold opacity-0 transition-opacity"></span> <span class="status-indicator w-2 h-2 rounded-full bg-[var(--btn-content)]/30 dark:bg-white/30"></span> </div> </a><a href="http://localhost:4321" data-url="http://localhost:4321" class="domain-link btn-regular !justify-between px-3 py-2 rounded-lg text-sm group" data-domain="localhost"> <span class="truncate">Dev</span> <div class="flex items-center gap-2"> <span class="latency-text text-xs font-bold opacity-0 transition-opacity"></span> <span class="status-indicator w-2 h-2 rounded-full bg-[var(--btn-content)]/30 dark:bg-white/30"></span> </div> </a> </div>  </div>  </widget-layout>   <script type="module">function l(){const r=window.location.hostname;document.querySelectorAll(".domain-link").forEach(a=>{const t=a.getAttribute("data-domain"),e=a.getAttribute("href");a.className="domain-link btn-regular !justify-between px-3 py-2 rounded-lg text-sm group";const o=a.querySelector(".status-indicator");if(o&&(o.className="status-indicator w-2 h-2 rounded-full bg-[var(--btn-content)]/30 dark:bg-white/30"),t===r)a.classList.remove("btn-regular"),a.classList.add("flex","items-center","justify-between","bg-[var(--primary)]","text-white","dark:text-black/70","cursor-default"),o&&(o.classList.remove("bg-[var(--btn-content)]/30","dark:bg-white/30"),o.classList.add("bg-white","dark:bg-black/70")),a.removeAttribute("href");else if(e)try{const s=new URL(e);s.pathname=window.location.pathname,s.search=window.location.search,s.hash=window.location.hash,a.setAttribute("href",s.toString())}catch{console.error("Invalid URL:",e)}})}async function d(){const r=document.querySelectorAll(".domain-link");for(const n of r){const a=n.getAttribute("data-url"),t=n.querySelector(".latency-text"),e=n.querySelector(".status-indicator");if(!a||!t)continue;t.textContent="...",t.classList.remove("opacity-0","text-green-500","text-yellow-500","text-red-500"),t.classList.add("opacity-50");const o=performance.now();let s=-1;try{const c=new AbortController,u=setTimeout(()=>c.abort(),5e3);await fetch(a,{method:"HEAD",mode:"no-cors",cache:"no-store",signal:c.signal}),clearTimeout(u);const b=performance.now();s=Math.round(b-o)}catch{}t.classList.remove("opacity-50");const i=n.classList.contains("bg-[var(--primary)]");s>=0?(t.textContent=`${s}ms`,s<200?i||(t.classList.add("text-green-600","dark:text-green-400"),e&&(e.classList.remove("bg-[var(--btn-content)]/30","dark:bg-white/30"),e.classList.add("bg-green-500"))):s<500?i||(t.classList.add("text-yellow-600","dark:text-yellow-400"),e&&(e.classList.remove("bg-[var(--btn-content)]/30","dark:bg-white/30"),e.classList.add("bg-yellow-500"))):(t.classList.add("text-red-600","dark:text-red-400"),e&&!i&&(e.classList.remove("bg-[var(--btn-content)]/30","dark:bg-white/30"),e.classList.add("bg-red-500")))):(t.textContent="-",t.classList.add("text-red-600","dark:text-red-400"))}}l();d();document.addEventListener("astro:page-load",()=>{l(),d()});</script> <widget-layout data-id="tags" data-is-collapsed="true" class="pb-4 card-base onload-animation" style="animation-delay: 200ms; --collapsedHeight: 7.5rem;" data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">标签</div> <div id="tags" class="collapse-wrapper px-4 overflow-hidden collapsed" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">  <div class="flex gap-2 flex-wrap"> <a href="/archive/tag/3x-ui/" aria-label="View all posts with the 3x-ui tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  3x-ui </a><a href="/archive/tag/AI/" aria-label="View all posts with the AI tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  AI </a><a href="/archive/tag/AI绘图/" aria-label="View all posts with the AI绘图 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  AI绘图 </a><a href="/archive/tag/AList/" aria-label="View all posts with the AList tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  AList </a><a href="/archive/tag/Astro/" aria-label="View all posts with the Astro tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Astro </a><a href="/archive/tag/AutoBangumi/" aria-label="View all posts with the AutoBangumi tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  AutoBangumi </a><a href="/archive/tag/BetterStack/" aria-label="View all posts with the BetterStack tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  BetterStack </a><a href="/archive/tag/Bitwarden/" aria-label="View all posts with the Bitwarden tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Bitwarden </a><a href="/archive/tag/Blogging/" aria-label="View all posts with the Blogging tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Blogging </a><a href="/archive/tag/CDN/" aria-label="View all posts with the CDN tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  CDN </a><a href="/archive/tag/Chevereto/" aria-label="View all posts with the Chevereto tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Chevereto </a><a href="/archive/tag/Cloudflare/" aria-label="View all posts with the Cloudflare tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare </a><a href="/archive/tag/cloudflare/" aria-label="View all posts with the cloudflare tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  cloudflare </a><a href="/archive/tag/Cloudflare Byoip/" aria-label="View all posts with the Cloudflare Byoip tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare Byoip </a><a href="/archive/tag/Cloudflare Pages/" aria-label="View all posts with the Cloudflare Pages tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare Pages </a><a href="/archive/tag/Cloudflare R2/" aria-label="View all posts with the Cloudflare R2 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare R2 </a><a href="/archive/tag/Cloudflare SaaS/" aria-label="View all posts with the Cloudflare SaaS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare SaaS </a><a href="/archive/tag/Cloudflare Tunnel/" aria-label="View all posts with the Cloudflare Tunnel tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare Tunnel </a><a href="/archive/tag/Cloudflare Worker/" aria-label="View all posts with the Cloudflare Worker tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare Worker </a><a href="/archive/tag/Cloudflare Workers/" aria-label="View all posts with the Cloudflare Workers tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cloudflare Workers </a><a href="/archive/tag/CORS/" aria-label="View all posts with the CORS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  CORS </a><a href="/archive/tag/CSP/" aria-label="View all posts with the CSP tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  CSP </a><a href="/archive/tag/Cyberduck/" aria-label="View all posts with the Cyberduck tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cyberduck </a><a href="/archive/tag/Deepseek/" aria-label="View all posts with the Deepseek tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Deepseek </a><a href="/archive/tag/Demo/" aria-label="View all posts with the Demo tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Demo </a><a href="/archive/tag/Discourse/" aria-label="View all posts with the Discourse tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Discourse </a><a href="/archive/tag/DLL注入/" aria-label="View all posts with the DLL注入 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  DLL注入 </a><a href="/archive/tag/EdgeOne/" aria-label="View all posts with the EdgeOne tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  EdgeOne </a><a href="/archive/tag/exhentai/" aria-label="View all posts with the exhentai tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  exhentai </a><a href="/archive/tag/Fleek/" aria-label="View all posts with the Fleek tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Fleek </a><a href="/archive/tag/Folo/" aria-label="View all posts with the Folo tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Folo </a><a href="/archive/tag/Fuwari/" aria-label="View all posts with the Fuwari tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Fuwari </a><a href="/archive/tag/fuwari优化/" aria-label="View all posts with the fuwari优化 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  fuwari优化 </a><a href="/archive/tag/GalGame/" aria-label="View all posts with the GalGame tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  GalGame </a><a href="/archive/tag/Gemini/" aria-label="View all posts with the Gemini tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Gemini </a><a href="/archive/tag/Giscus/" aria-label="View all posts with the Giscus tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Giscus </a><a href="/archive/tag/Git/" aria-label="View all posts with the Git tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Git </a><a href="/archive/tag/Github/" aria-label="View all posts with the Github tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Github </a><a href="/archive/tag/Github Edu/" aria-label="View all posts with the Github Edu tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Github Edu </a><a href="/archive/tag/GoEdge/" aria-label="View all posts with the GoEdge tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  GoEdge </a><a href="/archive/tag/Google/" aria-label="View all posts with the Google tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Google </a><a href="/archive/tag/H3C/" aria-label="View all posts with the H3C tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  H3C </a><a href="/archive/tag/Hugo/" aria-label="View all posts with the Hugo tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Hugo </a><a href="/archive/tag/ICP/" aria-label="View all posts with the ICP tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  ICP </a><a href="/archive/tag/ip6.arpa/" aria-label="View all posts with the ip6.arpa tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  ip6.arpa </a><a href="/archive/tag/IPFS/" aria-label="View all posts with the IPFS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  IPFS </a><a href="/archive/tag/IPv6/" aria-label="View all posts with the IPv6 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  IPv6 </a><a href="/archive/tag/JS/" aria-label="View all posts with the JS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  JS </a><a href="/archive/tag/k3s/" aria-label="View all posts with the k3s tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  k3s </a><a href="/archive/tag/Koishi/" aria-label="View all posts with the Koishi tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Koishi </a><a href="/archive/tag/Lucky/" aria-label="View all posts with the Lucky tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Lucky </a><a href="/archive/tag/Mac/" aria-label="View all posts with the Mac tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Mac </a><a href="/archive/tag/Markdown/" aria-label="View all posts with the Markdown tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Markdown </a><a href="/archive/tag/Matrix/" aria-label="View all posts with the Matrix tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Matrix </a><a href="/archive/tag/meme/" aria-label="View all posts with the meme tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  meme </a><a href="/archive/tag/Mortix/" aria-label="View all posts with the Mortix tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Mortix </a><a href="/archive/tag/NAS/" aria-label="View all posts with the NAS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  NAS </a><a href="/archive/tag/NAT1/" aria-label="View all posts with the NAT1 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  NAT1 </a><a href="/archive/tag/Netlify/" aria-label="View all posts with the Netlify tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Netlify </a><a href="/archive/tag/Nextjs/" aria-label="View all posts with the Nextjs tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Nextjs </a><a href="/archive/tag/NoobAI/" aria-label="View all posts with the NoobAI tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  NoobAI </a><a href="/archive/tag/Obsidian/" aria-label="View all posts with the Obsidian tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Obsidian </a><a href="/archive/tag/OneDrive/" aria-label="View all posts with the OneDrive tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  OneDrive </a><a href="/archive/tag/Oracle/" aria-label="View all posts with the Oracle tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Oracle </a><a href="/archive/tag/Phira/" aria-label="View all posts with the Phira tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Phira </a><a href="/archive/tag/Prompt/" aria-label="View all posts with the Prompt tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Prompt </a><a href="/archive/tag/PVE/" aria-label="View all posts with the PVE tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  PVE </a><a href="/archive/tag/Python/" aria-label="View all posts with the Python tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Python </a><a href="/archive/tag/QQBot/" aria-label="View all posts with the QQBot tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  QQBot </a><a href="/archive/tag/RDP/" aria-label="View all posts with the RDP tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  RDP </a><a href="/archive/tag/Reality/" aria-label="View all posts with the Reality tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Reality </a><a href="/archive/tag/Render/" aria-label="View all posts with the Render tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Render </a><a href="/archive/tag/Replay/" aria-label="View all posts with the Replay tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Replay </a><a href="/archive/tag/Rewrite/" aria-label="View all posts with the Rewrite tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Rewrite </a><a href="/archive/tag/RVC/" aria-label="View all posts with the RVC tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  RVC </a><a href="/archive/tag/Secbit/" aria-label="View all posts with the Secbit tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Secbit </a><a href="/archive/tag/SEO/" aria-label="View all posts with the SEO tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  SEO </a><a href="/archive/tag/Serverless/" aria-label="View all posts with the Serverless tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Serverless </a><a href="/archive/tag/SSHFS/" aria-label="View all posts with the SSHFS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  SSHFS </a><a href="/archive/tag/Steam/" aria-label="View all posts with the Steam tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Steam </a><a href="/archive/tag/STUN/" aria-label="View all posts with the STUN tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  STUN </a><a href="/archive/tag/Swup/" aria-label="View all posts with the Swup tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Swup </a><a href="/archive/tag/Synapse/" aria-label="View all posts with the Synapse tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Synapse </a><a href="/archive/tag/Tailscale/" aria-label="View all posts with the Tailscale tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Tailscale </a><a href="/archive/tag/Telegram/" aria-label="View all posts with the Telegram tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Telegram </a><a href="/archive/tag/Telegram Web/" aria-label="View all posts with the Telegram Web tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Telegram Web </a><a href="/archive/tag/Typora/" aria-label="View all posts with the Typora tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Typora </a><a href="/archive/tag/Umami/" aria-label="View all posts with the Umami tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Umami </a><a href="/archive/tag/UptimeRobot/" aria-label="View all posts with the UptimeRobot tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  UptimeRobot </a><a href="/archive/tag/USTC/" aria-label="View all posts with the USTC tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  USTC </a><a href="/archive/tag/UVR/" aria-label="View all posts with the UVR tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  UVR </a><a href="/archive/tag/Vercel/" aria-label="View all posts with the Vercel tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Vercel </a><a href="/archive/tag/Web/" aria-label="View all posts with the Web tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Web </a><a href="/archive/tag/Whois/" aria-label="View all posts with the Whois tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Whois </a><a href="/archive/tag/Windows/" aria-label="View all posts with the Windows tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Windows </a><a href="/archive/tag/wordpress/" aria-label="View all posts with the wordpress tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  wordpress </a><a href="/archive/tag/XSS攻击/" aria-label="View all posts with the XSS攻击 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  XSS攻击 </a><a href="/archive/tag/Zeabur/" aria-label="View all posts with the Zeabur tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Zeabur </a><a href="/archive/tag/Zerotier/" aria-label="View all posts with the Zerotier tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Zerotier </a><a href="/archive/tag/下载器/" aria-label="View all posts with the 下载器 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  下载器 </a><a href="/archive/tag/云函数/" aria-label="View all posts with the 云函数 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  云函数 </a><a href="/archive/tag/企业微信/" aria-label="View all posts with the 企业微信 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  企业微信 </a><a href="/archive/tag/优选/" aria-label="View all posts with the 优选 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  优选 </a><a href="/archive/tag/六子棋/" aria-label="View all posts with the 六子棋 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  六子棋 </a><a href="/archive/tag/兰空图床/" aria-label="View all posts with the 兰空图床 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  兰空图床 </a><a href="/archive/tag/博客/" aria-label="View all posts with the 博客 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  博客 </a><a href="/archive/tag/反向代理/" aria-label="View all posts with the 反向代理 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  反向代理 </a><a href="/archive/tag/台式/" aria-label="View all posts with the 台式 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  台式 </a><a href="/archive/tag/哪吒监控/" aria-label="View all posts with the 哪吒监控 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  哪吒监控 </a><a href="/archive/tag/图床/" aria-label="View all posts with the 图床 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  图床 </a><a href="/archive/tag/图片隐写/" aria-label="View all posts with the 图片隐写 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  图片隐写 </a><a href="/archive/tag/域名邮箱/" aria-label="View all posts with the 域名邮箱 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  域名邮箱 </a><a href="/archive/tag/对象存储/" aria-label="View all posts with the 对象存储 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  对象存储 </a><a href="/archive/tag/尘白禁区/" aria-label="View all posts with the 尘白禁区 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  尘白禁区 </a><a href="/archive/tag/崩坏星穹铁道/" aria-label="View all posts with the 崩坏星穹铁道 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  崩坏星穹铁道 </a><a href="/archive/tag/微信/" aria-label="View all posts with the 微信 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  微信 </a><a href="/archive/tag/微信企业邮/" aria-label="View all posts with the 微信企业邮 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  微信企业邮 </a><a href="/archive/tag/微软/" aria-label="View all posts with the 微软 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  微软 </a><a href="/archive/tag/支付宝/" aria-label="View all posts with the 支付宝 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  支付宝 </a><a href="/archive/tag/浏览器/" aria-label="View all posts with the 浏览器 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  浏览器 </a><a href="/archive/tag/生活/" aria-label="View all posts with the 生活 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  生活 </a><a href="/archive/tag/破解/" aria-label="View all posts with the 破解 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  破解 </a><a href="/archive/tag/笔记本/" aria-label="View all posts with the 笔记本 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  笔记本 </a><a href="/archive/tag/网易云音乐/" aria-label="View all posts with the 网易云音乐 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  网易云音乐 </a><a href="/archive/tag/网易免费企业邮/" aria-label="View all posts with the 网易免费企业邮 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  网易免费企业邮 </a><a href="/archive/tag/联系/" aria-label="View all posts with the 联系 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  联系 </a><a href="/archive/tag/虚拟机/" aria-label="View all posts with the 虚拟机 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  虚拟机 </a><a href="/archive/tag/解包/" aria-label="View all posts with the 解包 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  解包 </a><a href="/archive/tag/记录/" aria-label="View all posts with the 记录 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  记录 </a><a href="/archive/tag/评论区/" aria-label="View all posts with the 评论区 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  评论区 </a><a href="/archive/tag/远程/" aria-label="View all posts with the 远程 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  远程 </a><a href="/archive/tag/重定向/" aria-label="View all posts with the 重定向 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  重定向 </a><a href="/archive/tag/银行卡/" aria-label="View all posts with the 银行卡 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  银行卡 </a><a href="/archive/tag/阿里云云函数 FC/" aria-label="View all posts with the 阿里云云函数 FC tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  阿里云云函数 FC </a><a href="/archive/tag/降级/" aria-label="View all posts with the 降级 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  降级 </a><a href="/archive/tag/随机图API/" aria-label="View all posts with the 随机图API tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  随机图API </a><a href="/archive/tag/音色克隆/" aria-label="View all posts with the 音色克隆 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  音色克隆 </a><a href="/archive/tag/飞牛NAS/" aria-label="View all posts with the 飞牛NAS tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  飞牛NAS </a><a href="/archive/tag/魔法少女的魔女审判/" aria-label="View all posts with the 魔法少女的魔女审判 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  魔法少女的魔女审判 </a><a href="/archive/tag/麦克风/" aria-label="View all posts with the 麦克风 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  麦克风 </a> </div>  </div> <div class="expand-btn px-4 -mb-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <button class="btn-plain rounded-lg w-full h-9" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <div class="text-[var(--primary)] flex items-center justify-center gap-2 -translate-x-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <svg width="1em" height="1em" class="text-[1.75rem]" data-astro-cid-ucso7hve="true" data-icon="material-symbols:more-horiz">   <symbol id="ai:material-symbols:more-horiz" viewBox="0 0 24 24"><path fill="currentColor" d="M6 14q-.825 0-1.412-.587T4 12t.588-1.412T6 10t1.413.588T8 12t-.587 1.413T6 14m6 0q-.825 0-1.412-.587T10 12t.588-1.412T12 10t1.413.588T14 12t-.587 1.413T12 14m6 0q-.825 0-1.412-.587T16 12t.588-1.412T18 10t1.413.588T20 12t-.587 1.413T18 14"/></symbol><use href="#ai:material-symbols:more-horiz"></use>  </svg> 更多
</div> </button> </div> </widget-layout>  <script type="module">class d extends HTMLElement{constructor(){if(super(),this.dataset.isCollapsed!=="true")return;const e=this.dataset.id,t=this.querySelector(".expand-btn"),s=this.querySelector(`#${e}`);t.addEventListener("click",()=>{s.classList.remove("collapsed"),t.classList.add("hidden")})}}customElements.get("widget-layout")||customElements.define("widget-layout",d);</script> <widget-layout data-id="todo-list" data-is-collapsed="undefined" class="pb-4 card-base onload-animation" style="animation-delay: 250ms; " data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="">待办事项</div> <div id="todo-list" class="collapse-wrapper px-4 overflow-hidden" data-astro-cid-ucso7hve style=""> <div class="flex flex-col gap-2"><div class="flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300"><svg width="1em" height="1em" class="text-lg flex-shrink-0 text-[var(--primary)]" data-icon="material-symbols:check-box-outline">   <symbol id="ai:material-symbols:check-box-outline" viewBox="0 0 24 24"><path fill="currentColor" d="m10.6 16.2l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4zM5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm0-2h14V5H5zM5 5v14z"/></symbol><use href="#ai:material-symbols:check-box-outline"></use>  </svg><span class="line-through opacity-60">为博客添加”待办事项“功能</span></div><div class="flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300"><svg width="1em" height="1em" class="text-lg flex-shrink-0 text-neutral-400" data-icon="material-symbols:check-box-outline-blank">   <symbol id="ai:material-symbols:check-box-outline-blank" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm0-2h14V5H5z"/></symbol><use href="#ai:material-symbols:check-box-outline-blank"></use>  </svg><span class>做视频：利用STUN在世界各地连接上你的电脑</span></div><div class="flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300"><svg width="1em" height="1em" viewBox="0 0 24 24" class="text-lg flex-shrink-0 text-neutral-400" data-icon="material-symbols:check-box-outline-blank">   <use href="#ai:material-symbols:check-box-outline-blank"></use>  </svg><span class>做视频：Ventoy+FirPE使用（可能不会做）</span></div><div class="flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300"><svg width="1em" height="1em" viewBox="0 0 24 24" class="text-lg flex-shrink-0 text-neutral-400" data-icon="material-symbols:check-box-outline-blank">   <use href="#ai:material-symbols:check-box-outline-blank"></use>  </svg><span class>做视频：Cloudflare 利用Origin Rules 6转4 访问家里云</span></div></div><div class="mt-4 flex justify-center"><a href="https://github.com/afoim/fuwari/tree/main/src/data/todo.ts" target="_blank" rel="noopener noreferrer" class="btn-plain rounded-lg h-9 px-4 flex items-center gap-2 text-[var(--primary)] text-sm"><svg width="1em" height="1em" class="text-lg" data-icon="material-symbols:add-task-rounded">   <symbol id="ai:material-symbols:add-task-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2q1.2 0 2.338.275t2.187.8q.375.2.488.6t-.138.75t-.663.45t-.812-.1q-.8-.375-1.663-.575T12 4Q8.65 4 6.325 6.325T4 12t2.325 5.675T12 20q.65 0 1.275-.1t1.25-.3q.425-.125.825-.012t.625.487q.2.35.087.75t-.512.55q-.85.325-1.75.475T12 22m7-5h-2q-.425 0-.712-.288T16 16t.288-.712T17 15h2v-2q0-.425.288-.712T20 12t.713.288T21 13v2h2q.425 0 .713.288T24 16t-.288.713T23 17h-2v2q0 .425-.288.713T20 20t-.712-.288T19 19zm-8.4-3.2l9.3-9.325q.275-.275.7-.275t.7.275t.275.7t-.275.7L11.3 15.9q-.3.3-.7.3t-.7-.3l-2.85-2.85q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275z"/></symbol><use href="#ai:material-symbols:add-task-rounded"></use>  </svg>
我要给你加工作！
</a></div> </div>  </widget-layout>   <!-- 赞助标 --> <div class="overflow-hidden flex justify-center"> <a href="https://secbit.ai/" target="_blank" rel="noopener noreferrer"> <img src="/aff/secbit-banner-1.gif" alt="Secbit" class="w-full max-w-[280px] rounded-lg hover:opacity-90 transition-opacity"> </a> </div> <div class="overflow-hidden flex justify-center"> <iframe src="https://support.nodeget.com/page/promotion?id=316" style="border:none; border-radius:8px; height:270px; width:100%; max-width:280px;
                transform: scale(1.0); transform-origin: center top;"></iframe> </div> </div> </div> <main id="swup-container" class="transition-swup-fade col-span-2 lg:col-span-1 overflow-hidden"> <div id="content-wrapper" class="onload-animation"> <!-- the overflow-hidden here prevent long text break the layout--> <!-- make id different from windows.swup global property -->  <div class="transition flex flex-col rounded-[var(--radius-large)] bg-transparent py-1 md:py-0 md:gap-4 mb-4"> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 0ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/phira-mp/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  Phira多人联机服务器搭建/使用教程 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <symbol id="ai:material-symbols:calendar-today-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"/></symbol><use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-11-06</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:tag-rounded">   <symbol id="ai:material-symbols:tag-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m9 16l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T6.3 18.8L7 16H4.275q-.5 0-.8-.387T3.3 14.75q.075-.35.35-.55t.625-.2H7.5l1-4H5.775q-.5 0-.8-.387T4.8 8.75q.075-.35.35-.55t.625-.2H9l.825-3.275Q9.9 4.4 10.15 4.2t.6-.2q.475 0 .775.375t.175.825L11 8h4l.825-3.275q.075-.325.325-.525t.6-.2q.475 0 .775.375t.175.825L17 8h2.725q.5 0 .8.387t.175.863q-.075.35-.35.55t-.625.2H16.5l-1 4h2.725q.5 0 .8.388t.175.862q-.075.35-.35.55t-.625.2H15l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T12.3 18.8L13 16zm.5-2h4l1-4h-4z"/></symbol><use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Phira/" aria-label="View all posts with the Phira tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Phira </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 懒人可以直接下载预构建的可执行文件，但如果想获得日志需要自备Rust环境 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">408 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">2 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-phira-mp" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/phira-mp/" aria-label="Phira多人联机服务器搭建/使用教程" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/2024-11-06-08-20-39-image.D2tfnvbf_Z1EV2lh.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="1283" height="792" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"phira-mp.md","data":{"title":"Phira多人联机服务器搭建/使用教程","published":"2024-11-06T00:00:00.000Z","draft":false,"description":"懒人可以直接下载预构建的可执行文件，但如果想获得日志需要自备Rust环境","image":"../assets/images/2024-11-06-08-20-39-image.webp","tags":["Phira"],"lang":"","pinned":false,"prevTitle":"究极喂饭教程，手把手教你内网穿透","prevSlug":"across-nat","nextTitle":"使用NoneBot2搭建你的QQBot！","nextSlug":"qqbot"},"body":"# 直接下载服务端文件并运行\n\n[https://github.com/afoim/phira-mp-autobuild](https://github.com/afoim/phira-mp-autobuild)\n\n这里有一些由Github Action自动构建的服务端文件，涵盖以下系统和架构![](../assets/images/2024-11-06-08-28-34-image.webp)\n\n也可以前往[Multiplayer Server | Dmocken的Phira下载站](https://phira.dmocken.top/Multiplayer%20Server%E5%A4%9A%E4%BA%BA%E6%B8%B8%E6%88%8F%E6%9C%8D%E5%8A%A1%E5%99%A8)自行寻找\n\n寻找适用于你的系统的文件，下载下来并执行即可。默认服务端将会在你的主机12346端口上开放，如果需要自定义端口，请使用`--port`参数指定端口。然后即可使用Phira来填写IP/域名:端口来连接\n\n*如果要显示Log，请使用 `RUST_LOG=debug ./xxx` 去运行，默认日志等级是 `WARN`\n\n如果这些文件不适用于你正在使用的系统请前往[自行构建（高级）](#自行构建高级)继续阅读\n\n# 自行构建（高级）\n\n由于phira-mp使用Rust编写，若想要自行构建需要在你的操作系统上安装Rust环境\n\n## 对于Windows\n\n前往[Rust 下载页](https://www.rust-lang.org/zh-CN/learn/get-started)，下载 Rust  ![](../assets/images/2024-11-06-09-57-44-6b333b87e835dfa299b0c3c95e5ea4e0.webp)\n打开后会弹出一个 CMD 窗口，输入 1（Quick Install）回车，等待 Visual Studio 安装（如果此步 Visual Studio 下载很慢也可以[手动下载](https://visualstudio.microsoft.com/zh-hans/downloads/)）  \n\n![](../assets/images/2024-11-06-09-57-49-61b4d36dc8cd1ce47da66be5e2a920cd.webp)在 Visual Studio 中，勾选**使用 C++ 的桌面开发**，然后安装  \n![](../assets/images/2024-11-06-09-58-05-390c775c83dc245b0690fda699bfee5f.webp)然后请跳过 Linux 教程直接阅读[构建 phira-mp]()\n\n## 对于Linux\n\n执行：`curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh`\n\n选择 1 回车\n\n执行：`source $HOME/.cargo/env`\n\n# 使用Rust构建phira-mp\n\n克隆仓库：`git clone https://github.com/TeamFlos/phira-mp.git`（不支持IPv6）或`git clone https://github.com/afoim/phira-mp-autobuild.git`（支持IPv6）\n\n`cd phira-mp`或`cd phira-mp-autobuild`\n\n更新依赖：`cargo update`\n\n构建：`cargo build --release -p phira-mp-server`\n\n运行程序并将 log 打印到终端，会显示你监听的端口：`RUST_LOG=info target/release/phira-mp-server`  \n（如果你需要指定端口号：`RUST_LOG=info target/release/phira-mp-server --port 8080`）\n\n![](../assets/images/2024-11-06-10-14-36-0dce4358b21773ae1261e7fc39339c32.webp)","filePath":"src/content/posts/phira-mp.md","assetImports":["../assets/images/2024-11-06-08-28-34-image.webp","../assets/images/2024-11-06-09-57-44-6b333b87e835dfa299b0c3c95e5ea4e0.webp","../assets/images/2024-11-06-09-57-49-61b4d36dc8cd1ce47da66be5e2a920cd.webp","../assets/images/2024-11-06-09-58-05-390c775c83dc245b0690fda699bfee5f.webp","../assets/images/2024-11-06-10-14-36-0dce4358b21773ae1261e7fc39339c32.webp"],"digest":"51b60d1d19b0553b","rendered":{"html":"<section><h1 id=\"直接下载服务端文件并运行\">直接下载服务端文件并运行<a class=\"anchor\" href=\"#直接下载服务端文件并运行\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p><a href=\"https://github.com/afoim/phira-mp-autobuild\" rel=\"nofollow\" target=\"_blank\">https://github.com/afoim/phira-mp-autobuild</a></p><p>这里有一些由Github Action自动构建的服务端文件，涵盖以下系统和架构<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-11-06-08-28-34-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>也可以前往<a href=\"https://phira.dmocken.top/Multiplayer%20Server%E5%A4%9A%E4%BA%BA%E6%B8%B8%E6%88%8F%E6%9C%8D%E5%8A%A1%E5%99%A8\" rel=\"nofollow\" target=\"_blank\">Multiplayer Server | Dmocken的Phira下载站</a>自行寻找</p><p>寻找适用于你的系统的文件，下载下来并执行即可。默认服务端将会在你的主机12346端口上开放，如果需要自定义端口，请使用<code>--port</code>参数指定端口。然后即可使用Phira来填写IP/域名:端口来连接</p><p>*如果要显示Log，请使用 <code>RUST_LOG=debug ./xxx</code> 去运行，默认日志等级是 <code>WARN</code></p><p>如果这些文件不适用于你正在使用的系统请前往<a href=\"#%E8%87%AA%E8%A1%8C%E6%9E%84%E5%BB%BA%E9%AB%98%E7%BA%A7\">自行构建（高级）</a>继续阅读</p></section>\n<section><h1 id=\"自行构建高级\">自行构建（高级）<a class=\"anchor\" href=\"#自行构建高级\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>由于phira-mp使用Rust编写，若想要自行构建需要在你的操作系统上安装Rust环境</p><section><h2 id=\"对于windows\">对于Windows<a class=\"anchor\" href=\"#对于windows\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往<a href=\"https://www.rust-lang.org/zh-CN/learn/get-started\" rel=\"nofollow\" target=\"_blank\">Rust 下载页</a>，下载 Rust  <img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-11-06-09-57-44-6b333b87e835dfa299b0c3c95e5ea4e0.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\">\n打开后会弹出一个 CMD 窗口，输入 1（Quick Install）回车，等待 Visual Studio 安装（如果此步 Visual Studio 下载很慢也可以<a href=\"https://visualstudio.microsoft.com/zh-hans/downloads/\" rel=\"nofollow\" target=\"_blank\">手动下载</a>）</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-11-06-09-57-49-61b4d36dc8cd1ce47da66be5e2a920cd.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\">在 Visual Studio 中，勾选<strong>使用 C++ 的桌面开发</strong>，然后安装<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-11-06-09-58-05-390c775c83dc245b0690fda699bfee5f.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\">然后请跳过 Linux 教程直接阅读<a href=\"\">构建 phira-mp</a></p></section><section><h2 id=\"对于linux\">对于Linux<a class=\"anchor\" href=\"#对于linux\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>执行：<code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></p><p>选择 1 回车</p><p>执行：<code>source $HOME/.cargo/env</code></p></section></section>\n<section><h1 id=\"使用rust构建phira-mp\">使用Rust构建phira-mp<a class=\"anchor\" href=\"#使用rust构建phira-mp\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>克隆仓库：<code>git clone https://github.com/TeamFlos/phira-mp.git</code>（不支持IPv6）或<code>git clone https://github.com/afoim/phira-mp-autobuild.git</code>（支持IPv6）</p><p><code>cd phira-mp</code>或<code>cd phira-mp-autobuild</code></p><p>更新依赖：<code>cargo update</code></p><p>构建：<code>cargo build --release -p phira-mp-server</code></p><p>运行程序并将 log 打印到终端，会显示你监听的端口：<code>RUST_LOG=info target/release/phira-mp-server</code><br>\n（如果你需要指定端口号：<code>RUST_LOG=info target/release/phira-mp-server --port 8080</code>）</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-11-06-10-14-36-0dce4358b21773ae1261e7fc39339c32.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section>","metadata":{"headings":[{"depth":1,"slug":"直接下载服务端文件并运行","text":"直接下载服务端文件并运行#"},{"depth":1,"slug":"自行构建高级","text":"自行构建（高级）#"},{"depth":2,"slug":"对于windows","text":"对于Windows#"},{"depth":2,"slug":"对于linux","text":"对于Linux#"},{"depth":1,"slug":"使用rust构建phira-mp","text":"使用Rust构建phira-mp#"}],"localImagePaths":["../assets/images/2024-11-06-08-28-34-image.webp","../assets/images/2024-11-06-09-57-44-6b333b87e835dfa299b0c3c95e5ea4e0.webp","../assets/images/2024-11-06-09-57-49-61b4d36dc8cd1ce47da66be5e2a920cd.webp","../assets/images/2024-11-06-09-58-05-390c775c83dc245b0690fda699bfee5f.webp","../assets/images/2024-11-06-10-14-36-0dce4358b21773ae1261e7fc39339c32.webp"],"remoteImagePaths":[],"frontmatter":{"category":"教程","description":"懒人可以直接下载预构建的可执行文件，但如果想获得日志需要自备Rust环境","draft":false,"image":"../assets/images/2024-11-06-08-20-39-image.webp","lang":"","published":"2024-11-06T00:00:00.000Z","tags":["Phira"],"title":"Phira多人联机服务器搭建/使用教程","minutes":2,"words":408,"excerpt":"https://github.com/afoim/phira-mp-autobuild"},"imagePaths":["../assets/images/2024-11-06-08-28-34-image.webp","../assets/images/2024-11-06-09-57-44-6b333b87e835dfa299b0c3c95e5ea4e0.webp","../assets/images/2024-11-06-09-57-49-61b4d36dc8cd1ce47da66be5e2a920cd.webp","../assets/images/2024-11-06-09-58-05-390c775c83dc245b0690fda699bfee5f.webp","../assets/images/2024-11-06-10-14-36-0dce4358b21773ae1261e7fc39339c32.webp"]}},"collection":"posts","slug":"phira-mp"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 50ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/across-nat/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  究极喂饭教程，手把手教你内网穿透 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-28</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Zerotier/" aria-label="View all posts with the Zerotier tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Zerotier </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Tailscale/" aria-label="View all posts with the Tailscale tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Tailscale </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Cloudflare Tunnel/" aria-label="View all posts with the Cloudflare Tunnel tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Cloudflare Tunnel </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/STUN/" aria-label="View all posts with the STUN tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> STUN </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 使用Zerotier，Tailscale，Cloudflare Tunnel可以实现多种内网穿透，其中有适用于个人访问的，也有适用于公众访问的 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">1879 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">9 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-across-nat" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/across-nat/" aria-label="究极喂饭教程，手把手教你内网穿透" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/2024-10-28-17-00-25-image.CSsoOyOp_ZkMD83.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="2526" height="1366" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"across-nat.md","data":{"title":"究极喂饭教程，手把手教你内网穿透","published":"2024-10-28T00:00:00.000Z","draft":false,"description":"使用Zerotier，Tailscale，Cloudflare Tunnel可以实现多种内网穿透，其中有适用于个人访问的，也有适用于公众访问的","image":"../assets/images/2024-10-28-17-00-25-image.webp","tags":["Zerotier","Tailscale","Cloudflare Tunnel","STUN"],"lang":"","pinned":false,"prevTitle":"N100 - PVE（fnOS+Debian）基建记录","prevSlug":"n100-pve","nextTitle":"Phira多人联机服务器搭建/使用教程","nextSlug":"phira-mp"},"body":"# 经实测，Zerotier的打洞能力明显优于Tailscale，所以建议通过Zerotier来实现内网穿透\n\n详细报表：\n| | Zerotier | Tailscale |\n| ----------- | ----------- | ----------- |\n| 单端DMZ（单端NAT1） | STUN |STUN |\n| 仅单端UPnP（单端NAT3） | UDP P2P | 玄学穿透 |\n| 双端UPnP（双端NAT3） | UDP P2P | 玄学穿透 |\n| 双端无UPnP/DMZ（双端NAT3/NAT4） | UDP P2P | 无法穿透|\n| 自建中继/握手节点 | √ | √|\n\n其实实际情况会更加复杂一点，但是你只要有 **公网IPv6、UPnP、DMZ** 中的其中一项，Zerotier就几乎是100%的打洞成功率\n\n如何知道我是P2P还是中继？\nping你的对端设备，如果延迟大于200ms或者经常丢包大概率就是中继节点（也有小概率是你的设备负载过高导致无法及时接收和返回ping包）\n\n# 啥是内网穿透？\n\n当我们在家中有个NAS，想要在学校/公司的网络来访问，就需要用到内网穿透，实现外网访问内网服务。原理一般是P2P打洞和服务器中转流量\n\n# 前期准备\n\n路由器开启UPnP![](../assets/images/2024-10-28-17-08-00-image.webp)  \n\n关闭路由器的IPv4，IPv6防火墙 **（可选）**![](../assets/images/2024-10-28-17-09-19-image.webp)\n\n# *使用Zerotier/Tailscale进行内网穿透*\n\n> 他们俩的原理都是尝试对端建立P2P连接，需要对端安装一个软件并且长期运行\n\n# 使用Zerotier进行内网穿透的详细教程\n\n## 创建Zerotier账号\n\n前往：[ZeroTier | Global Networking Solution for IoT, SD-WAN, and VPN](https://www.zerotier.com/)。如果你进不去，请尝试挂梯子。如果看不懂英文可以开启浏览器的翻译功能![](../assets/images/2024-10-28-17-12-51-image.webp)\n\n选择 `Sign up`![](../assets/images/2024-10-28-17-13-06-image.webp)\n\n如果你到了这个界面，请仍然选择`Sign up`![](../assets/images/2024-10-28-17-15-08-image.webp)\n\n![](../assets/images/2024-10-28-17-16-52-image.webp)\n\n账号创建完毕后，登录即可![](../assets/images/2024-10-28-17-17-47-image.webp)\n\n## 创建一个新的Zerotier网络组\n\n当你账号登录成功后，会自动跳转到这个页面，点击`Create A Network`。如果没有，请访问[ZeroTier Central](https://my.zerotier.com/)\n\n![](../assets/images/2024-10-28-17-20-24-image.webp)\n\n下面的列表会增加一个新的网络组，点击它![](../assets/images/2024-10-28-17-21-31-image.webp)\n\nZerotier默认的网络组模式为`Private`。即私密模式，哪怕别人知道了你的`Network ID`尝试加入你的网络组也需要你进行验证\n\n![](../assets/images/2024-10-28-17-22-38-image.webp)\n\n复制这个`Network ID`![](../assets/images/2024-10-28-17-22-13-image.webp)\n\n---\n\n# 在设备上安装Zerotier应用\n\n## Windows：\n\n前往[Download - ZeroTier](https://www.zerotier.com/download/)，下载exe安装文件![](../assets/images/2024-10-28-17-25-52-image.webp)\n\n打开Zerotier![](../assets/images/2024-10-28-17-27-20-image.webp)\n\n查看右下角托盘，按照图片操作加入网络组![](../assets/images/2024-10-28-17-28-20-image.webp)![](../assets/images/2024-10-28-17-29-12-image.webp)![](../assets/images/2024-10-28-17-30-26-image.webp)\n\n这里可以查询到你的设备ID和你在这个网络组的IP\n\n![](../assets/images/2024-10-28-18-03-19-image.webp)\n\n**然后参考：[Zerotier授权设备](#zerotier授权设备)**\n\n## Linux（飞牛OS）：\n\n通过SSH连接上你的Linux设备\n\n查看安装命令：[Download - ZeroTier](https://www.zerotier.com/download/)![](../assets/images/2024-10-28-17-38-19-image.webp)\n\n终端执行： `curl -s https://install.zerotier.com | sudo bash`\n\n看到这一行即安装完毕，后面那一串即你的设备ID：![](../assets/images/2024-10-28-17-39-23-image.webp)\n\n加入网络：`sudo zerotier-cli join 你的Network ID`![](../assets/images/2024-10-28-17-42-01-image.webp)\n\n**然后参考：[Zerotier授权设备](#zerotier%E6%8E%88%E6%9D%83%E8%AE%BE%E5%A4%87)**\n\n## Android（安卓）\n\n下载客户端\n\n1. Zerotier One：[ZeroTier One APK Download for Android - Latest Version](https://apkpure.net/zerotier-one/com.zerotier.one)\n\n2. ZerotierFix：[Releases · kaaass/ZerotierFix](https://github.com/kaaass/ZerotierFix/releases)\n\n如图操作\n\n![](../assets/images/2024-10-28-17-59-06-image.webp)![](../assets/images/2024-10-28-17-59-46-image.webp)\n\n**然后参考：[Zerotier授权设备](#zerotier%E6%8E%88%E6%9D%83%E8%AE%BE%E5%A4%87)**\n\n---\n\n# Zerotier授权设备\n\n前往Zerotier的网页控制台：[ZeroTier Central]([https://my.zerotier.com/](https://my.zerotier.com/))\n\n授权刚才加入的设备![](../assets/images/2024-10-28-17-31-51-image.webp)\n\n勾选然后保存![](../assets/images/2024-10-28-17-33-10-image.webp)\n\n---\n\n# Zerotier访问测试\n\n如果你同一个网络组里已经有两台以上的设备了，可以尝试ping一下测试连通性，请先确保两台设备不在同一个局域网（比如手机开流量，NAS用家里的无线网）\n\nIP可以在这里查看![](../assets/images/2024-10-28-18-02-00-image.webp)\n\nping测试：![](../assets/images/2024-10-28-18-07-13-image.webp)\n\n---\n\n# 使用Tailscale进行内网穿透的详细教程\n\n## 创建Tailscale账号\n\n前往：[Tailscale](https://login.tailscale.com/start)。如果你进不去，请尝试挂梯子。如果看不懂英文可以开启浏览器的翻译功能\n\n选择任意一个登录方式![](../assets/images/2024-10-28-18-24-32-image.webp)\n\n账号创建完毕后，登录即可\n\n---\n\n# 在设备上安装Tailscale应用\n\n## Windows：\n\n前往[Download · Tailscale](https://tailscale.com/download)，下载exe安装文件\n\n官方教程：![](../assets/images/2024-10-28-18-31-48-image.webp)\n\n## Linux（飞牛OS）：\n\n通过SSH连接上你的Linux设备\n\n查看安装命令：[Download · Tailscale](https://tailscale.com/download/linux)![](../assets/images/2024-10-28-18-32-58-image.webp)\n\n终端执行： `curl -fsSL https://tailscale.com/install.sh | sh`\n\n等待安装完毕后输入：`tailscale login`\n\n打开弹出的浏览器窗口，登录你的账号即可\n\n## Android（安卓）\n\n下载客户端（Google Play）：[Download · Tailscale](https://tailscale.com/download/android)\n\n登录你的账号即可\n\n---\n\n## Tailscale访问测试\n\n前往Tailscale的网页控制台：[Machines - Tailscale](https://login.tailscale.com/admin/machines)。可以查看到每个设备Tailscale分配的IP![](../assets/images/2024-10-28-18-26-58-image.webp)\n\nping测试![](../assets/images/2024-10-28-18-41-45-image.webp)\n\n---\n\n# 使用Cloudflare Tunnel进行内网穿透\n\n> 这种方法可以不进行任何配置直接在公网上被访问，但是仅限Web服务。如果你想穿透游戏服务器等则不可用。你需要先将域名托管到Cloudflare\n\n创建Cloudflare账号[主页 | Cloudflare](https://dash.cloudflare.com/)\n\n进入[Cloudflare One](https://one.dash.cloudflare.com/)（需要绑定PayPal）\n\n如图操作，创建一个Tunnel![](../assets/images/2024-10-28-18-45-41-image.webp)![](../assets/images/2024-10-28-18-45-54-image.webp)![](../assets/images/2024-10-28-18-46-22-image.webp)\n\n## Docker方式\n\n**使用1Panel**\n\n复制如图的命令\n\n![](../assets/images/48e9c43eb5c0fb49cc5517687698e3d9d1e60220.webp)\n\n将其粘贴，并且复制后面的令牌![](../assets/images/a2e18519d3782d765d7293c7a3d21031c787d575.webp)\n\n1Panel应用商店搜索`cloudflared`![](../assets/images/cf2eba61f0aaa7605240187e1c46f80a3954edfa.webp)\n\n填入令牌![](../assets/images/6f661ffa778b2be2e108912d3d44d8b3301df6d6.webp)\n\n然后前往[查看IP](#查看cloudflared的ip)\n\n**使用命令运行**\n\n复制底下的命令然后SSH连接到Linux（飞牛OS）在终端输入\n\n![](../assets/images/2024-10-28-18-46-49-image.webp)\n\n然后前往[查看IP](#%E6%9F%A5%E7%9C%8Bcloudflared%E7%9A%84ip)\n\n### 查看cloudflared的IP\n\n因为我们是Docker模式，所以IP需要通过SSH终端输入`ip a`来查看。我这里是`192.168.124.34`\n\n```\nroot@n100-debian:~# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host noprefixroute\n       valid_lft forever preferred_lft forever\n2: ens18: tiROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether bc:24:11:33:e1:7d brd ff:ff:ff:ff:ff:ff\n    altname enp0s18\n    inet 192.168.124.34/24 brd 192.168.124.255 scope global dynamic ens18\n       valid_lft 46579sec preferred_lft 46579sec\n    inet6 2409:8a30:320:a170:be24:11ff:fe33:e17d/64 scope global dynamic mngtmpaddr\n       valid_lft 1902sec preferred_lft 1898sec\n    inet6 fe80::be24:11ff:fe33:e17d/64 scope link\n       valid_lft forever preferred_lft foreverti\n```\n\n**然后前往[配置并访问Tunnel](#配置并访问tunnel)**\n\n## 原生模式（以Debian为例）\n\n选择Debian，然后复制底下的命令，直接到终端执行\n\n![](../assets/images/2024-10-28-20-00-49-image.webp)\n\n如果你的环境无法连接上Github\n\n尝试手动下载：[https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb)\n\n然后将其通过SSH等方式传到Linux上，如图终端为MobaXterm![](../assets/images/2024-10-29-10-18-29-image.webp)\n\n然后使用：`dpkg -i cloudflared-linux-amd64.deb`安装这个软件包\n\n然后直接复制右边的命令到SSH终端执行![](../assets/images/2024-10-29-10-19-27-3dcfad6977bdecf80fc0366f257788e6.webp)\n\n**然后前往[配置并访问Tunnel](#%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEtunnel)**\n\n## Android（Termux）\n\n在Android上安装[Termux | The main termux site and help pages.](https://termux.dev)\n\n在终端执行：`pkg install cloudflared`\n\n选择`Debian`然后复制最右边的命令到终端执行![](../assets/images/2024-10-29-08-42-38-image.webp)\n如果你无法使用Termux自带的cloudflared，请尝试安装proot容器实现\n\n依次输入命令：\n\n```shell\npkg update && pkg upgrade\npkg install proot\npkg install proot-distro\nproot-distro list\nproot-distro install debian\nproot-distro login debian\napt install wget\nwget https://github.com/cloudflare/cloudflared/releases/download/2024.10.1/cloudflared-linux-arm64.deb\ndpkg -i cloudflared-linux-amd64.deb\n```\n\n然后直接复制右边的命令到SSH终端执行\n\n![](../assets/images/2024-10-29-08-42-38-image.webp)\n\n如果你无法通过令牌配置cloudflared，请参见[本地方式配置cloudflared](#本地方式)\n\n**然后前往[配置并访问Tunnel](#%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEtunnel)**\n\n---\n\n# 配置并访问Tunnel\n\n## 通过网页配置\n\n> 这种方法需要直接在安装了cloudflared的设备上通过令牌运行\n\n如图进入，创建一个HTTP隧道\n\n![](../assets/images/2024-10-28-18-49-21-image.webp)![](../assets/images/2024-10-28-18-49-44-image.webp)\n\n填写你的IP和端口，非Docker模式可以直接填写localhost![](../assets/images/2024-10-28-18-53-37-image.webp)\n\n## 本地方式\n\n> 这种方法只需要在安装了cloudflared的设备上输入一些命令然后通过网页授权，后续更改配置也需要在本地操作\n\n登录并授权：`cloudflared tunnel login`\n\n创建隧道并设置隧道（HTTP模式穿透，目标地址`127.0.0.1`，端口：`8080`，外部域名：`test.onani.cn`）：`cloudflared tunnel --name test --url http://127.0.0.1:8080 --http2 --hostname test.onani.cn`\n\n## 访问测试\n\n成功访问![](../assets/images/2024-10-28-18-54-42-image.webp)\n\n# 使用STUN打洞\n\n> 这种方法可以不进行任何配置直接在公网上被访问，并且所有类型的服务都能正常使用。但是这种方式进行的内网穿透无法固定也无法指定IP和端口，在3~7天后会改变\n\n## 安装Lucky\n\n执行：`curl -o /tmp/install.sh http://6.666666.host:6/files/golucky.sh && sh /tmp/install.sh http://6.666666.host:6/files 2.13.4`\n\n通过`host:16601` 进入Lucky后台，设置STUN穿透。如果DMZ主机不设为Lucky主机可能会失败。打码的地方即公网访问的IP和端口![](../assets/images/2024-10-28-18-56-16-image.webp)","filePath":"src/content/posts/across-nat.md","assetImports":["../assets/images/2024-10-28-17-08-00-image.webp","../assets/images/2024-10-28-17-09-19-image.webp","../assets/images/2024-10-28-17-12-51-image.webp","../assets/images/2024-10-28-17-13-06-image.webp","../assets/images/2024-10-28-17-15-08-image.webp","../assets/images/2024-10-28-17-16-52-image.webp","../assets/images/2024-10-28-17-17-47-image.webp","../assets/images/2024-10-28-17-20-24-image.webp","../assets/images/2024-10-28-17-21-31-image.webp","../assets/images/2024-10-28-17-22-38-image.webp","../assets/images/2024-10-28-17-22-13-image.webp","../assets/images/2024-10-28-17-25-52-image.webp","../assets/images/2024-10-28-17-27-20-image.webp","../assets/images/2024-10-28-17-28-20-image.webp","../assets/images/2024-10-28-17-29-12-image.webp","../assets/images/2024-10-28-17-30-26-image.webp","../assets/images/2024-10-28-18-03-19-image.webp","../assets/images/2024-10-28-17-38-19-image.webp","../assets/images/2024-10-28-17-39-23-image.webp","../assets/images/2024-10-28-17-42-01-image.webp","../assets/images/2024-10-28-17-59-06-image.webp","../assets/images/2024-10-28-17-59-46-image.webp","../assets/images/2024-10-28-17-31-51-image.webp","../assets/images/2024-10-28-17-33-10-image.webp","../assets/images/2024-10-28-18-02-00-image.webp","../assets/images/2024-10-28-18-07-13-image.webp","../assets/images/2024-10-28-18-24-32-image.webp","../assets/images/2024-10-28-18-31-48-image.webp","../assets/images/2024-10-28-18-32-58-image.webp","../assets/images/2024-10-28-18-26-58-image.webp","../assets/images/2024-10-28-18-41-45-image.webp","../assets/images/2024-10-28-18-45-41-image.webp","../assets/images/2024-10-28-18-45-54-image.webp","../assets/images/2024-10-28-18-46-22-image.webp","../assets/images/48e9c43eb5c0fb49cc5517687698e3d9d1e60220.webp","../assets/images/a2e18519d3782d765d7293c7a3d21031c787d575.webp","../assets/images/cf2eba61f0aaa7605240187e1c46f80a3954edfa.webp","../assets/images/6f661ffa778b2be2e108912d3d44d8b3301df6d6.webp","../assets/images/2024-10-28-18-46-49-image.webp","../assets/images/2024-10-28-20-00-49-image.webp","../assets/images/2024-10-29-10-18-29-image.webp","../assets/images/2024-10-29-10-19-27-3dcfad6977bdecf80fc0366f257788e6.webp","../assets/images/2024-10-29-08-42-38-image.webp","../assets/images/2024-10-28-18-49-21-image.webp","../assets/images/2024-10-28-18-49-44-image.webp","../assets/images/2024-10-28-18-53-37-image.webp","../assets/images/2024-10-28-18-54-42-image.webp","../assets/images/2024-10-28-18-56-16-image.webp"],"digest":"6757bc35743d698a","rendered":{"html":"<section><h1 id=\"经实测zerotier的打洞能力明显优于tailscale所以建议通过zerotier来实现内网穿透\">经实测，Zerotier的打洞能力明显优于Tailscale，所以建议通过Zerotier来实现内网穿透<a class=\"anchor\" href=\"#经实测zerotier的打洞能力明显优于tailscale所以建议通过zerotier来实现内网穿透\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>详细报表：</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th></th><th>Zerotier</th><th>Tailscale</th></tr></thead><tbody><tr><td>单端DMZ（单端NAT1）</td><td>STUN</td><td>STUN</td></tr><tr><td>仅单端UPnP（单端NAT3）</td><td>UDP P2P</td><td>玄学穿透</td></tr><tr><td>双端UPnP（双端NAT3）</td><td>UDP P2P</td><td>玄学穿透</td></tr><tr><td>双端无UPnP/DMZ（双端NAT3/NAT4）</td><td>UDP P2P</td><td>无法穿透</td></tr><tr><td>自建中继/握手节点</td><td>√</td><td>√</td></tr></tbody></table><p>其实实际情况会更加复杂一点，但是你只要有 <strong>公网IPv6、UPnP、DMZ</strong> 中的其中一项，Zerotier就几乎是100%的打洞成功率</p><p>如何知道我是P2P还是中继？\nping你的对端设备，如果延迟大于200ms或者经常丢包大概率就是中继节点（也有小概率是你的设备负载过高导致无法及时接收和返回ping包）</p></section>\n<section><h1 id=\"啥是内网穿透\">啥是内网穿透？<a class=\"anchor\" href=\"#啥是内网穿透\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>当我们在家中有个NAS，想要在学校/公司的网络来访问，就需要用到内网穿透，实现外网访问内网服务。原理一般是P2P打洞和服务器中转流量</p></section>\n<section><h1 id=\"前期准备\">前期准备<a class=\"anchor\" href=\"#前期准备\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>路由器开启UPnP<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-08-00-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>关闭路由器的IPv4，IPv6防火墙 <strong>（可选）</strong><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-09-19-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section>\n<section><h1 id=\"使用zerotiertailscale进行内网穿透\"><em>使用Zerotier/Tailscale进行内网穿透</em><a class=\"anchor\" href=\"#使用zerotiertailscale进行内网穿透\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><blockquote>\n<p>他们俩的原理都是尝试对端建立P2P连接，需要对端安装一个软件并且长期运行</p>\n</blockquote></section>\n<section><h1 id=\"使用zerotier进行内网穿透的详细教程\">使用Zerotier进行内网穿透的详细教程<a class=\"anchor\" href=\"#使用zerotier进行内网穿透的详细教程\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"创建zerotier账号\">创建Zerotier账号<a class=\"anchor\" href=\"#创建zerotier账号\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往：<a href=\"https://www.zerotier.com/\" rel=\"nofollow\" target=\"_blank\">ZeroTier | Global Networking Solution for IoT, SD-WAN, and VPN</a>。如果你进不去，请尝试挂梯子。如果看不懂英文可以开启浏览器的翻译功能<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-12-51-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>选择 <code>Sign up</code><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-13-06-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>如果你到了这个界面，请仍然选择<code>Sign up</code><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-15-08-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-16-52-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>账号创建完毕后，登录即可<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-17-47-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section><section><h2 id=\"创建一个新的zerotier网络组\">创建一个新的Zerotier网络组<a class=\"anchor\" href=\"#创建一个新的zerotier网络组\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>当你账号登录成功后，会自动跳转到这个页面，点击<code>Create A Network</code>。如果没有，请访问<a href=\"https://my.zerotier.com/\" rel=\"nofollow\" target=\"_blank\">ZeroTier Central</a></p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-20-24-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>下面的列表会增加一个新的网络组，点击它<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-21-31-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>Zerotier默认的网络组模式为<code>Private</code>。即私密模式，哪怕别人知道了你的<code>Network ID</code>尝试加入你的网络组也需要你进行验证</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-22-38-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>复制这个<code>Network ID</code><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-22-13-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><hr></section></section>\n<section><h1 id=\"在设备上安装zerotier应用\">在设备上安装Zerotier应用<a class=\"anchor\" href=\"#在设备上安装zerotier应用\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"windows\">Windows：<a class=\"anchor\" href=\"#windows\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往<a href=\"https://www.zerotier.com/download/\" rel=\"nofollow\" target=\"_blank\">Download - ZeroTier</a>，下载exe安装文件<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-25-52-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>打开Zerotier<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-27-20-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>查看右下角托盘，按照图片操作加入网络组<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-28-20-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-29-12-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-30-26-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>这里可以查询到你的设备ID和你在这个网络组的IP</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-03-19-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><strong>然后参考：<a href=\"#zerotier%E6%8E%88%E6%9D%83%E8%AE%BE%E5%A4%87\">Zerotier授权设备</a></strong></p></section><section><h2 id=\"linux飞牛os\">Linux（飞牛OS）：<a class=\"anchor\" href=\"#linux飞牛os\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>通过SSH连接上你的Linux设备</p><p>查看安装命令：<a href=\"https://www.zerotier.com/download/\" rel=\"nofollow\" target=\"_blank\">Download - ZeroTier</a><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-38-19-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>终端执行： <code>curl -s https://install.zerotier.com | sudo bash</code></p><p>看到这一行即安装完毕，后面那一串即你的设备ID：<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-39-23-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>加入网络：<code>sudo zerotier-cli join 你的Network ID</code><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-42-01-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><strong>然后参考：<a href=\"#zerotier%E6%8E%88%E6%9D%83%E8%AE%BE%E5%A4%87\">Zerotier授权设备</a></strong></p></section><section><h2 id=\"android安卓\">Android（安卓）<a class=\"anchor\" href=\"#android安卓\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>下载客户端</p><ol>\n<li>\n<p>Zerotier One：<a href=\"https://apkpure.net/zerotier-one/com.zerotier.one\" rel=\"nofollow\" target=\"_blank\">ZeroTier One APK Download for Android - Latest Version</a></p>\n</li>\n<li>\n<p>ZerotierFix：<a href=\"https://github.com/kaaass/ZerotierFix/releases\" rel=\"nofollow\" target=\"_blank\">Releases · kaaass/ZerotierFix</a></p>\n</li>\n</ol><p>如图操作</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-59-06-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-59-46-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><strong>然后参考：<a href=\"#zerotier%E6%8E%88%E6%9D%83%E8%AE%BE%E5%A4%87\">Zerotier授权设备</a></strong></p><hr></section></section>\n<section><h1 id=\"zerotier授权设备\">Zerotier授权设备<a class=\"anchor\" href=\"#zerotier授权设备\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>前往Zerotier的网页控制台：<a href=\"%5Bhttps://my.zerotier.com/%5D(https://my.zerotier.com/)\">ZeroTier Central</a></p><p>授权刚才加入的设备<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-31-51-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>勾选然后保存<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-17-33-10-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><hr></section>\n<section><h1 id=\"zerotier访问测试\">Zerotier访问测试<a class=\"anchor\" href=\"#zerotier访问测试\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>如果你同一个网络组里已经有两台以上的设备了，可以尝试ping一下测试连通性，请先确保两台设备不在同一个局域网（比如手机开流量，NAS用家里的无线网）</p><p>IP可以在这里查看<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-02-00-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>ping测试：<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-07-13-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><hr></section>\n<section><h1 id=\"使用tailscale进行内网穿透的详细教程\">使用Tailscale进行内网穿透的详细教程<a class=\"anchor\" href=\"#使用tailscale进行内网穿透的详细教程\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"创建tailscale账号\">创建Tailscale账号<a class=\"anchor\" href=\"#创建tailscale账号\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往：<a href=\"https://login.tailscale.com/start\" rel=\"nofollow\" target=\"_blank\">Tailscale</a>。如果你进不去，请尝试挂梯子。如果看不懂英文可以开启浏览器的翻译功能</p><p>选择任意一个登录方式<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-24-32-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>账号创建完毕后，登录即可</p><hr></section></section>\n<section><h1 id=\"在设备上安装tailscale应用\">在设备上安装Tailscale应用<a class=\"anchor\" href=\"#在设备上安装tailscale应用\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"windows-1\">Windows：<a class=\"anchor\" href=\"#windows-1\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往<a href=\"https://tailscale.com/download\" rel=\"nofollow\" target=\"_blank\">Download · Tailscale</a>，下载exe安装文件</p><p>官方教程：<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-31-48-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section><section><h2 id=\"linux飞牛os-1\">Linux（飞牛OS）：<a class=\"anchor\" href=\"#linux飞牛os-1\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>通过SSH连接上你的Linux设备</p><p>查看安装命令：<a href=\"https://tailscale.com/download/linux\" rel=\"nofollow\" target=\"_blank\">Download · Tailscale</a><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-32-58-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>终端执行： <code>curl -fsSL https://tailscale.com/install.sh | sh</code></p><p>等待安装完毕后输入：<code>tailscale login</code></p><p>打开弹出的浏览器窗口，登录你的账号即可</p></section><section><h2 id=\"android安卓-1\">Android（安卓）<a class=\"anchor\" href=\"#android安卓-1\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>下载客户端（Google Play）：<a href=\"https://tailscale.com/download/android\" rel=\"nofollow\" target=\"_blank\">Download · Tailscale</a></p><p>登录你的账号即可</p><hr></section><section><h2 id=\"tailscale访问测试\">Tailscale访问测试<a class=\"anchor\" href=\"#tailscale访问测试\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>前往Tailscale的网页控制台：<a href=\"https://login.tailscale.com/admin/machines\" rel=\"nofollow\" target=\"_blank\">Machines - Tailscale</a>。可以查看到每个设备Tailscale分配的IP<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-26-58-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>ping测试<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-41-45-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><hr></section></section>\n<section><h1 id=\"使用cloudflare-tunnel进行内网穿透\">使用Cloudflare Tunnel进行内网穿透<a class=\"anchor\" href=\"#使用cloudflare-tunnel进行内网穿透\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><blockquote>\n<p>这种方法可以不进行任何配置直接在公网上被访问，但是仅限Web服务。如果你想穿透游戏服务器等则不可用。你需要先将域名托管到Cloudflare</p>\n</blockquote><p>创建Cloudflare账号<a href=\"https://dash.cloudflare.com/\" rel=\"nofollow\" target=\"_blank\">主页 | Cloudflare</a></p><p>进入<a href=\"https://one.dash.cloudflare.com/\" rel=\"nofollow\" target=\"_blank\">Cloudflare One</a>（需要绑定PayPal）</p><p>如图操作，创建一个Tunnel<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-45-41-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-45-54-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-46-22-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><section><h2 id=\"docker方式\">Docker方式<a class=\"anchor\" href=\"#docker方式\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p><strong>使用1Panel</strong></p><p>复制如图的命令</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/48e9c43eb5c0fb49cc5517687698e3d9d1e60220.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>将其粘贴，并且复制后面的令牌<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/a2e18519d3782d765d7293c7a3d21031c787d575.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>1Panel应用商店搜索<code>cloudflared</code><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/cf2eba61f0aaa7605240187e1c46f80a3954edfa.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>填入令牌<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/6f661ffa778b2be2e108912d3d44d8b3301df6d6.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>然后前往<a href=\"#%E6%9F%A5%E7%9C%8Bcloudflared%E7%9A%84ip\">查看IP</a></p><p><strong>使用命令运行</strong></p><p>复制底下的命令然后SSH连接到Linux（飞牛OS）在终端输入</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-46-49-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>然后前往<a href=\"#%E6%9F%A5%E7%9C%8Bcloudflared%E7%9A%84ip\">查看IP</a></p><section><h3 id=\"查看cloudflared的ip\">查看cloudflared的IP<a class=\"anchor\" href=\"#查看cloudflared的ip\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>因为我们是Docker模式，所以IP需要通过SSH终端输入<code>ip a</code>来查看。我这里是<code>192.168.124.34</code></p><div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.4l8yc.css\"><script type=\"module\" src=\"/_astro/ec.g1fg5.js\">\x3C/script><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:100ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">root@n100-debian:~# ip a</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">1: lo: &#x3C;LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">inet 127.0.0.1/8 scope host lo</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">       </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">valid_lft forever preferred_lft forever</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">inet6 ::1/128 scope host noprefixroute</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">       </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">valid_lft forever preferred_lft forever</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">2: ens18: tiROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">link/ether bc:24:11:33:e1:7d brd ff:ff:ff:ff:ff:ff</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">altname enp0s18</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">inet 192.168.124.34/24 brd 192.168.124.255 scope global dynamic ens18</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">       </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">valid_lft 46579sec preferred_lft 46579sec</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">inet6 2409:8a30:320:a170:be24:11ff:fe33:e17d/64 scope global dynamic mngtmpaddr</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">       </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">valid_lft 1902sec preferred_lft 1898sec</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">    </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">inet6 fe80::be24:11ff:fe33:e17d/64 scope link</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">       </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">valid_lft forever preferred_lft foreverti</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><p><strong>然后前往<a href=\"#%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEtunnel\">配置并访问Tunnel</a></strong></p></section></section><section><h2 id=\"原生模式以debian为例\">原生模式（以Debian为例）<a class=\"anchor\" href=\"#原生模式以debian为例\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>选择Debian，然后复制底下的命令，直接到终端执行</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-20-00-49-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>如果你的环境无法连接上Github</p><p>尝试手动下载：<a href=\"https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb\" rel=\"nofollow\" target=\"_blank\">https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb</a></p><p>然后将其通过SSH等方式传到Linux上，如图终端为MobaXterm<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-29-10-18-29-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>然后使用：<code>dpkg -i cloudflared-linux-amd64.deb</code>安装这个软件包</p><p>然后直接复制右边的命令到SSH终端执行<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-29-10-19-27-3dcfad6977bdecf80fc0366f257788e6.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><strong>然后前往<a href=\"#%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEtunnel\">配置并访问Tunnel</a></strong></p></section><section><h2 id=\"androidtermux\">Android（Termux）<a class=\"anchor\" href=\"#androidtermux\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>在Android上安装<a href=\"https://termux.dev\" rel=\"nofollow\" target=\"_blank\">Termux | The main termux site and help pages.</a></p><p>在终端执行：<code>pkg install cloudflared</code></p><p>选择<code>Debian</code>然后复制最右边的命令到终端执行<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-29-08-42-38-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\">\n如果你无法使用Termux自带的cloudflared，请尝试安装proot容器实现</p><p>依次输入命令：</p><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:102ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">pkg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">update</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> &#x26;&#x26; </span><span style=\"--0:#B392F0;--1:#B392F0\">pkg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">upgrade</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">pkg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">proot</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">pkg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">proot-distro</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">proot-distro</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">list</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">proot-distro</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">debian</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">proot-distro</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">login</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">debian</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">apt</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">wget</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">wget</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">https://github.com/cloudflare/cloudflared/releases/download/2024.10.1/cloudflared-linux-arm64.deb</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">dpkg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-i</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">cloudflared-linux-amd64.deb</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><p>然后直接复制右边的命令到SSH终端执行</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-29-08-42-38-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:1}\"></p><p>如果你无法通过令牌配置cloudflared，请参见<a href=\"#%E6%9C%AC%E5%9C%B0%E6%96%B9%E5%BC%8F\">本地方式配置cloudflared</a></p><p><strong>然后前往<a href=\"#%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEtunnel\">配置并访问Tunnel</a></strong></p><hr></section></section>\n<section><h1 id=\"配置并访问tunnel\">配置并访问Tunnel<a class=\"anchor\" href=\"#配置并访问tunnel\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"通过网页配置\">通过网页配置<a class=\"anchor\" href=\"#通过网页配置\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><blockquote>\n<p>这种方法需要直接在安装了cloudflared的设备上通过令牌运行</p>\n</blockquote><p>如图进入，创建一个HTTP隧道</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-49-21-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-49-44-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p>填写你的IP和端口，非Docker模式可以直接填写localhost<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-53-37-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section><section><h2 id=\"本地方式\">本地方式<a class=\"anchor\" href=\"#本地方式\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><blockquote>\n<p>这种方法只需要在安装了cloudflared的设备上输入一些命令然后通过网页授权，后续更改配置也需要在本地操作</p>\n</blockquote><p>登录并授权：<code>cloudflared tunnel login</code></p><p>创建隧道并设置隧道（HTTP模式穿透，目标地址<code>127.0.0.1</code>，端口：<code>8080</code>，外部域名：<code>test.onani.cn</code>）：<code>cloudflared tunnel --name test --url http://127.0.0.1:8080 --http2 --hostname test.onani.cn</code></p></section><section><h2 id=\"访问测试\">访问测试<a class=\"anchor\" href=\"#访问测试\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>成功访问<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-54-42-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section></section>\n<section><h1 id=\"使用stun打洞\">使用STUN打洞<a class=\"anchor\" href=\"#使用stun打洞\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><blockquote>\n<p>这种方法可以不进行任何配置直接在公网上被访问，并且所有类型的服务都能正常使用。但是这种方式进行的内网穿透无法固定也无法指定IP和端口，在3~7天后会改变</p>\n</blockquote><section><h2 id=\"安装lucky\">安装Lucky<a class=\"anchor\" href=\"#安装lucky\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>执行：<code>curl -o /tmp/install.sh http://6.666666.host:6/files/golucky.sh &#x26;&#x26; sh /tmp/install.sh http://6.666666.host:6/files 2.13.4</code></p><p>通过<code>host:16601</code> 进入Lucky后台，设置STUN穿透。如果DMZ主机不设为Lucky主机可能会失败。打码的地方即公网访问的IP和端口<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-28-18-56-16-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section></section>","metadata":{"headings":[{"depth":1,"slug":"经实测zerotier的打洞能力明显优于tailscale所以建议通过zerotier来实现内网穿透","text":"经实测，Zerotier的打洞能力明显优于Tailscale，所以建议通过Zerotier来实现内网穿透#"},{"depth":1,"slug":"啥是内网穿透","text":"啥是内网穿透？#"},{"depth":1,"slug":"前期准备","text":"前期准备#"},{"depth":1,"slug":"使用zerotiertailscale进行内网穿透","text":"使用Zerotier/Tailscale进行内网穿透#"},{"depth":1,"slug":"使用zerotier进行内网穿透的详细教程","text":"使用Zerotier进行内网穿透的详细教程#"},{"depth":2,"slug":"创建zerotier账号","text":"创建Zerotier账号#"},{"depth":2,"slug":"创建一个新的zerotier网络组","text":"创建一个新的Zerotier网络组#"},{"depth":1,"slug":"在设备上安装zerotier应用","text":"在设备上安装Zerotier应用#"},{"depth":2,"slug":"windows","text":"Windows：#"},{"depth":2,"slug":"linux飞牛os","text":"Linux（飞牛OS）：#"},{"depth":2,"slug":"android安卓","text":"Android（安卓）#"},{"depth":1,"slug":"zerotier授权设备","text":"Zerotier授权设备#"},{"depth":1,"slug":"zerotier访问测试","text":"Zerotier访问测试#"},{"depth":1,"slug":"使用tailscale进行内网穿透的详细教程","text":"使用Tailscale进行内网穿透的详细教程#"},{"depth":2,"slug":"创建tailscale账号","text":"创建Tailscale账号#"},{"depth":1,"slug":"在设备上安装tailscale应用","text":"在设备上安装Tailscale应用#"},{"depth":2,"slug":"windows-1","text":"Windows：#"},{"depth":2,"slug":"linux飞牛os-1","text":"Linux（飞牛OS）：#"},{"depth":2,"slug":"android安卓-1","text":"Android（安卓）#"},{"depth":2,"slug":"tailscale访问测试","text":"Tailscale访问测试#"},{"depth":1,"slug":"使用cloudflare-tunnel进行内网穿透","text":"使用Cloudflare Tunnel进行内网穿透#"},{"depth":2,"slug":"docker方式","text":"Docker方式#"},{"depth":3,"slug":"查看cloudflared的ip","text":"查看cloudflared的IP#"},{"depth":2,"slug":"原生模式以debian为例","text":"原生模式（以Debian为例）#"},{"depth":2,"slug":"androidtermux","text":"Android（Termux）#"},{"depth":1,"slug":"配置并访问tunnel","text":"配置并访问Tunnel#"},{"depth":2,"slug":"通过网页配置","text":"通过网页配置#"},{"depth":2,"slug":"本地方式","text":"本地方式#"},{"depth":2,"slug":"访问测试","text":"访问测试#"},{"depth":1,"slug":"使用stun打洞","text":"使用STUN打洞#"},{"depth":2,"slug":"安装lucky","text":"安装Lucky#"}],"localImagePaths":["../assets/images/2024-10-28-17-08-00-image.webp","../assets/images/2024-10-28-17-09-19-image.webp","../assets/images/2024-10-28-17-12-51-image.webp","../assets/images/2024-10-28-17-13-06-image.webp","../assets/images/2024-10-28-17-15-08-image.webp","../assets/images/2024-10-28-17-16-52-image.webp","../assets/images/2024-10-28-17-17-47-image.webp","../assets/images/2024-10-28-17-20-24-image.webp","../assets/images/2024-10-28-17-21-31-image.webp","../assets/images/2024-10-28-17-22-38-image.webp","../assets/images/2024-10-28-17-22-13-image.webp","../assets/images/2024-10-28-17-25-52-image.webp","../assets/images/2024-10-28-17-27-20-image.webp","../assets/images/2024-10-28-17-28-20-image.webp","../assets/images/2024-10-28-17-29-12-image.webp","../assets/images/2024-10-28-17-30-26-image.webp","../assets/images/2024-10-28-18-03-19-image.webp","../assets/images/2024-10-28-17-38-19-image.webp","../assets/images/2024-10-28-17-39-23-image.webp","../assets/images/2024-10-28-17-42-01-image.webp","../assets/images/2024-10-28-17-59-06-image.webp","../assets/images/2024-10-28-17-59-46-image.webp","../assets/images/2024-10-28-17-31-51-image.webp","../assets/images/2024-10-28-17-33-10-image.webp","../assets/images/2024-10-28-18-02-00-image.webp","../assets/images/2024-10-28-18-07-13-image.webp","../assets/images/2024-10-28-18-24-32-image.webp","../assets/images/2024-10-28-18-31-48-image.webp","../assets/images/2024-10-28-18-32-58-image.webp","../assets/images/2024-10-28-18-26-58-image.webp","../assets/images/2024-10-28-18-41-45-image.webp","../assets/images/2024-10-28-18-45-41-image.webp","../assets/images/2024-10-28-18-45-54-image.webp","../assets/images/2024-10-28-18-46-22-image.webp","../assets/images/48e9c43eb5c0fb49cc5517687698e3d9d1e60220.webp","../assets/images/a2e18519d3782d765d7293c7a3d21031c787d575.webp","../assets/images/cf2eba61f0aaa7605240187e1c46f80a3954edfa.webp","../assets/images/6f661ffa778b2be2e108912d3d44d8b3301df6d6.webp","../assets/images/2024-10-28-18-46-49-image.webp","../assets/images/2024-10-28-20-00-49-image.webp","../assets/images/2024-10-29-10-18-29-image.webp","../assets/images/2024-10-29-10-19-27-3dcfad6977bdecf80fc0366f257788e6.webp","../assets/images/2024-10-29-08-42-38-image.webp","../assets/images/2024-10-28-18-49-21-image.webp","../assets/images/2024-10-28-18-49-44-image.webp","../assets/images/2024-10-28-18-53-37-image.webp","../assets/images/2024-10-28-18-54-42-image.webp","../assets/images/2024-10-28-18-56-16-image.webp"],"remoteImagePaths":[],"frontmatter":{"category":"教程","description":"使用Zerotier，Tailscale，Cloudflare Tunnel可以实现多种内网穿透，其中有适用于个人访问的，也有适用于公众访问的","draft":false,"image":"../assets/images/2024-10-28-17-00-25-image.webp","lang":"","published":"2024-10-28T00:00:00.000Z","tags":["Zerotier","Tailscale","Cloudflare Tunnel","STUN"],"title":"究极喂饭教程，手把手教你内网穿透","minutes":9,"words":1879,"excerpt":"详细报表："},"imagePaths":["../assets/images/2024-10-28-17-08-00-image.webp","../assets/images/2024-10-28-17-09-19-image.webp","../assets/images/2024-10-28-17-12-51-image.webp","../assets/images/2024-10-28-17-13-06-image.webp","../assets/images/2024-10-28-17-15-08-image.webp","../assets/images/2024-10-28-17-16-52-image.webp","../assets/images/2024-10-28-17-17-47-image.webp","../assets/images/2024-10-28-17-20-24-image.webp","../assets/images/2024-10-28-17-21-31-image.webp","../assets/images/2024-10-28-17-22-38-image.webp","../assets/images/2024-10-28-17-22-13-image.webp","../assets/images/2024-10-28-17-25-52-image.webp","../assets/images/2024-10-28-17-27-20-image.webp","../assets/images/2024-10-28-17-28-20-image.webp","../assets/images/2024-10-28-17-29-12-image.webp","../assets/images/2024-10-28-17-30-26-image.webp","../assets/images/2024-10-28-18-03-19-image.webp","../assets/images/2024-10-28-17-38-19-image.webp","../assets/images/2024-10-28-17-39-23-image.webp","../assets/images/2024-10-28-17-42-01-image.webp","../assets/images/2024-10-28-17-59-06-image.webp","../assets/images/2024-10-28-17-59-46-image.webp","../assets/images/2024-10-28-17-31-51-image.webp","../assets/images/2024-10-28-17-33-10-image.webp","../assets/images/2024-10-28-18-02-00-image.webp","../assets/images/2024-10-28-18-07-13-image.webp","../assets/images/2024-10-28-18-24-32-image.webp","../assets/images/2024-10-28-18-31-48-image.webp","../assets/images/2024-10-28-18-32-58-image.webp","../assets/images/2024-10-28-18-26-58-image.webp","../assets/images/2024-10-28-18-41-45-image.webp","../assets/images/2024-10-28-18-45-41-image.webp","../assets/images/2024-10-28-18-45-54-image.webp","../assets/images/2024-10-28-18-46-22-image.webp","../assets/images/48e9c43eb5c0fb49cc5517687698e3d9d1e60220.webp","../assets/images/a2e18519d3782d765d7293c7a3d21031c787d575.webp","../assets/images/cf2eba61f0aaa7605240187e1c46f80a3954edfa.webp","../assets/images/6f661ffa778b2be2e108912d3d44d8b3301df6d6.webp","../assets/images/2024-10-28-18-46-49-image.webp","../assets/images/2024-10-28-20-00-49-image.webp","../assets/images/2024-10-29-10-18-29-image.webp","../assets/images/2024-10-29-10-19-27-3dcfad6977bdecf80fc0366f257788e6.webp","../assets/images/2024-10-29-08-42-38-image.webp","../assets/images/2024-10-28-18-49-21-image.webp","../assets/images/2024-10-28-18-49-44-image.webp","../assets/images/2024-10-28-18-53-37-image.webp","../assets/images/2024-10-28-18-54-42-image.webp","../assets/images/2024-10-28-18-56-16-image.webp"]}},"collection":"posts","slug":"across-nat"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 100ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/n100-pve/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  N100 - PVE（fnOS+Debian）基建记录 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-28</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/PVE/" aria-label="View all posts with the PVE tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> PVE </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 在N100小主机上安装PVE，然后在其中安装飞牛NAS和Debian，实现追番建站分离，并且易扩展，易迁移 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">1939 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">10 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-n100-pve" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/n100-pve/" aria-label="N100 - PVE（fnOS+Debian）基建记录" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/N100-PVE_cover.DSrIFFcr_IXeE6.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="429" height="300" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"n100-pve.md","data":{"title":"N100 - PVE（fnOS+Debian）基建记录","published":"2024-10-28T00:00:00.000Z","draft":false,"description":"在N100小主机上安装PVE，然后在其中安装飞牛NAS和Debian，实现追番建站分离，并且易扩展，易迁移","image":"../assets/images/N100-PVE_cover.webp","tags":["PVE"],"lang":"","pinned":false,"prevTitle":"使用基于IPFS的Fleek部署静态网站、托管图床、部署服务","prevSlug":"ipfs","nextTitle":"究极喂饭教程，手把手教你内网穿透","nextSlug":"across-nat"},"body":"# 配置&需求\n\n- N100 CPU 频率：最小 700 Mhz, 最大 3400 Mhz | TDP：6 W\n\n- 8G RAM\n\n- 128G M.2 NVme SSD\n\n- 512G SATA HDD\n\n- Realtek R8168 有线网卡\n\n- USB有线网卡\n\n- U盘（作PVE引导盘）\n\n# 目标\n\n1. 所有系统通过PVE管理\n\n2. PVE下安装fnOS，作NAS并配置自动追番（直通：`N100核显` `512G SATA HDD` ）\n\n3. PVE下安装Debian，搭建QQBot、博客、AList\n\n* * *\n\n# 1\\. PVE\n\n## 安装\n\n- 下载Ventoy最新版可执行文件：\n  \n  [https://www.ventoy.net/cn/download.html](https://www.ventoy.net/cn/download.html)\n  \n  - 使用GPT分区表，NTFS格式将Ventoy写入U盘\n\n- 下载PVE最新版ISO（使用USTC镜像源）：\n  \n  [https://mirrors.ustc.edu.cn/help/proxmox.html](https://mirrors.ustc.edu.cn/help/proxmox.html)\n  \n  - 将PVE的ISO文件放入U盘根目录\n\n- 插入USB网卡，U盘连接到到N100，开机从U盘启动，进入PVE安装界面，安装PVE。网络配置选择USB网卡\n\n- 重启，进入PVE，通过IP+8006端口进入WebUI，登录进去\n\n## 配置\n\n### 安装PVE快捷管理脚本\n\n- 安装PVE快捷管理脚本：[pve\\_source.tar.gz | AcoFork-AList](https://alist.onani.cn/pve_source.tar.gz) 或 [**https://wwp.lanzoul.com/ivHta1ngmo6d**](https://wwp.lanzoul.com/ivHta1ngmo6d) （密码:i1ws）（来自：在下莫老师）\n  \n  - 解压：`tar zxvf pve_source.tar.gz`\n  \n  - 运行：`./pve_source`\n  \n  - 同意许可协议\n  \n  - 依次执行白框操作![](../assets/images/ea205e1a00e7029dfa4bd7850c5a6a68d6d4c0d9.webp)\n  \n  - 扩容local：`lvextend -rl +100%FREE /dev/pve/root`\n\n### 配置Realtek R8168网卡\n\n> 由于Debian系默认安装R8169驱动，我们需要手动安装R8168驱动，否则无法使用N100小主机自带的有线网口上网\n\n- 下载驱动：\n  \n  [https://www.realtek.com/Download/List?cate\\_id=584](https://www.realtek.com/Download/List?cate_id=584)![](../assets/images/0d8457c7fb0d497e12e2c8b544f07c3c37cf96cd.webp)\n\n- 解压，安装：`sh autorun.sh`\n\n- 查看是否有新的网络接口：`ip a`\n\n- ```shell\n  root@n100-pve:~# ip a\n  ...\n  2: enp3s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master vmbr1 state UP group default qlen 1000\n      link/ether 00:e0:4c:08:91:a6 brd ff:ff:ff:ff:ff:ff\n  ...\n  ```\n\n- 配置网络配置文件：`nano /etc/network/interfaces`\n  \n  ```\n  # network interface settings; autogenerated\n  # Please do NOT modify this file directly, unless you know what\n  # you're doing.\n  #\n  # If you want to manage parts of the network configuration manually,\n  # please utilize the 'source' or 'source-directory' directives to do\n  # so.\n  # PVE will preserve these directives, but will NOT read its network\n  # configuration from sourced files, so do not attempt to move any of\n  # the PVE managed interfaces into external files!\n  \n  auto lo\n  iface lo inet loopback\n  \n  iface wlp1s0 inet manual\n  \n  iface enp3s0 inet manual\n  \n  auto vmbr1\n  iface vmbr1 inet static\n          address 192.168.124.25/24\n          gateway 192.168.124.1\n          bridge-ports enp3s0\n          bridge-stp off\n          bridge-fd 0\n  \n  iface vmbr1 inet6 auto\n          dhcp 1\n          accept_ra 2\n          request_prefix 1\n  \n  source /etc/network/interfaces.d/*\n  ```\n\n- 重启网络服务：`systemctl restart networking`\n\n- 查看ip：`ip a`\n  \n  ```shell\n  root@n100-pve:~# ip a\n  ...\n  2: enp3s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master vmbr1 state UP group default qlen 1000\n      link/ether 00:e0:4c:08:91:a6 brd ff:ff:ff:ff:ff:ff\n  ...\n  4: vmbr1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000\n      link/ether 00:e0:4c:08:91:a6 brd ff:ff:ff:ff:ff:ff\n      inet 192.168.124.25/24 scope global vmbr1\n         valid_lft forever preferred_lft forever\n      inet6 2409:8a30:320:7fc0:2e0:4cff:fe08:91a6/64 scope global dynamic mngtmpaddr\n         valid_lft 2763sec preferred_lft 2762sec\n      inet6 fe80::2e0:4cff:fe08:91a6/64 scope link\n         valid_lft forever preferred_lft forever\n  ```\n\n- 卸除USB网卡\n\n### 配置STUN穿透\n\n#### 路由器设置DMZ主机为PVEIP\n\n- ![](../assets/images/dbeb7980e5fc699c696ffa6f2fda4a17c05ee821.webp) \n\n#### 安装Lucky\n\n- 执行：`curl -o /tmp/install.sh http://6.666666.host:6/files/golucky.sh && sh /tmp/install.sh http://6.666666.host:6/files 2.13.4`\n\n- 通过`host:16601` 进入Lucky后台，设置STUN穿透\n\n- ![](../assets/images/2175839424184aee880b91382bd1fbf3c578d258.webp)\n\n# 2\\. fnOS\n\n## 安装\n\n- 前往官网下载最新版ISO：\n  \n  [https://www.fnnas.com/](https://www.fnnas.com/)\n\n- 上传至PVE：![](../assets/images/073808516d357e099a866c30b4a77954c5b9b458.webp)\n\n- 创建fnOS虚拟机，CPU类型选择host，步骤略\n\n- 直通核显和硬盘：![](../assets/images/08e4f7a3b87ae86334011e1d4c3a384a36ad9866.webp)\n\n- 如果你不知道你的核显和SATA控制器的PCI ID：`lspci`\n  \n  - 可见核显为`00:02.0`，SATA控制器为`00:17.0`\n    \n    ```shell\n    root@n100-pve:~# lspci\n    00:00.0 Host bridge: Intel Corporation Device 461c\n    00:02.0 VGA compatible controller: Intel Corporation Alder Lake-N [UHD Graphics]\n    00:0a.0 Signal processing controller: Intel Corporation Platform Monitoring Technology (rev 01)\n    00:14.0 USB controller: Intel Corporation Alder Lake-N PCH USB 3.2 xHCI Host Controller\n    00:14.2 RAM memory: Intel Corporation Alder Lake-N PCH Shared SRAM\n    00:16.0 Communication controller: Intel Corporation Alder Lake-N PCH HECI Controller\n    00:17.0 SATA controller: Intel Corporation Alder Lake-N SATA AHCI Controller\n    00:1a.0 SD Host controller: Intel Corporation Device 54c4\n    00:1c.0 PCI bridge: Intel Corporation Device 54be\n    00:1d.0 PCI bridge: Intel Corporation Alder Lake-N PCI Express Root Port\n    00:1d.1 PCI bridge: Intel Corporation Alder Lake-N PCI Express Root Port\n    00:1e.0 Communication controller: Intel Corporation Alder Lake-N Serial IO UART Host Controller\n    00:1e.3 Serial bus controller: Intel Corporation Device 54ab\n    00:1f.0 ISA bridge: Intel Corporation Alder Lake-N PCH eSPI Controller\n    00:1f.3 Audio device: Intel Corporation Alder Lake-N PCH High Definition Audio Controller\n    00:1f.4 SMBus: Intel Corporation Alder Lake-N SMBus\n    00:1f.5 Serial bus controller: Intel Corporation Alder Lake-N SPI (flash) Controller\n    01:00.0 Network controller: Intel Corporation Wireless 3160 (rev 83)\n    02:00.0 Non-Volatile memory controller: Realtek Semiconductor Co., Ltd. RTS5765DL NVMe SSD Controller (DRAM-less) (rev 01)\n    03:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 2b)\n    ```\n\n- 启动虚拟机，安装fnOS\n\n## 配置\n\n- 前往飞牛设置，创建储存空间，Linear模式，选择刚才直通的硬盘![](../assets/images/581cf01462df545a8662acbb5e20e1676bd17744.webp)\n\n- 前往飞牛应用中心安装qBittorrent、影视，并且在设置给予目录读取权限![](../assets/images/92a2e0bf25d630db4858775fdbb6c907f419c25d.webp)\n\n- 配置qBittorrent的用户名和密码\n\n- 打开飞牛Docker，初始化\n\n- 拉取并运行AutoBangumi Docker镜像：\n  \n  ```shell\n  docker run -d \\\n  --name=AutoBangumi \\\n  -v /vol1/1000/AutoBangumi/config:/app/config \\\n  -v /vol1/1000/AutoBangumi/data:/app/data \\\n  -p 7892:7892 \\\n  -e TZ=Asia/Shanghai \\\n  -e PUID=$(id -u) \\\n  -e PGID=$(id -g) \\\n  -e UMASK=022 \\\n  --network=bridge \\\n  --dns=8.8.8.8 \\\n  --restart unless-stopped \\\n  ghcr.onani.cn/estrellaxd/auto_bangumi:latest\n  ```\n\n- 进入`host:7892` 让AutoBangumi连接qBittorrent并配置下载地址![](../assets/images/82c4a003d2399f82a7ccf5849cd1d5858d5f1f61.webp)\n\n- 添加RSS。可前往[蜜柑计划 - Mikan Project](https://mikanime.tv/)获得各个字幕组的RSS\n  \n  ![](../assets/images/f36daae968d8043bbcd1e4a2bbb9b9cd2d707cee.webp)\n  \n  注意：使用[蜜柑计划 - Mikan Project](https://mikanime.tv/)时，请订阅单个字幕组的RSS，不要使用个人的RSS，会导致**只能获取到你所有追番的最新一集而不是单个番的全部剧集**\n\n- 打开飞牛影视，初始化并设置媒体库![](../assets/images/269b78c3b7dffe7f8cdb861098f44147552b5eb4.webp)\n  \n  - 注意：如果要刮削旧集旧番，请规范重命名，可以使用自动化工具：[Episode-ReName.zip | AcoFork-AList](https://alist.onani.cn/Episode-ReName.zip)\n    \n    - 一级目录：即qb下载目录，无需重命名\n    \n    - 二级目录：番剧名称\n    \n    - 三级目录：季，如`Season 1`\n    \n    - 四级目录：集和字幕，如`S01E01.mp4` `S01E01.chs.ass`\n\n# 3\\. Debian\n\n## 安装\n\n- 下载Debian12 ISO（USTC镜像源）（建议选择DVD镜像，包更全，安装更快）\n  \n  [https://mirrors.ustc.edu.cn/help/debian-cd.html](https://mirrors.ustc.edu.cn/help/debian-cd.html)\n\n- 上传至PVE，创建Debian虚拟机，CPU类型选择host，步骤略\n\n### 安装1Panel：\n\n[https://1panel.cn/docs/installation/online\\_installation/](https://1panel.cn/docs/installation/online_installation/)\n\n- 在1Panel中安装`Openresty` `MySQL` `Halo` `AList` `Cloudflared` 配置步骤略\n\n### 搭建QQBot\n\n#### 安装OneBotv11协议实现：Lagrange.OneBot\n\n- Docker Run：`docker run -td -p 8081:8081 -v /root/qqbot/lo:/app/data -e UID=$UID -e GID=$(id -g) ghcr.onani.cn/lagrangedev/lagrange.onebot:edge`\n\n- 修改配置文件：`appsettings.json`\n  \n  ```json\n  {\n      \"Logging\": {\n          \"LogLevel\": {\n              \"Default\": \"Information\",\n              \"Microsoft\": \"Warning\",\n              \"Microsoft.Hosting.Lifetime\": \"Information\"\n          }\n      },\n      \"SignServerUrl\": \"\",\n      \"SignProxyUrl\": \"\",\n      \"MusicSignServerUrl\": \"\",\n      \"Account\": {\n          \"Uin\": 0,\n          \"Password\": \"\",\n          \"Protocol\": \"Linux\",\n          \"AutoReconnect\": true,\n          \"GetOptimumServer\": true\n      },\n      \"Message\": {\n          \"IgnoreSelf\": true,\n          \"StringPost\": false\n      },\n      \"QrCode\": {\n          \"ConsoleCompatibilityMode\": false\n      },\n      \"Implementations\": [\n          {\n              \"Type\": \"ReverseWebSocket\",\n              \"Host\": \"192.168.124.34\",\n              \"Port\": 9090,\n              \"Suffix\": \"/onebot/v11/ws\",\n              \"ReconnectInterval\": 5000,\n              \"HeartBeatInterval\": 5000,\n              \"AccessToken\": \"\"\n          }\n      ]\n  }\n  ```\n\n- 重启容器，扫码登录\n\n#### 安装NoneBot2\n\n- 安装pip：`apt install python3-pip`\n\n- 配置pip USTC源：`pip config set global.index-url https://mirrors.ustc.edu.cn/pypi/simple`\n\n- 安装pipx：`apt install pipx`\n\n- 安装nb-cli：`pipx install nb-cli`\n\n- 设置pipx变量：`pipx ensurepath`\n\n- 安装nb bootstrap：`nb self install nb-cli-plugin-bootstrap`\n\n- 创建新NoneBot2项目：`nb bs`\n\n- ```\n  root@n100-debian:~# nb bs\n  加载适配器列表中……\n  请输入项目名称\n  [?] 请输入 > onani\n  [?] 请选择你想要使用的适配器 OneBot V11 (OneBot V11 协议)\n  请输入 Bot 超级用户，超级用户拥有对 Bot 的最高权限（如对接 QQ 填 QQ 号即可）（留空回车结束输入）\n  [?] 第 1 项 > 666\n  [?] 第 2 项 >\n  请输入 Bot 昵称，消息以 Bot 昵称开头可以代替艾特（留空回车结束输入）\n  [?] 第 1 项 >\n  请输入 Bot 命令起始字符，消息以起始符开头将被识别为命令，\n  如果有一个指令为 查询，当该配置项中有 \"/\" 时使用 \"/查询\" 才能够触发，\n  留空将使用默认值 ['', '/', '#']（留空回车结束输入）\n  [?] 第 1 项 >\n  请输入 Bot 命令分隔符，一般用于二级指令，\n  留空将使用默认值 ['.', ' ']（留空回车结束输入）\n  [?] 第 1 项 >\n  请输入 NoneBot2 监听地址，如果要对公网开放，改为 0.0.0.0 即可\n  [?] 请输入 > 0.0.0.0\n  请输入 NoneBot2 监听端口，范围 1 ~ 65535，请保证该端口号与连接端配置相同，或与端口映射配置相关\n  [?] 请输入 > 9090\n  [?] 是否在项目目录中释出快捷启动脚本？ Yes\n  [?] 是否将 localstore 插件的存储路径重定向到项目路径下以便于后续迁移 Bot？ Yes\n  [?] 是否使用超级用户 Ping 指令回复插件？ Yes\n  [?] 是否安装 logpile 插件提供日志记录到文件功能？ Yes\n  [?] 是否在启动脚本中使用 webui 插件启动项目以使用网页管理 NoneBot？（该插件仍在开发中，不推荐用于生产环境） No\n  成功新建项目 onani\n  [?] 是否新建虚拟环境？ Yes\n  正在 /root/onani/.venv 中创建虚拟环境\n  创建虚拟环境成功\n  [?] 是否需要修改或清除 pip 的 PyPI 镜像源配置？ No\n  [?] 是否立即安装项目依赖？ Yes\n  正在安装项目依赖\n  依赖安装成功\n  [?] 请选择需要启用的内置插件\n  项目配置完毕，开始使用吧！\n  ```\n\n# 成果展示（域名已弃用）\n\n![](../assets/images/4b4680cc548e0c59ec18cef537c9b1f5412fbbcd.webp)\n\n[https://blog.onani.cn](https://blog.onani.cn)\n\n[https://alist.onani.cn](https://alist.onani.cn)\n\n![](../assets/images/7c24ff7d54b2e0ccaecce4b2ef79155c54124fa4.webp)","filePath":"src/content/posts/n100-pve.md","assetImports":["../assets/images/ea205e1a00e7029dfa4bd7850c5a6a68d6d4c0d9.webp","../assets/images/0d8457c7fb0d497e12e2c8b544f07c3c37cf96cd.webp","../assets/images/dbeb7980e5fc699c696ffa6f2fda4a17c05ee821.webp","../assets/images/2175839424184aee880b91382bd1fbf3c578d258.webp","../assets/images/073808516d357e099a866c30b4a77954c5b9b458.webp","../assets/images/08e4f7a3b87ae86334011e1d4c3a384a36ad9866.webp","../assets/images/581cf01462df545a8662acbb5e20e1676bd17744.webp","../assets/images/92a2e0bf25d630db4858775fdbb6c907f419c25d.webp","../assets/images/82c4a003d2399f82a7ccf5849cd1d5858d5f1f61.webp","../assets/images/f36daae968d8043bbcd1e4a2bbb9b9cd2d707cee.webp","../assets/images/269b78c3b7dffe7f8cdb861098f44147552b5eb4.webp","../assets/images/4b4680cc548e0c59ec18cef537c9b1f5412fbbcd.webp","../assets/images/7c24ff7d54b2e0ccaecce4b2ef79155c54124fa4.webp"],"digest":"33a9c1bdf8b67f0c","rendered":{"html":"<section><h1 id=\"配置需求\">配置&#x26;需求<a class=\"anchor\" href=\"#配置需求\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ul>\n<li>\n<p>N100 CPU 频率：最小 700 Mhz, 最大 3400 Mhz | TDP：6 W</p>\n</li>\n<li>\n<p>8G RAM</p>\n</li>\n<li>\n<p>128G M.2 NVme SSD</p>\n</li>\n<li>\n<p>512G SATA HDD</p>\n</li>\n<li>\n<p>Realtek R8168 有线网卡</p>\n</li>\n<li>\n<p>USB有线网卡</p>\n</li>\n<li>\n<p>U盘（作PVE引导盘）</p>\n</li>\n</ul></section>\n<section><h1 id=\"目标\">目标<a class=\"anchor\" href=\"#目标\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ol>\n<li>\n<p>所有系统通过PVE管理</p>\n</li>\n<li>\n<p>PVE下安装fnOS，作NAS并配置自动追番（直通：<code>N100核显</code> <code>512G SATA HDD</code> ）</p>\n</li>\n<li>\n<p>PVE下安装Debian，搭建QQBot、博客、AList</p>\n</li>\n</ol><hr></section>\n<section><h1 id=\"1-pve\">1. PVE<a class=\"anchor\" href=\"#1-pve\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"安装\">安装<a class=\"anchor\" href=\"#安装\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><ul>\n<li>\n<p>下载Ventoy最新版可执行文件：</p>\n<p><a href=\"https://www.ventoy.net/cn/download.html\" rel=\"nofollow\" target=\"_blank\">https://www.ventoy.net/cn/download.html</a></p>\n<ul>\n<li>使用GPT分区表，NTFS格式将Ventoy写入U盘</li>\n</ul>\n</li>\n<li>\n<p>下载PVE最新版ISO（使用USTC镜像源）：</p>\n<p><a href=\"https://mirrors.ustc.edu.cn/help/proxmox.html\" rel=\"nofollow\" target=\"_blank\">https://mirrors.ustc.edu.cn/help/proxmox.html</a></p>\n<ul>\n<li>将PVE的ISO文件放入U盘根目录</li>\n</ul>\n</li>\n<li>\n<p>插入USB网卡，U盘连接到到N100，开机从U盘启动，进入PVE安装界面，安装PVE。网络配置选择USB网卡</p>\n</li>\n<li>\n<p>重启，进入PVE，通过IP+8006端口进入WebUI，登录进去</p>\n</li>\n</ul></section><section><h2 id=\"配置\">配置<a class=\"anchor\" href=\"#配置\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><section><h3 id=\"安装pve快捷管理脚本\">安装PVE快捷管理脚本<a class=\"anchor\" href=\"#安装pve快捷管理脚本\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ul>\n<li>\n<p>安装PVE快捷管理脚本：<a href=\"https://alist.onani.cn/pve_source.tar.gz\" rel=\"nofollow\" target=\"_blank\">pve_source.tar.gz | AcoFork-AList</a> 或 <a href=\"https://wwp.lanzoul.com/ivHta1ngmo6d\" rel=\"nofollow\" target=\"_blank\"><strong>https://wwp.lanzoul.com/ivHta1ngmo6d</strong></a> （密码<i1ws></i1ws>）（来自：在下莫老师）</p>\n<ul>\n<li>\n<p>解压：<code>tar zxvf pve_source.tar.gz</code></p>\n</li>\n<li>\n<p>运行：<code>./pve_source</code></p>\n</li>\n<li>\n<p>同意许可协议</p>\n</li>\n<li>\n<p>依次执行白框操作<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/ea205e1a00e7029dfa4bd7850c5a6a68d6d4c0d9.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>扩容local：<code>lvextend -rl +100%FREE /dev/pve/root</code></p>\n</li>\n</ul>\n</li>\n</ul></section><section><h3 id=\"配置realtek-r8168网卡\">配置Realtek R8168网卡<a class=\"anchor\" href=\"#配置realtek-r8168网卡\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><blockquote>\n<p>由于Debian系默认安装R8169驱动，我们需要手动安装R8168驱动，否则无法使用N100小主机自带的有线网口上网</p>\n</blockquote><ul>\n<li>\n<p>下载驱动：</p>\n<p><a href=\"https://www.realtek.com/Download/List?cate_id=584\" rel=\"nofollow\" target=\"_blank\">https://www.realtek.com/Download/List?cate_id=584</a><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/0d8457c7fb0d497e12e2c8b544f07c3c37cf96cd.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>解压，安装：<code>sh autorun.sh</code></p>\n</li>\n<li>\n<p>查看是否有新的网络接口：<code>ip a</code></p>\n</li>\n<li>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.4l8yc.css\"><script type=\"module\" src=\"/_astro/ec.g1fg5.js\">\x3C/script><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:108ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">root@n100-pve:~#</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ip</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">a</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#79B8FF;--1:#79B8FF\">...</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">2:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">enp3s0:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;BROADCAST,MULTICAST,UP,LOWER_UP></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mtu</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1500</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qdisc</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mq</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">master</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">vmbr1</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">state</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">UP</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">group</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">default</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qlen</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1000</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">link/ether</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">00:e0:4c:08:91:a6</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">brd</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ff:ff:ff:ff:ff:ff</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#79B8FF;--1:#79B8FF\">...</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>配置网络配置文件：<code>nano /etc/network/interfaces</code></p>\n<div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:68ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># network interface settings; autogenerated</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># Please do NOT modify this file directly, unless you know what</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># you're doing.</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">#</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># If you want to manage parts of the network configuration manually,</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># please utilize the 'source' or 'source-directory' directives to do</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># so.</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># PVE will preserve these directives, but will NOT read its network</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># configuration from sourced files, so do not attempt to move any of</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\"># the PVE managed interfaces into external files!</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">auto lo</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">iface lo inet loopback</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">iface wlp1s0 inet manual</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">17</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">iface enp3s0 inet manual</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">18</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">19</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">auto vmbr1</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">20</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">iface vmbr1 inet static</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">21</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">address 192.168.124.25/24</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">22</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">gateway 192.168.124.1</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">23</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">bridge-ports enp3s0</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">24</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">bridge-stp off</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">25</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">bridge-fd 0</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">26</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">27</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">iface vmbr1 inet6 auto</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">28</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">dhcp 1</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">29</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">accept_ra 2</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">30</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">        </span></span><span style=\"--0:#e1e4e8;--1:#e1e4e8\">request_prefix 1</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">31</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">32</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">source /etc/network/interfaces.d/*</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>重启网络服务：<code>systemctl restart networking</code></p>\n</li>\n<li>\n<p>查看ip：<code>ip a</code></p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:108ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">root@n100-pve:~#</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ip</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">a</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#79B8FF;--1:#79B8FF\">...</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">2:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">enp3s0:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;BROADCAST,MULTICAST,UP,LOWER_UP></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mtu</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1500</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qdisc</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mq</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">master</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">vmbr1</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">state</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">UP</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">group</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">default</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qlen</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1000</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">link/ether</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">00:e0:4c:08:91:a6</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">brd</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ff:ff:ff:ff:ff:ff</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#79B8FF;--1:#79B8FF\">...</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">4:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">vmbr1:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;BROADCAST,MULTICAST,UP,LOWER_UP></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mtu</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1500</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qdisc</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">noqueue</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">state</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">UP</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">group</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">default</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">qlen</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1000</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">link/ether</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">00:e0:4c:08:91:a6</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">brd</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ff:ff:ff:ff:ff:ff</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">inet</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">192.168.124.25/24</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">scope</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">global</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">vmbr1</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span class=\"indent\">       </span><span style=\"--0:#B392F0;--1:#B392F0\">valid_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">forever</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">preferred_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">forever</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">inet6</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">2409:8a30:320:7fc0:2e0:4cff:fe08:91a6/64</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">scope</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">global</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">dynamic</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">mngtmpaddr</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span class=\"indent\">       </span><span style=\"--0:#B392F0;--1:#B392F0\">valid_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">2763sec</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">preferred_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">2762sec</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#B392F0;--1:#B392F0\">inet6</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">fe80::2e0:4cff:fe08:91a6/64</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">scope</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">link</span></div></div><div class=\"ec-line\" style=\"--ecIndent:7ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span class=\"indent\">       </span><span style=\"--0:#B392F0;--1:#B392F0\">valid_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">forever</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">preferred_lft</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">forever</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>卸除USB网卡</p>\n</li>\n</ul></section><section><h3 id=\"配置stun穿透\">配置STUN穿透<a class=\"anchor\" href=\"#配置stun穿透\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><section><h4 id=\"路由器设置dmz主机为pveip\">路由器设置DMZ主机为PVEIP<a class=\"anchor\" href=\"#路由器设置dmz主机为pveip\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ul>\n<li><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/dbeb7980e5fc699c696ffa6f2fda4a17c05ee821.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></li>\n</ul></section><section><h4 id=\"安装lucky\">安装Lucky<a class=\"anchor\" href=\"#安装lucky\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ul>\n<li>\n<p>执行：<code>curl -o /tmp/install.sh http://6.666666.host:6/files/golucky.sh &#x26;&#x26; sh /tmp/install.sh http://6.666666.host:6/files 2.13.4</code></p>\n</li>\n<li>\n<p>通过<code>host:16601</code> 进入Lucky后台，设置STUN穿透</p>\n</li>\n<li>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2175839424184aee880b91382bd1fbf3c578d258.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n</ul></section></section></section></section>\n<section><h1 id=\"2-fnos\">2. fnOS<a class=\"anchor\" href=\"#2-fnos\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"安装-1\">安装<a class=\"anchor\" href=\"#安装-1\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><ul>\n<li>\n<p>前往官网下载最新版ISO：</p>\n<p><a href=\"https://www.fnnas.com/\" rel=\"nofollow\" target=\"_blank\">https://www.fnnas.com/</a></p>\n</li>\n<li>\n<p>上传至PVE：<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/073808516d357e099a866c30b4a77954c5b9b458.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>创建fnOS虚拟机，CPU类型选择host，步骤略</p>\n</li>\n<li>\n<p>直通核显和硬盘：<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/08e4f7a3b87ae86334011e1d4c3a384a36ad9866.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>如果你不知道你的核显和SATA控制器的PCI ID：<code>lspci</code></p>\n<ul>\n<li>\n<p>可见核显为<code>00:02.0</code>，SATA控制器为<code>00:17.0</code></p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:127ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">root@n100-pve:~#</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">lspci</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:00.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Host</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bridge:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Device</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">461c</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:02.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">VGA</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">compatible</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> [UHD </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Graphics]</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:0a.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Signal</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">processing</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Platform</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Monitoring</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Technology</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> (rev </span><span style=\"--0:#79B8FF;--1:#79B8FF\">01</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">)</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:14.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">USB</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCH</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">USB</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">3.2</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">xHCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Host</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:14.2</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">RAM</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">memory:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCH</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Shared</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SRAM</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:16.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Communication</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCH</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">HECI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:17.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SATA</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SATA</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">AHCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1a.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SD</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Host</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Device</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">54c4</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1c.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bridge:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Device</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">54be</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1d.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bridge:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Express</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Root</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Port</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1d.1</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bridge:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Express</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Root</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Port</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1e.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Communication</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Serial</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">IO</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">UART</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Host</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1e.3</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Serial</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bus</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Device</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">54ab</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1f.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ISA</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bridge:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCH</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">eSPI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1f.3</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Audio</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">device:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCH</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">High</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Definition</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Audio</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">17</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1f.4</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SMBus:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SMBus</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">18</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">00:1f.5</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Serial</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">bus</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Alder</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Lake-N</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SPI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> (flash) Controller</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">19</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">01:00.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Network</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Intel</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Corporation</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Wireless</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">3160</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> (rev </span><span style=\"--0:#79B8FF;--1:#79B8FF\">83</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">)</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">20</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">02:00.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Non-Volatile</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">memory</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Realtek</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Semiconductor</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Co.,</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Ltd.</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">RTS5765DL</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">NVMe</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">SSD</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> (DRAM-less) (</span><span style=\"--0:#B392F0;--1:#B392F0\">rev</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">01</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">)</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">21</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">03:00.0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Ethernet</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">controller:</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Realtek</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Semiconductor</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Co.,</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Ltd.</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">RTL8111/8168/8411</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PCI</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Express</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Gigabit</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Ethernet</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">Controller</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> (rev </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">2b</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">)</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n</ul>\n</li>\n<li>\n<p>启动虚拟机，安装fnOS</p>\n</li>\n</ul></section><section><h2 id=\"配置-1\">配置<a class=\"anchor\" href=\"#配置-1\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><ul>\n<li>\n<p>前往飞牛设置，创建储存空间，Linear模式，选择刚才直通的硬盘<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/581cf01462df545a8662acbb5e20e1676bd17744.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>前往飞牛应用中心安装qBittorrent、影视，并且在设置给予目录读取权限<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/92a2e0bf25d630db4858775fdbb6c907f419c25d.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>配置qBittorrent的用户名和密码</p>\n</li>\n<li>\n<p>打开飞牛Docker，初始化</p>\n</li>\n<li>\n<p>拉取并运行AutoBangumi Docker镜像：</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:46ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">docker</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">run</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-d</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">--name=AutoBangumi </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-v </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/vol1/1000/AutoBangumi/config:/app/config</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-v </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/vol1/1000/AutoBangumi/data:/app/data</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-p </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">7892:7892</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-e </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">TZ=Asia/Shanghai</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-e </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PUID=</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">$(</span><span style=\"--0:#B392F0;--1:#B392F0\">id</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-u</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">) </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-e </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">PGID=</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">$(</span><span style=\"--0:#B392F0;--1:#B392F0\">id</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-g</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">) </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">-e </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">UMASK=</span><span style=\"--0:#79B8FF;--1:#79B8FF\">022</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">--network=bridge </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">--dns=8.8.8.8 </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">--restart </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">unless-stopped</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\\</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">ghcr.onani.cn/estrellaxd/auto_bangumi:latest</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>进入<code>host:7892</code> 让AutoBangumi连接qBittorrent并配置下载地址<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/82c4a003d2399f82a7ccf5849cd1d5858d5f1f61.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>添加RSS。可前往<a href=\"https://mikanime.tv/\" rel=\"nofollow\" target=\"_blank\">蜜柑计划 - Mikan Project</a>获得各个字幕组的RSS</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/f36daae968d8043bbcd1e4a2bbb9b9cd2d707cee.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>注意：使用<a href=\"https://mikanime.tv/\" rel=\"nofollow\" target=\"_blank\">蜜柑计划 - Mikan Project</a>时，请订阅单个字幕组的RSS，不要使用个人的RSS，会导致<strong>只能获取到你所有追番的最新一集而不是单个番的全部剧集</strong></p>\n</li>\n<li>\n<p>打开飞牛影视，初始化并设置媒体库<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/269b78c3b7dffe7f8cdb861098f44147552b5eb4.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n<ul>\n<li>\n<p>注意：如果要刮削旧集旧番，请规范重命名，可以使用自动化工具：<a href=\"https://alist.onani.cn/Episode-ReName.zip\" rel=\"nofollow\" target=\"_blank\">Episode-ReName.zip | AcoFork-AList</a></p>\n<ul>\n<li>\n<p>一级目录：即qb下载目录，无需重命名</p>\n</li>\n<li>\n<p>二级目录：番剧名称</p>\n</li>\n<li>\n<p>三级目录：季，如<code>Season 1</code></p>\n</li>\n<li>\n<p>四级目录：集和字幕，如<code>S01E01.mp4</code> <code>S01E01.chs.ass</code></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul></section></section>\n<section><h1 id=\"3-debian\">3. Debian<a class=\"anchor\" href=\"#3-debian\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h2 id=\"安装-2\">安装<a class=\"anchor\" href=\"#安装-2\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><ul>\n<li>\n<p>下载Debian12 ISO（USTC镜像源）（建议选择DVD镜像，包更全，安装更快）</p>\n<p><a href=\"https://mirrors.ustc.edu.cn/help/debian-cd.html\" rel=\"nofollow\" target=\"_blank\">https://mirrors.ustc.edu.cn/help/debian-cd.html</a></p>\n</li>\n<li>\n<p>上传至PVE，创建Debian虚拟机，CPU类型选择host，步骤略</p>\n</li>\n</ul><section><h3 id=\"安装1panel\">安装1Panel：<a class=\"anchor\" href=\"#安装1panel\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p><a href=\"https://1panel.cn/docs/installation/online_installation/\" rel=\"nofollow\" target=\"_blank\">https://1panel.cn/docs/installation/online_installation/</a></p><ul>\n<li>在1Panel中安装<code>Openresty</code> <code>MySQL</code> <code>Halo</code> <code>AList</code> <code>Cloudflared</code> 配置步骤略</li>\n</ul></section><section><h3 id=\"搭建qqbot\">搭建QQBot<a class=\"anchor\" href=\"#搭建qqbot\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><section><h4 id=\"安装onebotv11协议实现lagrangeonebot\">安装OneBotv11协议实现：Lagrange.OneBot<a class=\"anchor\" href=\"#安装onebotv11协议实现lagrangeonebot\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ul>\n<li>\n<p>Docker Run：<code>docker run -td -p 8081:8081 -v /root/qqbot/lo:/app/data -e UID=$UID -e GID=$(id -g) ghcr.onani.cn/lagrangedev/lagrange.onebot:edge</code></p>\n</li>\n<li>\n<p>修改配置文件：<code>appsettings.json</code></p>\n<div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"json\" class=\"wrap\" style=\"--ecMaxLine:55ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Logging\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"LogLevel\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Default\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"Information\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Microsoft\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"Warning\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Microsoft.Hosting.Lifetime\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"Information\"</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">        </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">},</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"SignServerUrl\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"SignProxyUrl\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"MusicSignServerUrl\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Account\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Uin\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Password\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Protocol\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"Linux\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"AutoReconnect\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">true</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">17</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"GetOptimumServer\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">true</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">18</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">},</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">19</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Message\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">20</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"IgnoreSelf\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">true</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">21</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"StringPost\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">false</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">22</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">},</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">23</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"QrCode\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">24</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"ConsoleCompatibilityMode\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">false</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">25</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">},</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">26</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Implementations\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: [</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">27</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">        </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">28</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Type\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"ReverseWebSocket\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">29</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Host\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"192.168.124.34\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">30</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Port\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">9090</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">31</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"Suffix\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"/onebot/v11/ws\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">32</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"ReconnectInterval\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">5000</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">33</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"HeartBeatInterval\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">5000</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">34</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"AccessToken\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"\"</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">35</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">        </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">36</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">]</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">37</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>重启容器，扫码登录</p>\n</li>\n</ul></section><section><h4 id=\"安装nonebot2\">安装NoneBot2<a class=\"anchor\" href=\"#安装nonebot2\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ul>\n<li>\n<p>安装pip：<code>apt install python3-pip</code></p>\n</li>\n<li>\n<p>配置pip USTC源：<code>pip config set global.index-url https://mirrors.ustc.edu.cn/pypi/simple</code></p>\n</li>\n<li>\n<p>安装pipx：<code>apt install pipx</code></p>\n</li>\n<li>\n<p>安装nb-cli：<code>pipx install nb-cli</code></p>\n</li>\n<li>\n<p>设置pipx变量：<code>pipx ensurepath</code></p>\n</li>\n<li>\n<p>安装nb bootstrap：<code>nb self install nb-cli-plugin-bootstrap</code></p>\n</li>\n<li>\n<p>创建新NoneBot2项目：<code>nb bs</code></p>\n</li>\n<li>\n<div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:66ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">root@n100-debian:~# nb bs</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">加载适配器列表中……</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入项目名称</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 请输入 > onani</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 请选择你想要使用的适配器 OneBot V11 (OneBot V11 协议)</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 Bot 超级用户，超级用户拥有对 Bot 的最高权限（如对接 QQ 填 QQ 号即可）（留空回车结束输入）</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 第 1 项 > 666</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 第 2 项 ></span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 Bot 昵称，消息以 Bot 昵称开头可以代替艾特（留空回车结束输入）</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 第 1 项 ></span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 Bot 命令起始字符，消息以起始符开头将被识别为命令，</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">如果有一个指令为 查询，当该配置项中有 \"/\" 时使用 \"/查询\" 才能够触发，</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">留空将使用默认值 ['', '/', '#']（留空回车结束输入）</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 第 1 项 ></span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 Bot 命令分隔符，一般用于二级指令，</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">留空将使用默认值 ['.', ' ']（留空回车结束输入）</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">17</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 第 1 项 ></span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">18</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 NoneBot2 监听地址，如果要对公网开放，改为 0.0.0.0 即可</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">19</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 请输入 > 0.0.0.0</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">20</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">请输入 NoneBot2 监听端口，范围 1 ~ 65535，请保证该端口号与连接端配置相同，或与端口映射配置相关</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">21</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 请输入 > 9090</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">22</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否在项目目录中释出快捷启动脚本？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">23</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否将 localstore 插件的存储路径重定向到项目路径下以便于后续迁移 Bot？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">24</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否使用超级用户 Ping 指令回复插件？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">25</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否安装 logpile 插件提供日志记录到文件功能？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">26</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否在启动脚本中使用 webui 插件启动项目以使用网页管理 NoneBot？（该插件仍在开发中，不推荐用于生产环境） No</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">27</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">成功新建项目 onani</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">28</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否新建虚拟环境？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">29</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">正在 /root/onani/.venv 中创建虚拟环境</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">30</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">创建虚拟环境成功</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">31</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否需要修改或清除 pip 的 PyPI 镜像源配置？ No</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">32</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 是否立即安装项目依赖？ Yes</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">33</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">正在安装项目依赖</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">34</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">依赖安装成功</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">35</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">[?] 请选择需要启用的内置插件</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">36</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">项目配置完毕，开始使用吧！</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n</ul></section></section></section></section>\n<section><h1 id=\"成果展示域名已弃用\">成果展示（域名已弃用）<a class=\"anchor\" href=\"#成果展示域名已弃用\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/4b4680cc548e0c59ec18cef537c9b1f5412fbbcd.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><a href=\"https://blog.onani.cn\" rel=\"nofollow\" target=\"_blank\">https://blog.onani.cn</a></p><p><a href=\"https://alist.onani.cn\" rel=\"nofollow\" target=\"_blank\">https://alist.onani.cn</a></p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/7c24ff7d54b2e0ccaecce4b2ef79155c54124fa4.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section>","metadata":{"headings":[{"depth":1,"slug":"配置需求","text":"配置&需求#"},{"depth":1,"slug":"目标","text":"目标#"},{"depth":1,"slug":"1-pve","text":"1. PVE#"},{"depth":2,"slug":"安装","text":"安装#"},{"depth":2,"slug":"配置","text":"配置#"},{"depth":3,"slug":"安装pve快捷管理脚本","text":"安装PVE快捷管理脚本#"},{"depth":3,"slug":"配置realtek-r8168网卡","text":"配置Realtek R8168网卡#"},{"depth":3,"slug":"配置stun穿透","text":"配置STUN穿透#"},{"depth":4,"slug":"路由器设置dmz主机为pveip","text":"路由器设置DMZ主机为PVEIP#"},{"depth":4,"slug":"安装lucky","text":"安装Lucky#"},{"depth":1,"slug":"2-fnos","text":"2. fnOS#"},{"depth":2,"slug":"安装-1","text":"安装#"},{"depth":2,"slug":"配置-1","text":"配置#"},{"depth":1,"slug":"3-debian","text":"3. Debian#"},{"depth":2,"slug":"安装-2","text":"安装#"},{"depth":3,"slug":"安装1panel","text":"安装1Panel：#"},{"depth":3,"slug":"搭建qqbot","text":"搭建QQBot#"},{"depth":4,"slug":"安装onebotv11协议实现lagrangeonebot","text":"安装OneBotv11协议实现：Lagrange.OneBot#"},{"depth":4,"slug":"安装nonebot2","text":"安装NoneBot2#"},{"depth":1,"slug":"成果展示域名已弃用","text":"成果展示（域名已弃用）#"}],"localImagePaths":["../assets/images/ea205e1a00e7029dfa4bd7850c5a6a68d6d4c0d9.webp","../assets/images/0d8457c7fb0d497e12e2c8b544f07c3c37cf96cd.webp","../assets/images/dbeb7980e5fc699c696ffa6f2fda4a17c05ee821.webp","../assets/images/2175839424184aee880b91382bd1fbf3c578d258.webp","../assets/images/073808516d357e099a866c30b4a77954c5b9b458.webp","../assets/images/08e4f7a3b87ae86334011e1d4c3a384a36ad9866.webp","../assets/images/581cf01462df545a8662acbb5e20e1676bd17744.webp","../assets/images/92a2e0bf25d630db4858775fdbb6c907f419c25d.webp","../assets/images/82c4a003d2399f82a7ccf5849cd1d5858d5f1f61.webp","../assets/images/f36daae968d8043bbcd1e4a2bbb9b9cd2d707cee.webp","../assets/images/269b78c3b7dffe7f8cdb861098f44147552b5eb4.webp","../assets/images/4b4680cc548e0c59ec18cef537c9b1f5412fbbcd.webp","../assets/images/7c24ff7d54b2e0ccaecce4b2ef79155c54124fa4.webp"],"remoteImagePaths":[],"frontmatter":{"category":"记录","description":"在N100小主机上安装PVE，然后在其中安装飞牛NAS和Debian，实现追番建站分离，并且易扩展，易迁移","draft":false,"image":"../assets/images/N100-PVE_cover.webp","lang":"","published":"2024-10-28T00:00:00.000Z","tags":["PVE"],"title":"N100 - PVE（fnOS+Debian）基建记录","minutes":10,"words":1939,"excerpt":"https://1panel.cn/docs/installation/online_installation/"},"imagePaths":["../assets/images/ea205e1a00e7029dfa4bd7850c5a6a68d6d4c0d9.webp","../assets/images/0d8457c7fb0d497e12e2c8b544f07c3c37cf96cd.webp","../assets/images/dbeb7980e5fc699c696ffa6f2fda4a17c05ee821.webp","../assets/images/2175839424184aee880b91382bd1fbf3c578d258.webp","../assets/images/073808516d357e099a866c30b4a77954c5b9b458.webp","../assets/images/08e4f7a3b87ae86334011e1d4c3a384a36ad9866.webp","../assets/images/581cf01462df545a8662acbb5e20e1676bd17744.webp","../assets/images/92a2e0bf25d630db4858775fdbb6c907f419c25d.webp","../assets/images/82c4a003d2399f82a7ccf5849cd1d5858d5f1f61.webp","../assets/images/f36daae968d8043bbcd1e4a2bbb9b9cd2d707cee.webp","../assets/images/269b78c3b7dffe7f8cdb861098f44147552b5eb4.webp","../assets/images/4b4680cc548e0c59ec18cef537c9b1f5412fbbcd.webp","../assets/images/7c24ff7d54b2e0ccaecce4b2ef79155c54124fa4.webp"]}},"collection":"posts","slug":"n100-pve"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 150ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/ipfs/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  使用基于IPFS的Fleek部署静态网站、托管图床、部署服务 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-17</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Fleek/" aria-label="View all posts with the Fleek tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Fleek </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/IPFS/" aria-label="View all posts with the IPFS tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> IPFS </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> IPFS是一个多节点的文件托管系统，你可以在上面共享文件、发布网站、而Fleek自动化了这个过程，并且可以链接你的Git存储库 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">1153 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">6 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-ipfs" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/ipfs/" aria-label="使用基于IPFS的Fleek部署静态网站、托管图床、部署服务" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/2024-10-17-09-55-55-image.iqivpaAr_Z2fQGSP.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="2549" height="1361" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"ipfs.md","data":{"title":"使用基于IPFS的Fleek部署静态网站、托管图床、部署服务","published":"2024-10-17T00:00:00.000Z","draft":false,"description":"IPFS是一个多节点的文件托管系统，你可以在上面共享文件、发布网站、而Fleek自动化了这个过程，并且可以链接你的Git存储库","image":"../assets/images/2024-10-17-09-55-55-image.webp","tags":["Fleek","IPFS"],"lang":"","pinned":false,"prevTitle":"教你把AList的前端部署到CF Pages！让你的AList秒加载！","prevSlug":"alist-web","nextTitle":"N100 - PVE（fnOS+Debian）基建记录","nextSlug":"n100-pve"},"body":"> 本文过旧，某些资源可能已经不可用\n\n### 什么是IPFS？\n\n> IPFS，是点到点的超媒体协议，它让网络更快、更安全、更开放。说简单一点，它就是一个去中心化互联网。说技术一点，它是一个基于分布式哈希表DHT进行内容寻址的，基于git模型版本管理的，基于默克尔对象关联的，基于点对点技术的，基于全球化命名空间IPNS的，基于各种技术的，一种分布式文件系统。\n\n用人话说，你可以把它看成一个共享网盘，你可以尝试下载[IPFS - Desktop（适用于有图形界面的系统）](https://github.com/ipfs/ipfs-desktop)或[kubo - ipfs（适用于CLI）](https://github.com/ipfs/kubo)。然后启动IPFS，你的设备将成为IPFS网络中的一个节点，如图![](../assets/images/2024-10-17-10-47-08-image.webp)\n\n### 使用IPFS能做什么？\n\n当你连接到IPFS网络后，IPFS会自动将你的设备作为一个本地IPFS节点并且寻找其他IPFS节点，你将能够帮助其他用户建立连接、提供文件。同时你也可以将你的文件上传到你的IPFS节点，等待分发，让网络上的其他用户可以访问你的文件。在IPFS网络中，访问文件通过IPFS网关，如：`https://ipfs.io/ipfs/` + `CID（文件哈希）` 实现访问。比如： https://ipfs.crossbell.io/ipfs/bafybeifbn36zmdb37ov6id3toy6bve47264hjk2yob6rm4bhw7ooawncf4\n\n（这里使用 `ipfs.crossbell.io` 这个CrossBell托管的IPFS网关来规避GFW封禁）\n\n### 这项技术真的有这么理想吗？\n\n这项技术确实很理想，但是实际应用下来会遇到以下问题\n\n1. 通过本地IPFS节点上传的文件迟迟无法通过IPFS网关+CID实现访问\n\n2. 发现的节点太少\n\n3. 可能会大量占用你的带宽\n\n这些问题大部分原因都是因为这个网络太过于庞大，而单个IPFS节点的权重很低，尽管IPFS的分发一般在几小时内可以完成。但对于个人来说，我们应当寻找一些服务商帮我们完成这些需求，它们往往在IPFS网络中的权重更大，进行文件更新的效率也很高，同时也提供一些扩展服务，比如自动化Git部署。而这篇文章使用的则是**Fleek**\n\n### 关于Fleek\n\n你可以简单理解为它权重很大，有很多的IPFS节点，经由Fleek上传到IPFS网络上的文件可以在几秒内完成广播，并且支持连接Git存储库部署项目和绑定你的域名\n\n### Fleek是否值得信赖？\n\n本人仅接触此服务2天。观察到Fleek在成功部署网站后提供了三类访问方式\n\n1. `xxx-xxx.fleek.app`：这个域名使用了Cloudflare CDN，实测解析IP的数量为2，不建议使用\n\n2. ![](../assets/images/2024-10-17-11-01-49-image.webp)：这种方法是原生的IPFS访问方式。通过IPFS网关+CID来访问。但由于CID为哈希值，当你的网站改动后你的CID会发生变化\n\n3. 绑定自定义域名来访问，这将会使用亚马逊的CDN并且自动映射CID，实测解析IP数量超过30，并且速度很快\n   \n   > [!WARNING]\n   > 注意，任何使用HTTP协议的类ipfs技术都需要一个中心化服务器代理访问IPFS网络。只有当访问者连接上IPFS网络后才会使用去中心化的连接方式）\n- ![](../assets/images/2024-10-17-11-07-40-image.webp)\n\n- 尽管显示了IPFS的文件浏览界面，但实际上这个页面是由HTTP请求到亚马逊 CDN反代IPFS网络实现的，实际上仍为中心化网络\n\n- ![](../assets/images/2024-10-17-11-08-44-image.webp)\n\n- 当你的设备已经连上IPFS网络后，所有流量将使用P2P（去中心化），所以你看到的访问地址实际上是本机地址\n\n### 梳理一下思路，我们可以用Fleek做到什么\n\n让Fleek连接你的Git存储库，通过构建命令构建静态网站，并发布到IPFS，同时兼容HTTP访问\n\n#### 正式开始\n\n1. 前往fleek.xyz，通过MetaMask登录\n\n2. 连接你的Git存储库，输入构建命令等相关信息\n\n3. 部署网站\n\n4. 绑定域名\n\n5. 最终访问\n\n效果图：\n\n![](../assets/images/2024-10-17-11-31-33-image.webp)\n\n#### 拓展一下，我们还可以通过IPFS技术做什么？（域名已弃用）\n\n1. 创建一个巨大的图床，已经投入使用，参见： https://pic.onani.cn （原理：请求 https://ipfs-pic.onani.cn ，获取图片列表，随机选择使用JS展示）![](../assets/images/2024-10-17-11-34-44-image.webp)\n\n2. 无需再自托管任何图片，已经投入使用，本博客所有图片都使用IPFS存储\n\n3. 理论上，你可以将任何占用存储的服务上传到IPFS，实现存算分离","filePath":"src/content/posts/ipfs.md","assetImports":["../assets/images/2024-10-17-10-47-08-image.webp","../assets/images/2024-10-17-11-01-49-image.webp","../assets/images/2024-10-17-11-07-40-image.webp","../assets/images/2024-10-17-11-08-44-image.webp","../assets/images/2024-10-17-11-31-33-image.webp","../assets/images/2024-10-17-11-34-44-image.webp"],"digest":"f4b377d02cb32f1d","rendered":{"html":"<blockquote>\n<p>本文过旧，某些资源可能已经不可用</p>\n</blockquote>\n<section><h3 id=\"什么是ipfs\">什么是IPFS？<a class=\"anchor\" href=\"#什么是ipfs\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><blockquote>\n<p>IPFS，是点到点的超媒体协议，它让网络更快、更安全、更开放。说简单一点，它就是一个去中心化互联网。说技术一点，它是一个基于分布式哈希表DHT进行内容寻址的，基于git模型版本管理的，基于默克尔对象关联的，基于点对点技术的，基于全球化命名空间IPNS的，基于各种技术的，一种分布式文件系统。</p>\n</blockquote><p>用人话说，你可以把它看成一个共享网盘，你可以尝试下载<a href=\"https://github.com/ipfs/ipfs-desktop\" rel=\"nofollow\" target=\"_blank\">IPFS - Desktop（适用于有图形界面的系统）</a>或<a href=\"https://github.com/ipfs/kubo\" rel=\"nofollow\" target=\"_blank\">kubo - ipfs（适用于CLI）</a>。然后启动IPFS，你的设备将成为IPFS网络中的一个节点，如图<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-10-47-08-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section>\n<section><h3 id=\"使用ipfs能做什么\">使用IPFS能做什么？<a class=\"anchor\" href=\"#使用ipfs能做什么\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>当你连接到IPFS网络后，IPFS会自动将你的设备作为一个本地IPFS节点并且寻找其他IPFS节点，你将能够帮助其他用户建立连接、提供文件。同时你也可以将你的文件上传到你的IPFS节点，等待分发，让网络上的其他用户可以访问你的文件。在IPFS网络中，访问文件通过IPFS网关，如：<code>https://ipfs.io/ipfs/</code> + <code>CID（文件哈希）</code> 实现访问。比如： <a href=\"https://ipfs.crossbell.io/ipfs/bafybeifbn36zmdb37ov6id3toy6bve47264hjk2yob6rm4bhw7ooawncf4\" rel=\"nofollow\" target=\"_blank\">https://ipfs.crossbell.io/ipfs/bafybeifbn36zmdb37ov6id3toy6bve47264hjk2yob6rm4bhw7ooawncf4</a></p><p>（这里使用 <code>ipfs.crossbell.io</code> 这个CrossBell托管的IPFS网关来规避GFW封禁）</p></section>\n<section><h3 id=\"这项技术真的有这么理想吗\">这项技术真的有这么理想吗？<a class=\"anchor\" href=\"#这项技术真的有这么理想吗\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>这项技术确实很理想，但是实际应用下来会遇到以下问题</p><ol>\n<li>\n<p>通过本地IPFS节点上传的文件迟迟无法通过IPFS网关+CID实现访问</p>\n</li>\n<li>\n<p>发现的节点太少</p>\n</li>\n<li>\n<p>可能会大量占用你的带宽</p>\n</li>\n</ol><p>这些问题大部分原因都是因为这个网络太过于庞大，而单个IPFS节点的权重很低，尽管IPFS的分发一般在几小时内可以完成。但对于个人来说，我们应当寻找一些服务商帮我们完成这些需求，它们往往在IPFS网络中的权重更大，进行文件更新的效率也很高，同时也提供一些扩展服务，比如自动化Git部署。而这篇文章使用的则是<strong>Fleek</strong></p></section>\n<section><h3 id=\"关于fleek\">关于Fleek<a class=\"anchor\" href=\"#关于fleek\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>你可以简单理解为它权重很大，有很多的IPFS节点，经由Fleek上传到IPFS网络上的文件可以在几秒内完成广播，并且支持连接Git存储库部署项目和绑定你的域名</p></section>\n<section><h3 id=\"fleek是否值得信赖\">Fleek是否值得信赖？<a class=\"anchor\" href=\"#fleek是否值得信赖\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>本人仅接触此服务2天。观察到Fleek在成功部署网站后提供了三类访问方式</p><ol>\n<li>\n<p><code>xxx-xxx.fleek.app</code>：这个域名使用了Cloudflare CDN，实测解析IP的数量为2，不建议使用</p>\n</li>\n<li>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-11-01-49-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\">：这种方法是原生的IPFS访问方式。通过IPFS网关+CID来访问。但由于CID为哈希值，当你的网站改动后你的CID会发生变化</p>\n</li>\n<li>\n<p>绑定自定义域名来访问，这将会使用亚马逊的CDN并且自动映射CID，实测解析IP数量超过30，并且速度很快</p>\n<blockquote class=\"admonition bdm-warning\"><span class=\"bdm-title\">WARNING</span><p>注意，任何使用HTTP协议的类ipfs技术都需要一个中心化服务器代理访问IPFS网络。只有当访问者连接上IPFS网络后才会使用去中心化的连接方式）</p></blockquote>\n</li>\n</ol><ul>\n<li>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-11-07-40-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>尽管显示了IPFS的文件浏览界面，但实际上这个页面是由HTTP请求到亚马逊 CDN反代IPFS网络实现的，实际上仍为中心化网络</p>\n</li>\n<li>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-11-08-44-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>当你的设备已经连上IPFS网络后，所有流量将使用P2P（去中心化），所以你看到的访问地址实际上是本机地址</p>\n</li>\n</ul></section>\n<section><h3 id=\"梳理一下思路我们可以用fleek做到什么\">梳理一下思路，我们可以用Fleek做到什么<a class=\"anchor\" href=\"#梳理一下思路我们可以用fleek做到什么\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p>让Fleek连接你的Git存储库，通过构建命令构建静态网站，并发布到IPFS，同时兼容HTTP访问</p><section><h4 id=\"正式开始\">正式开始<a class=\"anchor\" href=\"#正式开始\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ol>\n<li>\n<p>前往fleek.xyz，通过MetaMask登录</p>\n</li>\n<li>\n<p>连接你的Git存储库，输入构建命令等相关信息</p>\n</li>\n<li>\n<p>部署网站</p>\n</li>\n<li>\n<p>绑定域名</p>\n</li>\n<li>\n<p>最终访问</p>\n</li>\n</ol><p>效果图：</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-11-31-33-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p></section><section><h4 id=\"拓展一下我们还可以通过ipfs技术做什么域名已弃用\">拓展一下，我们还可以通过IPFS技术做什么？（域名已弃用）<a class=\"anchor\" href=\"#拓展一下我们还可以通过ipfs技术做什么域名已弃用\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h4><ol>\n<li>\n<p>创建一个巨大的图床，已经投入使用，参见： <a href=\"https://pic.onani.cn\" rel=\"nofollow\" target=\"_blank\">https://pic.onani.cn</a> （原理：请求 <a href=\"https://ipfs-pic.onani.cn\" rel=\"nofollow\" target=\"_blank\">https://ipfs-pic.onani.cn</a> ，获取图片列表，随机选择使用JS展示）<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-17-11-34-44-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>无需再自托管任何图片，已经投入使用，本博客所有图片都使用IPFS存储</p>\n</li>\n<li>\n<p>理论上，你可以将任何占用存储的服务上传到IPFS，实现存算分离</p>\n</li>\n</ol></section></section>","metadata":{"headings":[{"depth":3,"slug":"什么是ipfs","text":"什么是IPFS？#"},{"depth":3,"slug":"使用ipfs能做什么","text":"使用IPFS能做什么？#"},{"depth":3,"slug":"这项技术真的有这么理想吗","text":"这项技术真的有这么理想吗？#"},{"depth":3,"slug":"关于fleek","text":"关于Fleek#"},{"depth":3,"slug":"fleek是否值得信赖","text":"Fleek是否值得信赖？#"},{"depth":3,"slug":"梳理一下思路我们可以用fleek做到什么","text":"梳理一下思路，我们可以用Fleek做到什么#"},{"depth":4,"slug":"正式开始","text":"正式开始#"},{"depth":4,"slug":"拓展一下我们还可以通过ipfs技术做什么域名已弃用","text":"拓展一下，我们还可以通过IPFS技术做什么？（域名已弃用）#"}],"localImagePaths":["../assets/images/2024-10-17-10-47-08-image.webp","../assets/images/2024-10-17-11-01-49-image.webp","../assets/images/2024-10-17-11-07-40-image.webp","../assets/images/2024-10-17-11-08-44-image.webp","../assets/images/2024-10-17-11-31-33-image.webp","../assets/images/2024-10-17-11-34-44-image.webp"],"remoteImagePaths":[],"frontmatter":{"category":"随笔","description":"IPFS是一个多节点的文件托管系统，你可以在上面共享文件、发布网站、而Fleek自动化了这个过程，并且可以链接你的Git存储库","draft":false,"image":"../assets/images/2024-10-17-09-55-55-image.webp","lang":"","published":"2024-10-17T00:00:00.000Z","tags":["Fleek","IPFS"],"title":"使用基于IPFS的Fleek部署静态网站、托管图床、部署服务","minutes":6,"words":1153,"excerpt":"用人话说，你可以把它看成一个共享网盘，你可以尝试下载IPFS - Desktop（适用于有图形界面的系统）或kubo - ipfs（适用于CLI）。然后启动IPFS，你的设备将成为IPFS网络中的一个节点，如图"},"imagePaths":["../assets/images/2024-10-17-10-47-08-image.webp","../assets/images/2024-10-17-11-01-49-image.webp","../assets/images/2024-10-17-11-07-40-image.webp","../assets/images/2024-10-17-11-08-44-image.webp","../assets/images/2024-10-17-11-31-33-image.webp","../assets/images/2024-10-17-11-34-44-image.webp"]}},"collection":"posts","slug":"ipfs"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 200ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/alist-web/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  教你把AList的前端部署到CF Pages！让你的AList秒加载！ <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-15</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/AList/" aria-label="View all posts with the AList tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> AList </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Cloudflare Pages/" aria-label="View all posts with the Cloudflare Pages tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Cloudflare Pages </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 将AList Web部署到CF Pages可以显著提升访问者的浏览体验，因为静态资源都在CF的边缘节点，而后端使用API交互，而不是由源服务器路由所有流量，既能减轻源服务器的负载，又能使用CF Pages的不回源优势，一箭双雕 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">783 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">4 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-alist-web" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/alist-web/" aria-label="教你把AList的前端部署到CF Pages！让你的AList秒加载！" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/QmSmcktDEJaWdDvFQeuNTJ9ps8R3PcLWyhSrbxoLEq2b2x.D9aymwU__2vJFjz.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="1920" height="1073" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"alist-web.md","data":{"title":"教你把AList的前端部署到CF Pages！让你的AList秒加载！","published":"2024-10-15T00:00:00.000Z","draft":false,"description":"将AList Web部署到CF Pages可以显著提升访问者的浏览体验，因为静态资源都在CF的边缘节点，而后端使用API交互，而不是由源服务器路由所有流量，既能减轻源服务器的负载，又能使用CF Pages的不回源优势，一箭双雕","image":"../assets/images/QmSmcktDEJaWdDvFQeuNTJ9ps8R3PcLWyhSrbxoLEq2b2x.webp","tags":["AList","Cloudflare Pages"],"lang":"","pinned":false,"prevTitle":"傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！","prevSlug":"replay","nextTitle":"使用基于IPFS的Fleek部署静态网站、托管图床、部署服务","nextSlug":"ipfs"},"body":"## 前情提要[#](https://afo.im/shen-me-Cloudflare-dai-li-AList-tai-man--jiao-ni-bu-shu-qian-duan-dao-Pages-ju-jue-hui-yuan-#user-content-%E5%89%8D%E6%83%85%E6%8F%90%E8%A6%81)\n\n本教程**不是 AList 的无服务器部署**，仅将前端页面部署到 Cloudflare Pages，这样用户就能很快从 cf 的边缘节点拉取前端文件，而不用 cf 回源，提高浏览体验，后端仍然需要一台开放到公网的服务器部署 AList（无公网服务器可使用 Cloudflare Tunnels）\n\n### 首先，保证你的后端服务器支持v4v6双栈访问\n\n1. 使用Cloudflare Tunnel，套cf\n\n2. 分别设置A和AAAA解析，麻烦，如果你的IP很快，那其实可以不用前后端分离，暴露源站的前后端分离也不能避免被DDoS，因为你的源站会在HTTP报文中暴露\n\n### 然后，开始正式将AList前端部署到Cloudflare Pages\n\n1. Fork仓库：\n   \n   [https://github.com/alist-org/alist-web](https://github.com/alist-org/alist-web)\n\n2. 更改项目根目录的`env.production`文件为你的后端服务器地址  \n   ![QmduQJq3TydzvLzBn47zLxp2MR1iD2sxm67EzFUFuEBvQa.webp](../assets/images/6f2871ca5d35e1e974d89611835f3a2c7fd205e7.webp)\n\n3. 将仓库克隆到本地，需要安装[Git](https://git-scm.com/)：\n\n```\n使用SSH（需要持有你的Github SSH私钥）：\ngit clone git@github.com:你的用户名/你Fork的仓库\n\n使用HTTPS（Not Use Magic有概率SSL握手失败）：\ngit clone git@github.com:你的用户名/你Fork的仓库\n```\n\n5. 下载汉化包：[AcoFork 的网盘](https://alist.onani.cn/guest/alist_Zh-CN)或[Crowdin - 需要登录](https://crowdin.com/project/alist/zh-CN)  \n   ![QmXVpMc7BqbXv9EaAbeptsrnhYLinvQQsu1btBE3VvDixa.webp](../assets/images/68d31e9797edfc3c1d8a72386ebf3a643d117ce6.webp)\n6. 解压，将`alist (zh-CN)\\src\\lang`里面的`Zh-CN`文件夹复制到仓库下`src/lang`下\n7. 编辑根目录的`.gitignore`，添加一行`!/src/lang/zh-CN/`确保文件不被忽略\n8. 下载[Nodejs](https://nodejs.org/zh-cn)。在根目录打开终端，生成中文需要的文件：\n\n```\n安装cnpm：\nnpm install -g cnpm --registry=https://registry.npmmirror.com\n\n安装依赖：\ncnpm install --legacy-peer-deps\n\n生成中文需要的文件：\nnode .\\scripts\\i18n.mjs\n```\n\n9. 将更改提交到暂存区并提交到远程仓库，在根目录打开终端\n\n```\ngit add .   //将更改提交到暂存区\ngit commit -m 添加中文   //发布提交\ngit push -f   //强制将更改提交到远程仓库\n```\n\n10. 进入[Cloudflare 仪表盘](https://dash.cloudflare.com/)，进入 Workers 和 Pages 页面  \n    ![QmW5UaUap8T2R37u5dzmKGLmUgk4qKnSMFwHBVHqvVbkVA.webp](../assets/images/49ccd51771082fdc94eecb270caf987d257cd987.webp)\n11. 创建一个 Pages，选择连接 Git 存储库  \n    ![QmZXerKv9PVxxscAe4w4LEfAaKfiScPQEKh1UroXnCeAUr.webp](../assets/images/9c4b9ff38d3c8810007ffe33c1a0f98cdd84b92e.webp)\n12. 选择你的存储库，开始设置  \n    ![QmNdSGQrJtoqDnBx8pgDrtcfmUUfVBS9xdrN4xLgyPjyXE.webp](../assets/images/fb97b5148c3811590609a0b85c6c1ee3c451853d.webp)\n13. 构建命令输入：`pnpm install && pnpm build`，构建输出目录选择`/dist`  \n    ![QmbhPdbE8f1zLKvWA6aEGJtZhmecRMVZiQbx6Zx1Lecp7J.webp](../assets/images/c4300a94ccb16fe1383c721cbc83d1a71420e340.webp)\n14. 等待 Cloudflare 构建结束，为 Pages 绑定自定义域  \n    ![QmTMphu61uUF9XefBAVDVf19Jm1vLVUhhXQ9PXABy7hUpK.webp](../assets/images/d27136b31d759898fe06041f12e7a07f07bd06b0.webp)\n15. 访问自定义域，查看 AList 是否正常  \n    ![QmT8GLcaxtabhifKNL8kczEtozmNvdyhzJ823RfBrcFdpm.webp](../assets/images/345df496620a9d3faf0eceeb773813bc9ac98375.webp)\n\n### 定制 AList[#](https://afo.im/shen-me-Cloudflare-dai-li-AList-tai-man--jiao-ni-bu-shu-qian-duan-dao-Pages-ju-jue-hui-yuan-#user-content-%E5%AE%9A%E5%88%B6-alist)\n\n> 我们都知道 AList 支持自定义头部和内容，但是因为 Cloudflare Pages 是一个静态页面，所以我们采用硬编码方式，直接将需要自定义的内容写入仓库根目录的`index.html`  \n> ![Qmd47pgFsyh28NjhkLiCPPbf7iasXMWvAvZDupH8QspG64.webp](../assets/images/c3ff113558b368da9a7aeb70f70b978f49d0eb7a.webp)\n\n1. 编辑根目录的`index.html`\n2. 将更改提交到暂存区并提交到远程仓库，在根目录打开终端\n\n```\ngit add .   //将更改提交到暂存区\ngit commit -m 你的提交摘要   //发布提交\ngit push -f   //强制将更改提交到远程仓库\n```\n\n3. Cloudflare Pages 会自动重新构建，等待新网页构建完成即可  \n   ![QmNZemsDHz5QLxW3V2eANghmVkfBccEpe5vMAWUCLik4o6.webp](../assets/images/863e5bb3ef65ec2a0af03303dd3afe13fb8dd8d4.webp)\n\n### 疑难解答\n\n1. 如果你遇到构建错误（找不到solid-route/src）的情况，可以尝试查看你fork的仓库通过本地拉取下来后根目录的 `solid-route` 文件夹是不是空的，如果是，请前往 https://github.com/alist-org/alist-web 手动将 `solid-route` 文件夹里的内容搬到你仓库中，然后尝试重新构建","filePath":"src/content/posts/alist-web.md","assetImports":["../assets/images/6f2871ca5d35e1e974d89611835f3a2c7fd205e7.webp","../assets/images/68d31e9797edfc3c1d8a72386ebf3a643d117ce6.webp","../assets/images/49ccd51771082fdc94eecb270caf987d257cd987.webp","../assets/images/9c4b9ff38d3c8810007ffe33c1a0f98cdd84b92e.webp","../assets/images/fb97b5148c3811590609a0b85c6c1ee3c451853d.webp","../assets/images/c4300a94ccb16fe1383c721cbc83d1a71420e340.webp","../assets/images/d27136b31d759898fe06041f12e7a07f07bd06b0.webp","../assets/images/345df496620a9d3faf0eceeb773813bc9ac98375.webp","../assets/images/c3ff113558b368da9a7aeb70f70b978f49d0eb7a.webp","../assets/images/863e5bb3ef65ec2a0af03303dd3afe13fb8dd8d4.webp"],"digest":"d4cf465fbb2d2257","rendered":{"html":"<section><h2 id=\"前情提要\">前情提要<a href=\"https://afo.im/shen-me-Cloudflare-dai-li-AList-tai-man--jiao-ni-bu-shu-qian-duan-dao-Pages-ju-jue-hui-yuan-#user-content-%E5%89%8D%E6%83%85%E6%8F%90%E8%A6%81\" rel=\"nofollow\" target=\"_blank\">#</a><a class=\"anchor\" href=\"#前情提要\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>本教程<strong>不是 AList 的无服务器部署</strong>，仅将前端页面部署到 Cloudflare Pages，这样用户就能很快从 cf 的边缘节点拉取前端文件，而不用 cf 回源，提高浏览体验，后端仍然需要一台开放到公网的服务器部署 AList（无公网服务器可使用 Cloudflare Tunnels）</p><section><h3 id=\"首先保证你的后端服务器支持v4v6双栈访问\">首先，保证你的后端服务器支持v4v6双栈访问<a class=\"anchor\" href=\"#首先保证你的后端服务器支持v4v6双栈访问\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>\n<p>使用Cloudflare Tunnel，套cf</p>\n</li>\n<li>\n<p>分别设置A和AAAA解析，麻烦，如果你的IP很快，那其实可以不用前后端分离，暴露源站的前后端分离也不能避免被DDoS，因为你的源站会在HTTP报文中暴露</p>\n</li>\n</ol></section><section><h3 id=\"然后开始正式将alist前端部署到cloudflare-pages\">然后，开始正式将AList前端部署到Cloudflare Pages<a class=\"anchor\" href=\"#然后开始正式将alist前端部署到cloudflare-pages\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>\n<p>Fork仓库：</p>\n<p><a href=\"https://github.com/alist-org/alist-web\" rel=\"nofollow\" target=\"_blank\">https://github.com/alist-org/alist-web</a></p>\n</li>\n<li>\n<p>更改项目根目录的<code>env.production</code>文件为你的后端服务器地址<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/6f2871ca5d35e1e974d89611835f3a2c7fd205e7.webp&#x22;,&#x22;alt&#x22;:&#x22;QmduQJq3TydzvLzBn47zLxp2MR1iD2sxm67EzFUFuEBvQa.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>将仓库克隆到本地，需要安装<a href=\"https://git-scm.com/\" rel=\"nofollow\" target=\"_blank\">Git</a>：</p>\n</li>\n</ol><div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.4l8yc.css\"><script type=\"module\" src=\"/_astro/ec.g1fg5.js\">\x3C/script><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:39ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">使用SSH（需要持有你的Github SSH私钥）：</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git clone git@github.com:你的用户名/你Fork的仓库</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">使用HTTPS（Not Use Magic有概率SSL握手失败）：</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git clone git@github.com:你的用户名/你Fork的仓库</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ol start=\"5\">\n<li>下载汉化包：<a href=\"https://alist.onani.cn/guest/alist_Zh-CN\" rel=\"nofollow\" target=\"_blank\">AcoFork 的网盘</a>或<a href=\"https://crowdin.com/project/alist/zh-CN\" rel=\"nofollow\" target=\"_blank\">Crowdin - 需要登录</a><br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/68d31e9797edfc3c1d8a72386ebf3a643d117ce6.webp&#x22;,&#x22;alt&#x22;:&#x22;QmXVpMc7BqbXv9EaAbeptsrnhYLinvQQsu1btBE3VvDixa.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>解压，将<code>alist (zh-CN)\\src\\lang</code>里面的<code>Zh-CN</code>文件夹复制到仓库下<code>src/lang</code>下</li>\n<li>编辑根目录的<code>.gitignore</code>，添加一行<code>!/src/lang/zh-CN/</code>确保文件不被忽略</li>\n<li>下载<a href=\"https://nodejs.org/zh-cn\" rel=\"nofollow\" target=\"_blank\">Nodejs</a>。在根目录打开终端，生成中文需要的文件：</li>\n</ol><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:61ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">安装cnpm：</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">npm install -g cnpm --registry=https://registry.npmmirror.com</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">安装依赖：</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">cnpm install --legacy-peer-deps</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">生成中文需要的文件：</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">node .\\scripts\\i18n.mjs</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ol start=\"9\">\n<li>将更改提交到暂存区并提交到远程仓库，在根目录打开终端</li>\n</ol><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:28ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git add .   //将更改提交到暂存区</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git commit -m 添加中文   //发布提交</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git push -f   //强制将更改提交到远程仓库</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ol start=\"10\">\n<li>进入<a href=\"https://dash.cloudflare.com/\" rel=\"nofollow\" target=\"_blank\">Cloudflare 仪表盘</a>，进入 Workers 和 Pages 页面<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/49ccd51771082fdc94eecb270caf987d257cd987.webp&#x22;,&#x22;alt&#x22;:&#x22;QmW5UaUap8T2R37u5dzmKGLmUgk4qKnSMFwHBVHqvVbkVA.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>创建一个 Pages，选择连接 Git 存储库<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/9c4b9ff38d3c8810007ffe33c1a0f98cdd84b92e.webp&#x22;,&#x22;alt&#x22;:&#x22;QmZXerKv9PVxxscAe4w4LEfAaKfiScPQEKh1UroXnCeAUr.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>选择你的存储库，开始设置<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/fb97b5148c3811590609a0b85c6c1ee3c451853d.webp&#x22;,&#x22;alt&#x22;:&#x22;QmNdSGQrJtoqDnBx8pgDrtcfmUUfVBS9xdrN4xLgyPjyXE.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>构建命令输入：<code>pnpm install &#x26;&#x26; pnpm build</code>，构建输出目录选择<code>/dist</code><br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/c4300a94ccb16fe1383c721cbc83d1a71420e340.webp&#x22;,&#x22;alt&#x22;:&#x22;QmbhPdbE8f1zLKvWA6aEGJtZhmecRMVZiQbx6Zx1Lecp7J.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>等待 Cloudflare 构建结束，为 Pages 绑定自定义域<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/d27136b31d759898fe06041f12e7a07f07bd06b0.webp&#x22;,&#x22;alt&#x22;:&#x22;QmTMphu61uUF9XefBAVDVf19Jm1vLVUhhXQ9PXABy7hUpK.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n<li>访问自定义域，查看 AList 是否正常<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/345df496620a9d3faf0eceeb773813bc9ac98375.webp&#x22;,&#x22;alt&#x22;:&#x22;QmT8GLcaxtabhifKNL8kczEtozmNvdyhzJ823RfBrcFdpm.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n</ol></section><section><h3 id=\"定制-alist\">定制 AList<a href=\"https://afo.im/shen-me-Cloudflare-dai-li-AList-tai-man--jiao-ni-bu-shu-qian-duan-dao-Pages-ju-jue-hui-yuan-#user-content-%E5%AE%9A%E5%88%B6-alist\" rel=\"nofollow\" target=\"_blank\">#</a><a class=\"anchor\" href=\"#定制-alist\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><blockquote>\n<p>我们都知道 AList 支持自定义头部和内容，但是因为 Cloudflare Pages 是一个静态页面，所以我们采用硬编码方式，直接将需要自定义的内容写入仓库根目录的<code>index.html</code><br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/c3ff113558b368da9a7aeb70f70b978f49d0eb7a.webp&#x22;,&#x22;alt&#x22;:&#x22;Qmd47pgFsyh28NjhkLiCPPbf7iasXMWvAvZDupH8QspG64.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</blockquote><ol>\n<li>编辑根目录的<code>index.html</code></li>\n<li>将更改提交到暂存区并提交到远程仓库，在根目录打开终端</li>\n</ol><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:29ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git add .   //将更改提交到暂存区</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git commit -m 你的提交摘要   //发布提交</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#e1e4e8;--1:#e1e4e8\">git push -f   //强制将更改提交到远程仓库</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ol start=\"3\">\n<li>Cloudflare Pages 会自动重新构建，等待新网页构建完成即可<br>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/863e5bb3ef65ec2a0af03303dd3afe13fb8dd8d4.webp&#x22;,&#x22;alt&#x22;:&#x22;QmNZemsDHz5QLxW3V2eANghmVkfBccEpe5vMAWUCLik4o6.webp&#x22;,&#x22;index&#x22;:0}\"></li>\n</ol></section><section><h3 id=\"疑难解答\">疑难解答<a class=\"anchor\" href=\"#疑难解答\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>如果你遇到构建错误（找不到solid-route/src）的情况，可以尝试查看你fork的仓库通过本地拉取下来后根目录的 <code>solid-route</code> 文件夹是不是空的，如果是，请前往 <a href=\"https://github.com/alist-org/alist-web\" rel=\"nofollow\" target=\"_blank\">https://github.com/alist-org/alist-web</a> 手动将 <code>solid-route</code> 文件夹里的内容搬到你仓库中，然后尝试重新构建</li>\n</ol></section></section>","metadata":{"headings":[{"depth":2,"slug":"前情提要","text":"前情提要##"},{"depth":3,"slug":"首先保证你的后端服务器支持v4v6双栈访问","text":"首先，保证你的后端服务器支持v4v6双栈访问#"},{"depth":3,"slug":"然后开始正式将alist前端部署到cloudflare-pages","text":"然后，开始正式将AList前端部署到Cloudflare Pages#"},{"depth":3,"slug":"定制-alist","text":"定制 AList##"},{"depth":3,"slug":"疑难解答","text":"疑难解答#"}],"localImagePaths":["../assets/images/6f2871ca5d35e1e974d89611835f3a2c7fd205e7.webp","../assets/images/68d31e9797edfc3c1d8a72386ebf3a643d117ce6.webp","../assets/images/49ccd51771082fdc94eecb270caf987d257cd987.webp","../assets/images/9c4b9ff38d3c8810007ffe33c1a0f98cdd84b92e.webp","../assets/images/fb97b5148c3811590609a0b85c6c1ee3c451853d.webp","../assets/images/c4300a94ccb16fe1383c721cbc83d1a71420e340.webp","../assets/images/d27136b31d759898fe06041f12e7a07f07bd06b0.webp","../assets/images/345df496620a9d3faf0eceeb773813bc9ac98375.webp","../assets/images/c3ff113558b368da9a7aeb70f70b978f49d0eb7a.webp","../assets/images/863e5bb3ef65ec2a0af03303dd3afe13fb8dd8d4.webp"],"remoteImagePaths":[],"frontmatter":{"category":"教程","description":"将AList Web部署到CF Pages可以显著提升访问者的浏览体验，因为静态资源都在CF的边缘节点，而后端使用API交互，而不是由源服务器路由所有流量，既能减轻源服务器的负载，又能使用CF Pages的不回源优势，一箭双雕","draft":false,"image":"../assets/images/QmSmcktDEJaWdDvFQeuNTJ9ps8R3PcLWyhSrbxoLEq2b2x.webp","lang":"","published":"2024-10-15T00:00:00.000Z","tags":["AList","Cloudflare Pages"],"title":"教你把AList的前端部署到CF Pages！让你的AList秒加载！","minutes":4,"words":783,"excerpt":"本教程不是 AList 的无服务器部署，仅将前端页面部署到 Cloudflare Pages，这样用户就能很快从 cf 的边缘节点拉取前端文件，而不用 cf 回源，提高浏览体验，后端仍然需要一台开放到公网的服务器部署 AList（无公网服务器可使用 Cloudflare Tunnels）"},"imagePaths":["../assets/images/6f2871ca5d35e1e974d89611835f3a2c7fd205e7.webp","../assets/images/68d31e9797edfc3c1d8a72386ebf3a643d117ce6.webp","../assets/images/49ccd51771082fdc94eecb270caf987d257cd987.webp","../assets/images/9c4b9ff38d3c8810007ffe33c1a0f98cdd84b92e.webp","../assets/images/fb97b5148c3811590609a0b85c6c1ee3c451853d.webp","../assets/images/c4300a94ccb16fe1383c721cbc83d1a71420e340.webp","../assets/images/d27136b31d759898fe06041f12e7a07f07bd06b0.webp","../assets/images/345df496620a9d3faf0eceeb773813bc9ac98375.webp","../assets/images/c3ff113558b368da9a7aeb70f70b978f49d0eb7a.webp","../assets/images/863e5bb3ef65ec2a0af03303dd3afe13fb8dd8d4.webp"]}},"collection":"posts","slug":"alist-web"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 250ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/replay/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！ <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-15</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Replay/" aria-label="View all posts with the Replay tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Replay </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> Replay是一个自动化的AI翻唱软件，用户仅需要提供想要翻唱的歌和RVC模型，Replay会自动进行人声分离，并生成AI翻唱音频，对于新手来说十分友好 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">63 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">1 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-replay" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/replay/" aria-label="傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/e3b7630170caac0dc92e9f62d510c1a8.CZvA7laA_Z6j5pO.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="2496" height="1341" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"replay.md","data":{"title":"傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！","published":"2024-10-15T00:00:00.000Z","draft":false,"description":"Replay是一个自动化的AI翻唱软件，用户仅需要提供想要翻唱的歌和RVC模型，Replay会自动进行人声分离，并生成AI翻唱音频，对于新手来说十分友好","image":"../assets/images/e3b7630170caac0dc92e9f62d510c1a8.webp","tags":["Replay"],"lang":"","pinned":false,"prevTitle":"飞牛NAS玩机体验","prevSlug":"fnos","nextTitle":"教你把AList的前端部署到CF Pages！让你的AList秒加载！","nextSlug":"alist-web"},"body":"### AI翻唱！仅需两步！\n\n1. 前往[Replay | Free AI Voice Cloning and Stemming using RVC Models (tryreplay.io)](https://www.tryreplay.io/)下载Replay\n\n2. 打开Replay，首先根据引导下载数据包（约11G）。然后根据图片操作，选择歌曲和模型，最后点击 `CREATE SONG` 即可！![](../assets/images/59f2cc973405b81324f0472f5309ff6efa682ace.webp)![](../assets/images/2024-10-15-16-40-07-image.webp)","filePath":"src/content/posts/replay.md","assetImports":["../assets/images/59f2cc973405b81324f0472f5309ff6efa682ace.webp","../assets/images/2024-10-15-16-40-07-image.webp"],"digest":"70f70a61652906c2","rendered":{"html":"<section><h3 id=\"ai翻唱仅需两步\">AI翻唱！仅需两步！<a class=\"anchor\" href=\"#ai翻唱仅需两步\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>\n<p>前往<a href=\"https://www.tryreplay.io/\" rel=\"nofollow\" target=\"_blank\">Replay | Free AI Voice Cloning and Stemming using RVC Models (tryreplay.io)</a>下载Replay</p>\n</li>\n<li>\n<p>打开Replay，首先根据引导下载数据包（约11G）。然后根据图片操作，选择歌曲和模型，最后点击 <code>CREATE SONG</code> 即可！<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/59f2cc973405b81324f0472f5309ff6efa682ace.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2024-10-15-16-40-07-image.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n</ol></section>","metadata":{"headings":[{"depth":3,"slug":"ai翻唱仅需两步","text":"AI翻唱！仅需两步！#"}],"localImagePaths":["../assets/images/59f2cc973405b81324f0472f5309ff6efa682ace.webp","../assets/images/2024-10-15-16-40-07-image.webp"],"remoteImagePaths":[],"frontmatter":{"category":"教程","description":"Replay是一个自动化的AI翻唱软件，用户仅需要提供想要翻唱的歌和RVC模型，Replay会自动进行人声分离，并生成AI翻唱音频，对于新手来说十分友好","draft":false,"image":"../assets/images/e3b7630170caac0dc92e9f62d510c1a8.webp","lang":"","published":"2024-10-15T00:00:00.000Z","tags":["Replay"],"title":"傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！","minutes":1,"words":63,"excerpt":""},"imagePaths":["../assets/images/59f2cc973405b81324f0472f5309ff6efa682ace.webp","../assets/images/2024-10-15-16-40-07-image.webp"]}},"collection":"posts","slug":"replay"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 300ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/fnos/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  飞牛NAS玩机体验 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2024-10-14</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/飞牛NAS/" aria-label="View all posts with the 飞牛NAS tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 飞牛NAS </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 飞牛NAS系统是一个现代的开源的NAS系统。影视刮削在国内属于TOP1，并且刚需的Docker软件也功能全面易用，博主本人也在使用 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">537 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">3 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-fnos" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/fnos/" aria-label="飞牛NAS玩机体验" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 --> <img src="/_astro/QmUBuX9qmsNP1NHeEeUmuPNdS5ctvk4LchcSsFARDC4vZJ.DzPhbTlO_1cKT6z.webp" alt="Cover Image of the Post" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" data-astro-cid-i2xmscho="true" width="1920" height="864" loading="lazy" decoding="async" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500">  </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"fnos.md","data":{"title":"飞牛NAS玩机体验","published":"2024-10-14T00:00:00.000Z","draft":false,"description":"飞牛NAS系统是一个现代的开源的NAS系统。影视刮削在国内属于TOP1，并且刚需的Docker软件也功能全面易用，博主本人也在使用","image":"../assets/images/QmUBuX9qmsNP1NHeEeUmuPNdS5ctvk4LchcSsFARDC4vZJ.webp","tags":["飞牛NAS"],"lang":"","pinned":false,"prevTitle":"记录","prevSlug":"record","nextTitle":"傻瓜式AI翻唱软件Replay！选歌！选模型！然后CREATE SONG！","nextSlug":"replay"},"body":"### 吸引我的东西\n\n1. 影视刮削：飞快，薄纱Plex几条街。通过[AutoBangumi](/autobangumi)可以完美自动追番+刮削一条龙服务。偶尔会有不准，但可以手动匹配，数据源来自[TMDB](https://www.themoviedb.org/)和[IMDB](https://www.imdb.com/)\n   ![QmbNXd4FJ8FM8mwkKxJNdBoNbvhawJ2HdSvW5tFUt3o4ub.webp](../assets/images/f1bd7089efdf00097d5474ef967a62dcfca42e98.webp)\n\n2. 相册：可以通过手机APP自动备份，支持仅备份图片，可以多用户使用，存储互不干扰，也可以设置要共享的图片\n   ![QmeLJ7in4xcokPWUgkkSobDLUTrFrXep2o38qUXQ1njQR9.webp](../assets/images/2f9981f8397cc1278807ed28f8a2e15954868fec.webp)\n\n### 注意事项\n\n1. 飞牛NAS在安装的时候会叫你选择安装盘，然后会将安装盘的一部分空间（默认为64GB）作为系统分区，其余空间可用于创建存储空间（但是系统盘不能和别的盘组存储池，只能单独建存储池） \n   ![QmNfRbvHu1fuYoincACcP2MG4yV4pgRni3rb4Y9J7uw4FW.webp](../assets/images/6403ef19d941abdc93d8c7da01364a8983c98109.webp)\n\n2. 应用商店安装的软件需要先授予目录访问权限应用才能读取目录（无论是原生还是Docker应用）\n   ![QmP4unAVra1zy7gkjEzSCYEDAJMMe1BVWPKoVyjYv8b9Ho.webp](../assets/images/79af3b25d8b677b2718c953c0d431ead2f137e1d.webp)\n\n3. 发行版为Debian 12。根目录为系统分区的空间，/vol1 为存储空间1的空间 /vol2 为存储空间2的空间。推荐使用[RaiDrive](https://onani.cn/RaiDrive)或[SSHFS](/SSHFS)挂载Linux目录到Windows\n   ![QmWMQHNpJUUPg9B1Hdw2zmwLx9q6bcS52nUFiB3P9iYvU9.webp](../assets/images/d4ec6f87893f4af5d7eedb2e2a19a784fd6c6f92.webp)\n\n4. SSH需要自己开，账密为NAS管理员账密，建议登上之后改为仅密钥登录，参见：[设置 SSH 通过密钥登录](https://www.runoob.com/w3cnote/set-ssh-login-key.html)\n   ![QmTk3va2NCbYTcVewVjuqjGx6MwMwiUnManrNwxvEq4SBR.webp](../assets/images/9f92130465ab62e912b7404266febc7212e2125b.webp)\n\n5. 各网卡测试\n   \n   | 名称                         | 类型  | 品牌          | 是否免驱       |\n   |:--------------------------:|:---:|:-----------:|:----------:|\n   | Realtek GBE Family （r8168） | 有线  | Realtek（瑞昱） | 否，需要自行安装驱动 |\n   | Realtek 8852BE             | 无线  | Realtek（瑞昱） | 否，需要自行安装驱动 |\n   | Intel AC3160               | 无线  | Intel（英特尔）  | 是          |\n   | USB有线网卡                    | 有线  | Realtek（瑞昱） | 是          |\n\n6. 各存储模式区别\n   \n   | 模式     | 作用                                   | 是否能扩容 | 是否能换盘 | 容灾  | 是否能热备 | 是否能修改存储模式 |\n   |:------:|:------------------------------------:|:-----:|:-----:|:---:|:-----:|:---------:|\n   | Basic  | 将物理硬盘的一部分或者全部作为一个存储池，不可扩容，仅能单盘创建这个模式 | 否     | 否     | 无   | 否     | 是，可转为RAID |\n   | Linear | 将一个或多个物理硬盘的一部分或者全部作为一个存储池，可扩容        | 是     | 否     | 无   | 否     | 否         |\n   | RAID类  | 自行使用搜索引擎搜索，更详细                       | 未测试   | 未测试   | 未测试 | 未测试   | 未测试       |\n   \n   7. NAS迅雷内测码：迅雷牛通","filePath":"src/content/posts/fnos.md","assetImports":["../assets/images/f1bd7089efdf00097d5474ef967a62dcfca42e98.webp","../assets/images/2f9981f8397cc1278807ed28f8a2e15954868fec.webp","../assets/images/6403ef19d941abdc93d8c7da01364a8983c98109.webp","../assets/images/79af3b25d8b677b2718c953c0d431ead2f137e1d.webp","../assets/images/d4ec6f87893f4af5d7eedb2e2a19a784fd6c6f92.webp","../assets/images/9f92130465ab62e912b7404266febc7212e2125b.webp"],"digest":"6f7d643083879177","rendered":{"html":"<section><h3 id=\"吸引我的东西\">吸引我的东西<a class=\"anchor\" href=\"#吸引我的东西\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>\n<p>影视刮削：飞快，薄纱Plex几条街。通过<a href=\"/autobangumi\">AutoBangumi</a>可以完美自动追番+刮削一条龙服务。偶尔会有不准，但可以手动匹配，数据源来自<a href=\"https://www.themoviedb.org/\" rel=\"nofollow\" target=\"_blank\">TMDB</a>和<a href=\"https://www.imdb.com/\" rel=\"nofollow\" target=\"_blank\">IMDB</a>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/f1bd7089efdf00097d5474ef967a62dcfca42e98.webp&#x22;,&#x22;alt&#x22;:&#x22;QmbNXd4FJ8FM8mwkKxJNdBoNbvhawJ2HdSvW5tFUt3o4ub.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>相册：可以通过手机APP自动备份，支持仅备份图片，可以多用户使用，存储互不干扰，也可以设置要共享的图片\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/2f9981f8397cc1278807ed28f8a2e15954868fec.webp&#x22;,&#x22;alt&#x22;:&#x22;QmeLJ7in4xcokPWUgkkSobDLUTrFrXep2o38qUXQ1njQR9.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n</ol></section>\n<section><h3 id=\"注意事项\">注意事项<a class=\"anchor\" href=\"#注意事项\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>\n<p>飞牛NAS在安装的时候会叫你选择安装盘，然后会将安装盘的一部分空间（默认为64GB）作为系统分区，其余空间可用于创建存储空间（但是系统盘不能和别的盘组存储池，只能单独建存储池）\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/6403ef19d941abdc93d8c7da01364a8983c98109.webp&#x22;,&#x22;alt&#x22;:&#x22;QmNfRbvHu1fuYoincACcP2MG4yV4pgRni3rb4Y9J7uw4FW.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>应用商店安装的软件需要先授予目录访问权限应用才能读取目录（无论是原生还是Docker应用）\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/79af3b25d8b677b2718c953c0d431ead2f137e1d.webp&#x22;,&#x22;alt&#x22;:&#x22;QmP4unAVra1zy7gkjEzSCYEDAJMMe1BVWPKoVyjYv8b9Ho.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>发行版为Debian 12。根目录为系统分区的空间，/vol1 为存储空间1的空间 /vol2 为存储空间2的空间。推荐使用<a href=\"https://onani.cn/RaiDrive\" rel=\"nofollow\" target=\"_blank\">RaiDrive</a>或<a href=\"/SSHFS\">SSHFS</a>挂载Linux目录到Windows\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/d4ec6f87893f4af5d7eedb2e2a19a784fd6c6f92.webp&#x22;,&#x22;alt&#x22;:&#x22;QmWMQHNpJUUPg9B1Hdw2zmwLx9q6bcS52nUFiB3P9iYvU9.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>SSH需要自己开，账密为NAS管理员账密，建议登上之后改为仅密钥登录，参见：<a href=\"https://www.runoob.com/w3cnote/set-ssh-login-key.html\" rel=\"nofollow\" target=\"_blank\">设置 SSH 通过密钥登录</a>\n<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/9f92130465ab62e912b7404266febc7212e2125b.webp&#x22;,&#x22;alt&#x22;:&#x22;QmTk3va2NCbYTcVewVjuqjGx6MwMwiUnManrNwxvEq4SBR.webp&#x22;,&#x22;index&#x22;:0}\"></p>\n</li>\n<li>\n<p>各网卡测试</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th align=\"center\">名称</th><th align=\"center\">类型</th><th align=\"center\">品牌</th><th align=\"center\">是否免驱</th></tr></thead><tbody><tr><td align=\"center\">Realtek GBE Family （r8168）</td><td align=\"center\">有线</td><td align=\"center\">Realtek（瑞昱）</td><td align=\"center\">否，需要自行安装驱动</td></tr><tr><td align=\"center\">Realtek 8852BE</td><td align=\"center\">无线</td><td align=\"center\">Realtek（瑞昱）</td><td align=\"center\">否，需要自行安装驱动</td></tr><tr><td align=\"center\">Intel AC3160</td><td align=\"center\">无线</td><td align=\"center\">Intel（英特尔）</td><td align=\"center\">是</td></tr><tr><td align=\"center\">USB有线网卡</td><td align=\"center\">有线</td><td align=\"center\">Realtek（瑞昱）</td><td align=\"center\">是</td></tr></tbody></table>\n</li>\n<li>\n<p>各存储模式区别</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th align=\"center\">模式</th><th align=\"center\">作用</th><th align=\"center\">是否能扩容</th><th align=\"center\">是否能换盘</th><th align=\"center\">容灾</th><th align=\"center\">是否能热备</th><th align=\"center\">是否能修改存储模式</th></tr></thead><tbody><tr><td align=\"center\">Basic</td><td align=\"center\">将物理硬盘的一部分或者全部作为一个存储池，不可扩容，仅能单盘创建这个模式</td><td align=\"center\">否</td><td align=\"center\">否</td><td align=\"center\">无</td><td align=\"center\">否</td><td align=\"center\">是，可转为RAID</td></tr><tr><td align=\"center\">Linear</td><td align=\"center\">将一个或多个物理硬盘的一部分或者全部作为一个存储池，可扩容</td><td align=\"center\">是</td><td align=\"center\">否</td><td align=\"center\">无</td><td align=\"center\">否</td><td align=\"center\">否</td></tr><tr><td align=\"center\">RAID类</td><td align=\"center\">自行使用搜索引擎搜索，更详细</td><td align=\"center\">未测试</td><td align=\"center\">未测试</td><td align=\"center\">未测试</td><td align=\"center\">未测试</td><td align=\"center\">未测试</td></tr></tbody></table>\n<ol start=\"7\">\n<li>NAS迅雷内测码：迅雷牛通</li>\n</ol>\n</li>\n</ol></section>","metadata":{"headings":[{"depth":3,"slug":"吸引我的东西","text":"吸引我的东西#"},{"depth":3,"slug":"注意事项","text":"注意事项#"}],"localImagePaths":["../assets/images/f1bd7089efdf00097d5474ef967a62dcfca42e98.webp","../assets/images/2f9981f8397cc1278807ed28f8a2e15954868fec.webp","../assets/images/6403ef19d941abdc93d8c7da01364a8983c98109.webp","../assets/images/79af3b25d8b677b2718c953c0d431ead2f137e1d.webp","../assets/images/d4ec6f87893f4af5d7eedb2e2a19a784fd6c6f92.webp","../assets/images/9f92130465ab62e912b7404266febc7212e2125b.webp"],"remoteImagePaths":[],"frontmatter":{"category":"体验","description":"飞牛NAS系统是一个现代的开源的NAS系统。影视刮削在国内属于TOP1，并且刚需的Docker软件也功能全面易用，博主本人也在使用","draft":false,"image":"../assets/images/QmUBuX9qmsNP1NHeEeUmuPNdS5ctvk4LchcSsFARDC4vZJ.webp","lang":"","published":"2024-10-14T00:00:00.000Z","tags":["飞牛NAS"],"title":"飞牛NAS玩机体验","minutes":3,"words":537,"excerpt":""},"imagePaths":["../assets/images/f1bd7089efdf00097d5474ef967a62dcfca42e98.webp","../assets/images/2f9981f8397cc1278807ed28f8a2e15954868fec.webp","../assets/images/6403ef19d941abdc93d8c7da01364a8983c98109.webp","../assets/images/79af3b25d8b677b2718c953c0d431ead2f137e1d.webp","../assets/images/d4ec6f87893f4af5d7eedb2e2a19a784fd6c6f92.webp","../assets/images/9f92130465ab62e912b7404266febc7212e2125b.webp"]}},"collection":"posts","slug":"fnos"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script> <div class="card-base flex flex-col-reverse md:flex-col w-full rounded-[var(--radius-large)] overflow-hidden relative onload-animation" style="animation-delay: calc(var(--content-delay) + 350ms);; --coverWidth: 28%;" data-astro-cid-iyiqi2so> <div class="pl-6 md:pl-9 pr-6 md:pr-2 pt-6 md:pt-7 pb-6 relative w-full md:w-[calc(100%_-_var(--coverWidth)_-_12px)]" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <a href="/posts/record/" class="transition group w-full block font-bold mb-3 text-3xl text-90
        hover:text-[var(--primary)] dark:hover:text-[var(--primary)]
        active:text-[var(--title-active)] dark:active:text-[var(--title-active)]
        before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:top-[35px] before:left-[18px] before:hidden md:before:block
        " data-astro-cid-iyiqi2so style="--coverWidth: 28%;">  记录 <svg width="1em" height="1em" viewBox="0 0 24 24" class="inline text-[2rem] text-[var(--primary)] md:hidden translate-y-0.5 absolute" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[var(--primary)] text-[2rem] transition hidden md:inline absolute translate-y-0.5 opacity-0 group-hover:opacity-100 -translate-x-1 group-hover:translate-x-0" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> <!-- metadata --> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-4"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">1999-01-01</span> </div> <!-- update date -->  <!-- tags --> <div class="items-center hidden md:flex"> <div class="meta-icon"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-xl" data-icon="material-symbols:tag-rounded">   <use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/记录/" aria-label="View all posts with the 记录 tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 记录 </a>  </div> </div> <!-- page views -->  </div>  <!-- description --> <div class="transition text-75 mb-3.5 pr-4" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> 一些记录，不定时更新 </div> <!-- word count, read time and page views --> <div class="text-sm text-black/30 dark:text-white/30 flex gap-4 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">1178 字</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">6 分钟</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;">|</div> <div data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <span class="text-50 text-sm font-medium" id="page-views-record" data-astro-cid-iyiqi2so style="--coverWidth: 28%;">统计加载中...</span> </div> </div> </div> <a href="/posts/record/" aria-label="记录" class="group max-h-[20vh] md:max-h-none mx-4 mt-4 -mb-2 md:mb-0 md:mx-0 md:mt-0 md:w-[var(--coverWidth)] relative md:absolute md:top-3 md:bottom-3 md:right-3 rounded-xl overflow-hidden active:scale-95" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <div class="absolute pointer-events-none z-10 w-full h-full group-hover:bg-black/30 group-active:bg-black/50 transition" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <!-- 封面图上的箭头 --> <div class="absolute pointer-events-none z-20 w-full h-full flex items-center justify-center " data-astro-cid-iyiqi2so style="--coverWidth: 28%;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 text-white text-5xl" data-astro-cid-iyiqi2so="true" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> <div class="w-full h-full overflow-hidden relative image-wrapper" style="--theme-hue: 361" data-astro-cid-i2xmscho> <!-- 加载条 --> <div class="loading-bar absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-1 bg-gray-200 dark:bg-gray-700 z-10 rounded-full overflow-hidden" data-astro-cid-i2xmscho> <div class="loading-progress h-full w-8 bg-[oklch(0.70_0.14_var(--theme-hue))] animate-loading-progress rounded-full" data-astro-cid-i2xmscho></div> </div> <!-- 图片内容 -->  <img src="https://eopfapi.2b2x.cn/pic?img=ua" alt="Cover Image of the Post" class="w-full h-full object-cover image-content opacity-0 transition-opacity duration-500" style="object-position: center" onload="this.style.opacity='1'; this.parentElement.querySelector('.loading-bar').style.opacity='0';" onerror="this.onerror=null; this.src='https://eopfapi.b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa/pic?img=ua/pic?img=ua';" data-astro-cid-i2xmscho> </div>  </a>  </div> <div class="transition border-t-[1px] border-dashed mx-6 border-black/10 dark:border-white/[0.15] last:border-t-0 md:hidden" data-astro-cid-iyiqi2so style="--coverWidth: 28%;"></div> <script>(function(){const entry = {"id":"record.md","data":{"title":"记录","published":"1999-01-01T00:00:00.000Z","draft":false,"description":"一些记录，不定时更新","image":"https://eopfapi.2b2x.cn/pic?img=ua","tags":["记录"],"lang":"zh_CN","pinned":false,"prevTitle":"","prevSlug":"","nextTitle":"飞牛NAS玩机体验","nextSlug":"fnos"},"body":"# zt重置设备ID\n\n在 ZeroTier 中，如果你通过克隆 VM 或复制系统镜像导致 设备 ID（Node ID）重复，需要重置设备 ID。ZeroTier 的设备 ID 是基于本机生成的私钥，无法在软件内直接修改，但可以通过以下方法重置：\n\n方法 1：在 Linux / Debian 上重置\n\n停止 ZeroTier 服务：\n\n```shell\nsudo systemctl stop zerotier-one\n```\n\n删除本地身份文件（Node ID）：\n\n```shell\nsudo rm -rf /var/lib/zerotier-one/identity.*\n```\n\n注意：identity.* 文件包含你的 Node ID，如果删除，ZeroTier 会生成新的 Node ID。\n\n启动 ZeroTier 服务：\n\n```shell\nsudo systemctl start zerotier-one\n```\n\n# r2.py所需依赖\n\n```shell\npip install keyboard pyperclip pillow boto3 pyautogui\n```\n\n# ShellClash\n\n> 用于在Linux上使用CLI来进行正向代理。通过导入标准的Clash `config.yaml` 来实现\n\nhttps://github.com/juewuy/ShellCrash\n\nTg通知频道：https://t.me/ShellClash\n\n```shell\nbash -c \"$(curl -kfsSl https://r2.072103.xyz/shellclash.sh)\" && source /etc/profile &> /dev/null\n```\n\n打开CLI：clash、crash\n导入配置文件：6-2\n安装本地Web面板：9-4-1\n开机自启：4-1\n\n# Vless通用配置（不加密）\n\n```json\n{\n  \"inbounds\": [\n    {\n      \"port\": 1080,  // 监听端口，可以根据需要修改\n      \"protocol\": \"vless\",  // 使用 VLESS 协议\n      \"settings\": {\n        \"clients\": [\n          {\n            \"id\": \"0721-07210721onani\",  // 这里是一个 UUID，用于识别用户\n            \"level\": 0,  // 用户等级，设置为 0 表示普通用户\n            \"email\": \"user@example.com\"  // 用户邮箱（可选）\n          }\n        ],\n        \"decryption\": \"none\"  // 设置为 none，表示没有加密\n      },\n      \"streamSettings\": {\n        \"network\": \"tcp\",  // 使用 TCP 网络\n        \"security\": \"none\"  // 不使用加密，适用于 VLESS\n      }\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"protocol\": \"freedom\",  // 允许自由流量通过\n      \"settings\": {}\n    }\n  ],\n  \"routing\": {\n    \"rules\": []\n  }\n}\n```\n\n---\n\n# AMD笔记本优化\n\n> 目标：关闭fTPM并且禁止系统重新安装、关闭Windows自动更新\n\n- 关闭fTPM： 组策略编辑器：`计算机配置 - 管理模板 - 系统 - 设备安装 - 设备安装限制 - 阻止安装与下列任何设备实例 ID 相匹配的设备` 填写：设备管理器中的**受信任的平台模块 2.0** 的`详细信息 - 设备实例路径`中的值\n- 关闭Windows自动更新：`计算机配置 - 管理模板 - Windows组件 - Windows更新`中的：\n  - 配置自动更新 - 已禁用\n  - 删除所有使用Windows更新功能的访问权限 - 已启用\n  - 不要连接任何Windows更新Internet位置 - 已启用\n  - Windows更新不包括驱动更新 - 已启用\n\n---\n\n# VPS融合怪测试脚本\n\n```shell\nbash <(curl -sL kejilion.sh)\n```\n\n- 融合怪测试：8-32\n- IP纯净度测试：8-4\n\n---\n\n# 哪吒探针Cloudflare版\n\nhttps://github.com/yumusb/nezha-new\n\n---\n\n# VPS一键魔法脚本\n\n- Hysteria2（UDP）：\n  \n  ```shell\n  bash <(curl -fsSL https://raw.githubusercontent.com/0x0129/hysteria2/main/install.sh) -port 0721\n  ```\n\n- Vless+Trojan+Shadowsocks：\n  \n  ```shell\n  bash <(curl -s -L https://git.io/v2ray.sh)\n  ```\n\n- x-ui：\n  \n  ```shell\n  bash <(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)\n  ```\n\n---\n\n# Hysteria2 服务端搭建（全平台通用）\n\n1. 下载 Hysteria2 可执行文件： https://github.com/apernet/hysteria/releases\n\n2. 创建自签名SSL/TLS证书：\n   \n   - 创建私钥：`openssl genpkey -algorithm RSA -out hy2.key`\n   - 创建证书签名请求：`openssl req -new -key hy2.key -out hy2.csr`\n   - 创建证书：`openssl x509 -req -in hy2.csr -signkey hy2.key -out hy2.crt -days 9999`\n\n3. `config.yaml`：\n\n```yaml\nlisten: :443 \n\ntls:\n  cert: hy2.crt \n  key: hy2.key \n\nauth:\n  type: password\n  password: 0721\n\nmasquerade: \n  type: proxy\n  proxy:\n    url: https://news.ycombinator.com/ \n    rewriteHost: true\n```\n\n4. 启动 Hysteria2参数：`server`\n\n5. V2Ray客户端连接直链：\n   \n   ```shell\n   hysteria2://0721@10.147.17.1:443?sni=bing.com&insecure=1#家里云\n   ```\n\n---\n\n# Cloudflare一键魔法\n\n下载 https://github.com/cmliu/edgetunnel/archive/refs/heads/main.zip 将它上传到Cloudflare Pages设置UUID。访问 https://你的域名.pages.dev/UUID\n\n---\n\n# Cloudflare 优选方法\n\n### A、AAAA、CNAME\n\n1. B域名直接套CDN指向源站\n2. B域名开启SaaS，设置回退源为指向源站的域名，自定义主机名为A域名\n3. B域名指向优选域名，不套CDN\n4. A域名指向B域名指向的优选域名的域名 ，不套CDN\n\n### Cloudflare Pages\n\n1. 直接在Pages创建自定义域\n2. 更改子域NS到阿里云云解析DNS\n3. 在阿里云云解析DNS设置解析分流\n\n### Cloudflare Workers\n\n1. 直接在Workers创建路由，如：example.com/*\n2. 将被设置路由的域名解析到优选域名\n\n---\n\n## Cloudflare 优选域名\n\n二叉树树自用： fenliu.072103.xyz\n\n![](../assets/images/0cfff651-0590-4700-81f4-79c9e576c38d.webp)\n\n[CM大佬](https://blog.cmliussss.com/)： cf.090227.xyz![](../assets/images/8f2ac2b4-b5b7-4d9e-8d80-103181e975a9.webp)\n\n[微测网](https://www.wetest.vip/page/cloudflare/cname.html)：cloudflare.182682.xyz\n\n![](../assets/images/1b8b0adb-f3bc-4513-814e-4f20529a86cf.webp)\n\n---\n\n# 魔法软件\n\nWindows：\n\nhttps://github.com/2dust/v2rayN\n\nLinux：\n\nhttps://github.com/2dust/v2rayNG\n\n---\n\n# 使用Cloudflared中继RDP流量\n\n```shell\ncloudflared access rdp --hostname rdp.onani.cn --url rdp://localhost:3380\n```\n\n---\n\n# FRP相关\n\n### FRP基本认证参数\n\n```yaml\nauth.token = \"07210721\"\n```\n\n### FRP systemd服务配置（开机自启）\n\nhttps://gofrp.org/zh-cn/docs/setup/systemd/\n\n# Linux Deb系安装Speedtest-cli\n\n```shell\napt install -y lsb-release ca-certificates apt-transport-https curl gnupg dpkg\ncurl -sSL https://packagecloud.io/ookla/speedtest-cli/gpgkey | gpg --dearmor > /usr/share/keyrings/speedtest.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/speedtest.gpg] https://packagecloud.io/ookla/speedtest-cli/debian/ $(lsb_release -sc) main\" > /etc/apt/sources.list.d/speedtest.list\n\napt update\napt install -y speedtest\n```\n\n---\n\n# Linux监控面版：\n\n```shell\napt install s-tui\n```\n\n---\n\n# Windows超级牛逼包管理器：https://scoop.sh\n\n---\n\n# Linux各发行版安装注意\n\n1. 非常新的版本一般才会有Realtek有线网卡的驱动\n2. 安装Debian要使用CLI安装（GUI安装会出现问题 ~~具体的问题我忘了~~）\n3. 安装CentOS/Rocky一定要先安装GUI，否则会导致上不了网\n4. 除了Arch连接网络使用iwd，其他发行版都可以用nmcli连接网络\n\n---\n\n# 国内Linux镜像注意事项\n\n1. ~~USTC（中科大源）经常会用JavaScript进行客户端验证，会导致wget和curl命令无法正确下载到文件~~[绕过USTC的浏览器JS验证 | AcoFork Blog](/posts/bypass-ustc-verifying/)。建议使用TUNA（清华源）\n\n---\n\n# 国内Docker镜像\n\n- 1Panel Docker监控：https://status.1panel.top/status/docker\n- 南京大学GHCR镜像源：https://ghcr.nju.edu.cn\n\n---\n\n# 安徽财贸职业学院教务学生正确入口（课表导入）\nhttps://authserver.afc.edu.cn/authserver/login","filePath":"src/content/posts/record.md","assetImports":["../assets/images/0cfff651-0590-4700-81f4-79c9e576c38d.webp","../assets/images/8f2ac2b4-b5b7-4d9e-8d80-103181e975a9.webp","../assets/images/1b8b0adb-f3bc-4513-814e-4f20529a86cf.webp"],"digest":"e64497c99a4ed59a","rendered":{"html":"<section><h1 id=\"zt重置设备id\">zt重置设备ID<a class=\"anchor\" href=\"#zt重置设备id\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>在 ZeroTier 中，如果你通过克隆 VM 或复制系统镜像导致 设备 ID（Node ID）重复，需要重置设备 ID。ZeroTier 的设备 ID 是基于本机生成的私钥，无法在软件内直接修改，但可以通过以下方法重置：</p><p>方法 1：在 Linux / Debian 上重置</p><p>停止 ZeroTier 服务：</p><div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.4l8yc.css\"><script type=\"module\" src=\"/_astro/ec.g1fg5.js\">\x3C/script><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:32ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">sudo</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">systemctl</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">stop</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">zerotier-one</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><p>删除本地身份文件（Node ID）：</p><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:44ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">sudo</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">rm</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-rf</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/var/lib/zerotier-one/identity.</span><span style=\"--0:#79B8FF;--1:#79B8FF\">*</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><p>注意：identity.* 文件包含你的 Node ID，如果删除，ZeroTier 会生成新的 Node ID。</p><p>启动 ZeroTier 服务：</p><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:33ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">sudo</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">systemctl</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">start</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">zerotier-one</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div></section>\n<section><h1 id=\"r2py所需依赖\">r2.py所需依赖<a class=\"anchor\" href=\"#r2py所需依赖\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:53ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">pip</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">keyboard</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">pyperclip</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">pillow</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">boto3</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">pyautogui</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div></section>\n<section><h1 id=\"shellclash\">ShellClash<a class=\"anchor\" href=\"#shellclash\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><blockquote>\n<p>用于在Linux上使用CLI来进行正向代理。通过导入标准的Clash <code>config.yaml</code> 来实现</p>\n</blockquote><p><a href=\"https://github.com/juewuy/ShellCrash\" rel=\"nofollow\" target=\"_blank\">https://github.com/juewuy/ShellCrash</a></p><p>Tg通知频道：<a href=\"https://t.me/ShellClash\" rel=\"nofollow\" target=\"_blank\">https://t.me/ShellClash</a></p><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:96ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">bash</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-c</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"$(</span><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-kfsSl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> https://r2.072103.xyz/shellclash.sh)\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> &#x26;&#x26; </span><span style=\"--0:#79B8FF;--1:#79B8FF\">source</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/etc/profile</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> &#x26;</span><span style=\"--0:#F97583;--1:#F97583\">></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> /dev/null</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><p>打开CLI：clash、crash\n导入配置文件：6-2\n安装本地Web面板：9-4-1\n开机自启：4-1</p></section>\n<section><h1 id=\"vless通用配置不加密\">Vless通用配置（不加密）<a class=\"anchor\" href=\"#vless通用配置不加密\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"json\" class=\"wrap\" style=\"--ecMaxLine:61ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"inbounds\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: [</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"port\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">1080</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 监听端口，可以根据需要修改</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"protocol\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"vless\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 使用 VLESS 协议</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"settings\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"clients\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: [</span></div></div><div class=\"ec-line\" style=\"--ecIndent:10ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">          </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"id\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"0721-07210721onani\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 这里是一个 UUID，用于识别用户</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"level\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">0</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 用户等级，设置为 0 表示普通用户</span></div></div><div class=\"ec-line\" style=\"--ecIndent:12ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span class=\"indent\">            </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"email\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"user@example.com\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 用户邮箱（可选）</span></div></div><div class=\"ec-line\" style=\"--ecIndent:10ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">          </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">        </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">],</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"decryption\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"none\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 设置为 none，表示没有加密</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">      </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">},</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">16</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"streamSettings\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">17</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"network\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"tcp\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 使用 TCP 网络</span></div></div><div class=\"ec-line\" style=\"--ecIndent:8ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">18</div></div><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"security\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"none\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 不使用加密，适用于 VLESS</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">19</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">      </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">20</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">21</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">],</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">22</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"outbounds\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: [</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">23</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">{</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">24</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"protocol\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"freedom\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">,  </span><span style=\"--0:#99A0A6;--1:#99A0A6\">// 允许自由流量通过</span></div></div><div class=\"ec-line\" style=\"--ecIndent:6ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">25</div></div><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"settings\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">26</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">    </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">27</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">],</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">28</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"routing\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: {</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">29</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#79B8FF;--1:#79B8FF\">\"rules\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: []</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">30</div></div><div class=\"code\"><span class=\"indent\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">  </span></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">31</div></div><div class=\"code\"><span style=\"--0:#E1E4E8;--1:#E1E4E8\">}</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><hr></section>\n<section><h1 id=\"amd笔记本优化\">AMD笔记本优化<a class=\"anchor\" href=\"#amd笔记本优化\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><blockquote>\n<p>目标：关闭fTPM并且禁止系统重新安装、关闭Windows自动更新</p>\n</blockquote><ul>\n<li>关闭fTPM： 组策略编辑器：<code>计算机配置 - 管理模板 - 系统 - 设备安装 - 设备安装限制 - 阻止安装与下列任何设备实例 ID 相匹配的设备</code> 填写：设备管理器中的<strong>受信任的平台模块 2.0</strong> 的<code>详细信息 - 设备实例路径</code>中的值</li>\n<li>关闭Windows自动更新：<code>计算机配置 - 管理模板 - Windows组件 - Windows更新</code>中的：\n<ul>\n<li>配置自动更新 - 已禁用</li>\n<li>删除所有使用Windows更新功能的访问权限 - 已启用</li>\n<li>不要连接任何Windows更新Internet位置 - 已启用</li>\n<li>Windows更新不包括驱动更新 - 已启用</li>\n</ul>\n</li>\n</ul><hr></section>\n<section><h1 id=\"vps融合怪测试脚本\">VPS融合怪测试脚本<a class=\"anchor\" href=\"#vps融合怪测试脚本\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:28ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">bash</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;(</span><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-sL</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> kejilion.sh)</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ul>\n<li>融合怪测试：8-32</li>\n<li>IP纯净度测试：8-4</li>\n</ul><hr></section>\n<section><h1 id=\"哪吒探针cloudflare版\">哪吒探针Cloudflare版<a class=\"anchor\" href=\"#哪吒探针cloudflare版\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p><a href=\"https://github.com/yumusb/nezha-new\" rel=\"nofollow\" target=\"_blank\">https://github.com/yumusb/nezha-new</a></p><hr></section>\n<section><h1 id=\"vps一键魔法脚本\">VPS一键魔法脚本<a class=\"anchor\" href=\"#vps一键魔法脚本\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ul>\n<li>\n<p>Hysteria2（UDP）：</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:96ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">bash</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;(</span><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-fsSL</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> https://raw.githubusercontent.com/0x0129/hysteria2/main/install.sh)</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-port</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">0721</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>Vless+Trojan+Shadowsocks：</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:42ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">bash</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;(</span><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-s</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-L</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> https://git.io/v2ray.sh)</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n<li>\n<p>x-ui：</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:80ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">bash</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;(</span><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-Ls</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n</ul><hr></section>\n<section><h1 id=\"hysteria2-服务端搭建全平台通用\">Hysteria2 服务端搭建（全平台通用）<a class=\"anchor\" href=\"#hysteria2-服务端搭建全平台通用\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ol>\n<li>\n<p>下载 Hysteria2 可执行文件： <a href=\"https://github.com/apernet/hysteria/releases\" rel=\"nofollow\" target=\"_blank\">https://github.com/apernet/hysteria/releases</a></p>\n</li>\n<li>\n<p>创建自签名SSL/TLS证书：</p>\n<ul>\n<li>创建私钥：<code>openssl genpkey -algorithm RSA -out hy2.key</code></li>\n<li>创建证书签名请求：<code>openssl req -new -key hy2.key -out hy2.csr</code></li>\n<li>创建证书：<code>openssl x509 -req -in hy2.csr -signkey hy2.key -out hy2.crt -days 9999</code></li>\n</ul>\n</li>\n<li>\n<p><code>config.yaml</code>：</p>\n</li>\n</ol><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"yaml\" class=\"wrap\" style=\"--ecMaxLine:38ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#85E89D;--1:#85E89D\">listen</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">:443</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#85E89D;--1:#85E89D\">tls</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">:</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">cert</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">hy2.crt</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">key</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">hy2.key</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">7</div></div><div class=\"code\"><span style=\"--0:#85E89D;--1:#85E89D\">auth</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">:</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">8</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">type</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">password</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">9</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">password</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">0721</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">10</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">11</div></div><div class=\"code\"><span style=\"--0:#85E89D;--1:#85E89D\">masquerade</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">:</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">12</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">type</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">proxy</span></div></div><div class=\"ec-line\" style=\"--ecIndent:2ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">13</div></div><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#85E89D;--1:#85E89D\">proxy</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">:</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">14</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#85E89D;--1:#85E89D\">url</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">https://news.ycombinator.com/</span></div></div><div class=\"ec-line\" style=\"--ecIndent:4ch\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">15</div></div><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#85E89D;--1:#85E89D\">rewriteHost</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">: </span><span style=\"--0:#79B8FF;--1:#79B8FF\">true</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><ol start=\"4\">\n<li>\n<p>启动 Hysteria2参数：<code>server</code></p>\n</li>\n<li>\n<p>V2Ray客户端连接直链：</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:60ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">hysteria2://0721@10.147.17.1:443?sni</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">=bing.com</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">&#x26;insecure</span><span style=\"--0:#F97583;--1:#F97583\">=</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">1</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\">#家里云</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div>\n</li>\n</ol><hr></section>\n<section><h1 id=\"cloudflare一键魔法\">Cloudflare一键魔法<a class=\"anchor\" href=\"#cloudflare一键魔法\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>下载 <a href=\"https://github.com/cmliu/edgetunnel/archive/refs/heads/main.zip\" rel=\"nofollow\" target=\"_blank\">https://github.com/cmliu/edgetunnel/archive/refs/heads/main.zip</a> 将它上传到Cloudflare Pages设置UUID。访问 <a href=\"https://%E4%BD%A0%E7%9A%84%E5%9F%9F%E5%90%8D.pages.dev/UUID\" rel=\"nofollow\" target=\"_blank\">https://你的域名.pages.dev/UUID</a></p><hr></section>\n<section><h1 id=\"cloudflare-优选方法\">Cloudflare 优选方法<a class=\"anchor\" href=\"#cloudflare-优选方法\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h3 id=\"aaaaacname\">A、AAAA、CNAME<a class=\"anchor\" href=\"#aaaaacname\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>B域名直接套CDN指向源站</li>\n<li>B域名开启SaaS，设置回退源为指向源站的域名，自定义主机名为A域名</li>\n<li>B域名指向优选域名，不套CDN</li>\n<li>A域名指向B域名指向的优选域名的域名 ，不套CDN</li>\n</ol></section><section><h3 id=\"cloudflare-pages\">Cloudflare Pages<a class=\"anchor\" href=\"#cloudflare-pages\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>直接在Pages创建自定义域</li>\n<li>更改子域NS到阿里云云解析DNS</li>\n<li>在阿里云云解析DNS设置解析分流</li>\n</ol></section><section><h3 id=\"cloudflare-workers\">Cloudflare Workers<a class=\"anchor\" href=\"#cloudflare-workers\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><ol>\n<li>直接在Workers创建路由，如：example.com/*</li>\n<li>将被设置路由的域名解析到优选域名</li>\n</ol><hr></section><section><h2 id=\"cloudflare-优选域名\">Cloudflare 优选域名<a class=\"anchor\" href=\"#cloudflare-优选域名\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h2><p>二叉树树自用： fenliu.072103.xyz</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/0cfff651-0590-4700-81f4-79c9e576c38d.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><a href=\"https://blog.cmliussss.com/\" rel=\"nofollow\" target=\"_blank\">CM大佬</a>： cf.090227.xyz<img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/8f2ac2b4-b5b7-4d9e-8d80-103181e975a9.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><p><a href=\"https://www.wetest.vip/page/cloudflare/cname.html\" rel=\"nofollow\" target=\"_blank\">微测网</a>：cloudflare.182682.xyz</p><p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/images/1b8b0adb-f3bc-4513-814e-4f20529a86cf.webp&#x22;,&#x22;alt&#x22;:&#x22;&#x22;,&#x22;index&#x22;:0}\"></p><hr></section></section>\n<section><h1 id=\"魔法软件\">魔法软件<a class=\"anchor\" href=\"#魔法软件\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p>Windows：</p><p><a href=\"https://github.com/2dust/v2rayN\" rel=\"nofollow\" target=\"_blank\">https://github.com/2dust/v2rayN</a></p><p>Linux：</p><p><a href=\"https://github.com/2dust/v2rayNG\" rel=\"nofollow\" target=\"_blank\">https://github.com/2dust/v2rayNG</a></p><hr></section>\n<section><h1 id=\"使用cloudflared中继rdp流量\">使用Cloudflared中继RDP流量<a class=\"anchor\" href=\"#使用cloudflared中继rdp流量\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:73ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">cloudflared</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">access</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">rdp</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">--hostname</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">rdp.onani.cn</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">--url</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">rdp://localhost:3380</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><hr></section>\n<section><h1 id=\"frp相关\">FRP相关<a class=\"anchor\" href=\"#frp相关\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><section><h3 id=\"frp基本认证参数\">FRP基本认证参数<a class=\"anchor\" href=\"#frp基本认证参数\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><div class=\"expressive-code\"><figure class=\"frame\"><figcaption class=\"header\"></figcaption><pre data-language=\"yaml\" class=\"wrap\" style=\"--ecMaxLine:23ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#9ECBFF;--1:#9ECBFF\">auth.token = \"07210721\"</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div></section><section><h3 id=\"frp-systemd服务配置开机自启\">FRP systemd服务配置（开机自启）<a class=\"anchor\" href=\"#frp-systemd服务配置开机自启\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h3><p><a href=\"https://gofrp.org/zh-cn/docs/setup/systemd/\" rel=\"nofollow\" target=\"_blank\">https://gofrp.org/zh-cn/docs/setup/systemd/</a></p></section></section>\n<section><h1 id=\"linux-deb系安装speedtest-cli\">Linux Deb系安装Speedtest-cli<a class=\"anchor\" href=\"#linux-deb系安装speedtest-cli\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:207ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">apt</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-y</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">lsb-release</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">ca-certificates</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">apt-transport-https</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">curl</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">gnupg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">dpkg</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">2</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">curl</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-sSL</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">https://packagecloud.io/ookla/speedtest-cli/gpgkey</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#F97583;--1:#F97583\">|</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#B392F0;--1:#B392F0\">gpg</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">--dearmor</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#F97583;--1:#F97583\">></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/usr/share/keyrings/speedtest.gpg</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">3</div></div><div class=\"code\"><span style=\"--0:#79B8FF;--1:#79B8FF\">echo</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">\"deb [arch=$(</span><span style=\"--0:#B392F0;--1:#B392F0\">dpkg</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">--print-architecture</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">) signed-by=/usr/share/keyrings/speedtest.gpg] https://packagecloud.io/ookla/speedtest-cli/debian/ $(</span><span style=\"--0:#B392F0;--1:#B392F0\">lsb_release</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-sc</span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">) main\"</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#F97583;--1:#F97583\">></span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">/etc/apt/sources.list.d/speedtest.list</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">4</div></div><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">5</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">apt</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">update</span></div></div><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">6</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">apt</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#79B8FF;--1:#79B8FF\">-y</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">speedtest</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><hr></section>\n<section><h1 id=\"linux监控面版\">Linux监控面版：<a class=\"anchor\" href=\"#linux监控面版\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><div class=\"expressive-code\"><figure class=\"frame is-terminal\"><figcaption class=\"header\"><span class=\"title\"></span><span class=\"sr-only\">Terminal window</span></figcaption><pre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:17ch\"><code><div class=\"ec-line\"><div class=\"gutter\"><div class=\"ln\" aria-hidden=\"true\">1</div></div><div class=\"code\"><span style=\"--0:#B392F0;--1:#B392F0\">apt</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">install</span><span style=\"--0:#E1E4E8;--1:#E1E4E8\"> </span><span style=\"--0:#9ECBFF;--1:#9ECBFF\">s-tui</span></div></div></code><button class=\"copy-btn\" aria-label=\"Copy code\"><div class=\"copy-btn-icon\"><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\"><path d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\"></path></svg><svg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\"><path d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\"></path></svg></div></button></pre></figure></div><hr></section>\n<section><h1 id=\"windows超级牛逼包管理器httpsscoopsh\">Windows超级牛逼包管理器：<a href=\"https://scoop.sh\" rel=\"nofollow\" target=\"_blank\">https://scoop.sh</a><a class=\"anchor\" href=\"#windows超级牛逼包管理器httpsscoopsh\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><hr></section>\n<section><h1 id=\"linux各发行版安装注意\">Linux各发行版安装注意<a class=\"anchor\" href=\"#linux各发行版安装注意\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ol>\n<li>非常新的版本一般才会有Realtek有线网卡的驱动</li>\n<li>安装Debian要使用CLI安装（GUI安装会出现问题 <del>具体的问题我忘了</del>）</li>\n<li>安装CentOS/Rocky一定要先安装GUI，否则会导致上不了网</li>\n<li>除了Arch连接网络使用iwd，其他发行版都可以用nmcli连接网络</li>\n</ol><hr></section>\n<section><h1 id=\"国内linux镜像注意事项\">国内Linux镜像注意事项<a class=\"anchor\" href=\"#国内linux镜像注意事项\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ol>\n<li><del>USTC（中科大源）经常会用JavaScript进行客户端验证，会导致wget和curl命令无法正确下载到文件</del><a href=\"/posts/bypass-ustc-verifying/\">绕过USTC的浏览器JS验证 | AcoFork Blog</a>。建议使用TUNA（清华源）</li>\n</ol><hr></section>\n<section><h1 id=\"国内docker镜像\">国内Docker镜像<a class=\"anchor\" href=\"#国内docker镜像\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><ul>\n<li>1Panel Docker监控：<a href=\"https://status.1panel.top/status/docker\" rel=\"nofollow\" target=\"_blank\">https://status.1panel.top/status/docker</a></li>\n<li>南京大学GHCR镜像源：<a href=\"https://ghcr.nju.edu.cn\" rel=\"nofollow\" target=\"_blank\">https://ghcr.nju.edu.cn</a></li>\n</ul><hr></section>\n<section><h1 id=\"安徽财贸职业学院教务学生正确入口课表导入\">安徽财贸职业学院教务学生正确入口（课表导入）<a class=\"anchor\" href=\"#安徽财贸职业学院教务学生正确入口课表导入\"><span class=\"anchor-icon\" data-pagefind-ignore=\"\">#</span></a></h1><p><a href=\"https://authserver.afc.edu.cn/authserver/login\" rel=\"nofollow\" target=\"_blank\">https://authserver.afc.edu.cn/authserver/login</a></p></section>","metadata":{"headings":[{"depth":1,"slug":"zt重置设备id","text":"zt重置设备ID#"},{"depth":1,"slug":"r2py所需依赖","text":"r2.py所需依赖#"},{"depth":1,"slug":"shellclash","text":"ShellClash#"},{"depth":1,"slug":"vless通用配置不加密","text":"Vless通用配置（不加密）#"},{"depth":1,"slug":"amd笔记本优化","text":"AMD笔记本优化#"},{"depth":1,"slug":"vps融合怪测试脚本","text":"VPS融合怪测试脚本#"},{"depth":1,"slug":"哪吒探针cloudflare版","text":"哪吒探针Cloudflare版#"},{"depth":1,"slug":"vps一键魔法脚本","text":"VPS一键魔法脚本#"},{"depth":1,"slug":"hysteria2-服务端搭建全平台通用","text":"Hysteria2 服务端搭建（全平台通用）#"},{"depth":1,"slug":"cloudflare一键魔法","text":"Cloudflare一键魔法#"},{"depth":1,"slug":"cloudflare-优选方法","text":"Cloudflare 优选方法#"},{"depth":3,"slug":"aaaaacname","text":"A、AAAA、CNAME#"},{"depth":3,"slug":"cloudflare-pages","text":"Cloudflare Pages#"},{"depth":3,"slug":"cloudflare-workers","text":"Cloudflare Workers#"},{"depth":2,"slug":"cloudflare-优选域名","text":"Cloudflare 优选域名#"},{"depth":1,"slug":"魔法软件","text":"魔法软件#"},{"depth":1,"slug":"使用cloudflared中继rdp流量","text":"使用Cloudflared中继RDP流量#"},{"depth":1,"slug":"frp相关","text":"FRP相关#"},{"depth":3,"slug":"frp基本认证参数","text":"FRP基本认证参数#"},{"depth":3,"slug":"frp-systemd服务配置开机自启","text":"FRP systemd服务配置（开机自启）#"},{"depth":1,"slug":"linux-deb系安装speedtest-cli","text":"Linux Deb系安装Speedtest-cli#"},{"depth":1,"slug":"linux监控面版","text":"Linux监控面版：#"},{"depth":1,"slug":"windows超级牛逼包管理器httpsscoopsh","text":"Windows超级牛逼包管理器：https://scoop.sh#"},{"depth":1,"slug":"linux各发行版安装注意","text":"Linux各发行版安装注意#"},{"depth":1,"slug":"国内linux镜像注意事项","text":"国内Linux镜像注意事项#"},{"depth":1,"slug":"国内docker镜像","text":"国内Docker镜像#"},{"depth":1,"slug":"安徽财贸职业学院教务学生正确入口课表导入","text":"安徽财贸职业学院教务学生正确入口（课表导入）#"}],"localImagePaths":["../assets/images/0cfff651-0590-4700-81f4-79c9e576c38d.webp","../assets/images/8f2ac2b4-b5b7-4d9e-8d80-103181e975a9.webp","../assets/images/1b8b0adb-f3bc-4513-814e-4f20529a86cf.webp"],"remoteImagePaths":[],"frontmatter":{"category":"记录","description":"一些记录，不定时更新","draft":false,"image":"https://eopfapi.2b2x.cn/pic?img=ua","lang":"zh_CN","published":"1999-01-01T00:00:00.000Z","tags":["记录"],"title":"记录","minutes":6,"words":1178,"excerpt":"在 ZeroTier 中，如果你通过克隆 VM 或复制系统镜像导致 设备 ID（Node ID）重复，需要重置设备 ID。ZeroTier 的设备 ID 是基于本机生成的私钥，无法在软件内直接修改，但可以通过以下方法重置："},"imagePaths":["../assets/images/0cfff651-0590-4700-81f4-79c9e576c38d.webp","../assets/images/8f2ac2b4-b5b7-4d9e-8d80-103181e975a9.webp","../assets/images/1b8b0adb-f3bc-4513-814e-4f20529a86cf.webp"]}},"collection":"posts","slug":"record"};
const umamiConfig = {"enable":true,"baseUrl":"https://cloud.umami.is","shareId":"hN3l7PGcxsUCBHfU","timezone":"Asia/Shanghai"};
const unavailableText = "统计不可用。请检查是否屏蔽了Umami域名，如AdGuard和AdBlock等插件";
const viewsText = "浏览";
const visitsText = "访客";

    // 客户端统计文案生成函数
    function generateStatsText(pageViews, visits) {
        return `${viewsText} ${pageViews} · ${visitsText} ${visits}`;
    }
    
    // 获取文章浏览量统计
    async function fetchPostCardViews(slug) {
        if (!umamiConfig.enable) {
            return;
        }
        
        try {
            // 调用全局工具获取 Umami 分享数据
            const { websiteId, token } = await getUmamiShareData(umamiConfig.baseUrl, umamiConfig.shareId);
            
            // 第二步：获取统计数据
            const currentTimestamp = Date.now();
            const statsUrl = `${umamiConfig.baseUrl}/analytics/us/api/websites/${websiteId}/stats?startAt=0&endAt=${currentTimestamp}&unit=hour&timezone=${encodeURIComponent(umamiConfig.timezone)}&path=eq.%2Fposts%2F${slug}%2F&compare=false`;
            
            const statsResponse = await fetch(statsUrl, {
                headers: {
                    'x-umami-share-token': token
                }
            });
            
            if (statsResponse.status === 401) {
                clearUmamiShareCache();
                return await fetchPostCardViews(slug);
            }
            
            if (!statsResponse.ok) {
                throw new Error('获取统计数据失败');
            }
            
            const statsData = await statsResponse.json();
            const pageViews = statsData.pageviews || 0;
            const visits = statsData.visitors || 0;
            
            const displayElement = document.getElementById(`page-views-${slug}`);
             if (displayElement) {
                 displayElement.textContent = generateStatsText(pageViews, visits);
             }
        } catch (error) {
            console.error('Error fetching page views for', slug, ':', error);
            const displayElement = document.getElementById(`page-views-${slug}`);
            if (displayElement) {
                displayElement.textContent = unavailableText;
            }
        }
    }

    // 页面加载完成后获取统计数据
    function initPostCardStats() {
        const slug = entry.slug;
        if (slug) {
            fetchPostCardViews(slug);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPostCardStats);
    } else {
        initPostCardStats();
    }
})();</script>  </div> <div class="mx-auto onload-animation flex flex-row gap-3 justify-center" style="animation-delay: calc(var(--content-delay) + 400ms)"> <a href="/15/" aria-label="Previous Page" class="btn-card overflow-hidden rounded-lg text-[var(--primary)] w-11 h-11"> <svg width="1em" height="1em" class="text-[1.75rem]" data-icon="material-symbols:chevron-left-rounded">   <symbol id="ai:material-symbols:chevron-left-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m10.8 12l3.9 3.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-4.6-4.6q-.15-.15-.212-.325T8.425 12t.063-.375t.212-.325l4.6-4.6q.275-.275.7-.275t.7.275t.275.7t-.275.7z"/></symbol><use href="#ai:material-symbols:chevron-left-rounded"></use>  </svg> </a> <div class="bg-[var(--card-bg)] flex flex-row rounded-lg items-center text-neutral-700 dark:text-neutral-300 font-bold"> <a href="/" aria-label="Page 1" class="transition flex items-center justify-center w-11 h-11 rounded-lg overflow-hidden active:scale-[0.85] hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-black/75 dark:text-white/75">1</a><svg width="1em" height="1em" viewBox="0 0 24 24" class="mx-1" data-icon="material-symbols:more-horiz">   <use href="#ai:material-symbols:more-horiz"></use>  </svg><a href="/12/" aria-label="Page 12" class="transition flex items-center justify-center w-11 h-11 rounded-lg overflow-hidden active:scale-[0.85] hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-black/75 dark:text-white/75">12</a><a href="/13/" aria-label="Page 13" class="transition flex items-center justify-center w-11 h-11 rounded-lg overflow-hidden active:scale-[0.85] hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-black/75 dark:text-white/75">13</a><a href="/14/" aria-label="Page 14" class="transition flex items-center justify-center w-11 h-11 rounded-lg overflow-hidden active:scale-[0.85] hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-black/75 dark:text-white/75">14</a><a href="/15/" aria-label="Page 15" class="transition flex items-center justify-center w-11 h-11 rounded-lg overflow-hidden active:scale-[0.85] hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-black/75 dark:text-white/75">15</a><div class="h-11 w-11 rounded-lg bg-[var(--primary)] flex items-center justify-center
                    font-bold text-white dark:text-black/70"> 16 </div> </div> <a href class="btn-card overflow-hidden rounded-lg text-[var(--primary)] w-11 h-11 disabled"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[1.75rem]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </a> </div>  <div class="footer col-span-2 onload-animation hidden lg:block"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2024 - 2025</span> <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://space.bilibili.com/325903362"> 二叉树树 </a>，采用
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可
<br> <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">网站地图</a> <br>
由
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> 和
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> 强力驱动
<br>
本网站代码
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/afoim/fuwari">已开源</a> <br> <a class="transition link text-[var(--primary)] font-medium inline-flex items-center" href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank"><img alt="" src="/favicon/foot-icp.png" class="h-4 mr-1">皖ICP备2025099787号-1</a> <br> <a class="transition link text-[var(--primary)] font-medium inline-flex items-center" href="https://beian.mps.gov.cn/#/query/webSearch?code=34010302002608" target="_blank"><img alt="" src="/favicon/foot-ga.png" class="h-4 mr-1">皖公网安备34010302002608号</a> <br> </div> </div> </div> </div> </main> <div class="footer col-span-2 onload-animation block lg:hidden"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2024 - 2025</span> <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://space.bilibili.com/325903362"> 二叉树树 </a>，采用
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可
<br> <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">网站地图</a> <br>
由
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> 和
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> 强力驱动
<br>
本网站代码
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/afoim/fuwari">已开源</a> <br> <a class="transition link text-[var(--primary)] font-medium inline-flex items-center" href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank"><img alt="" src="/favicon/foot-icp.png" class="h-4 mr-1">皖ICP备2025099787号-1</a> <br> <a class="transition link text-[var(--primary)] font-medium inline-flex items-center" href="https://beian.mps.gov.cn/#/query/webSearch?code=34010302002608" target="_blank"><img alt="" src="/favicon/foot-ga.png" class="h-4 mr-1">皖公网安备34010302002608号</a> <br> </div> </div> </div> </div> <!-- There can't be a filter on parent element, or it will break `fixed` --><div class="back-to-top-wrapper hidden lg:block" data-astro-cid-eymb5ayk> <div id="back-to-top-btn" class="back-to-top-btn hide flex items-center rounded-2xl overflow-hidden transition" onclick="backToTop()" data-astro-cid-eymb5ayk> <button aria-label="Back to Top" class="btn-card h-[3.75rem] w-[3.75rem]" data-astro-cid-eymb5ayk> <svg width="1em" height="1em" class="mx-auto" data-astro-cid-eymb5ayk="true" data-icon="material-symbols:keyboard-arrow-up-rounded">   <symbol id="ai:material-symbols:keyboard-arrow-up-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m12 10.8l-3.9 3.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"/></symbol><use href="#ai:material-symbols:keyboard-arrow-up-rounded"></use>  </svg> </button> </div> </div>  <script>
function backToTop() {
    window.scroll({ top: 0, behavior: 'smooth' });
}
</script> </div> </div>  <div class="absolute w-full z-0 hidden 2xl:block"> <div class="relative max-w-[var(--page-width)] mx-auto"> <!-- TOC component --> <div id="toc-wrapper" class="hidden lg:block transition absolute top-0 -right-[var(--toc-width)] w-[var(--toc-width)] flex items-center"> <div id="toc-inner-wrapper" class="fixed top-14 w-[var(--toc-width)] h-[calc(100vh_-_20rem)] overflow-y-scroll overflow-x-hidden hide-scrollbar"> <div id="toc" class="w-full h-full transition-swup-fade "> <div class="h-8 w-full"></div> <script type="module">class l extends HTMLElement{tocEl=null;visibleClass="visible";observer;anchorNavTarget=null;headingIdxMap=new Map;headings=[];sections=[];tocEntries=[];active=[];activeIndicator=null;constructor(){super(),this.observer=new IntersectionObserver(this.markVisibleSection,{threshold:0})}markVisibleSection=t=>{if(t.forEach(e=>{const i=e.target.children[0]?.getAttribute("id"),s=i?this.headingIdxMap.get(i):void 0;s!=null&&(this.active[s]=e.isIntersecting),e.isIntersecting&&this.anchorNavTarget==e.target.firstChild&&(this.anchorNavTarget=null)}),!this.active.includes(!0)){this.activeIndicator?.setAttribute("style","display: none;"),this.fallback();return}this.update()};toggleActiveHeading=()=>{let t=this.active.length-1,e=this.active.length-1,i=0;for(;t>=0&&!this.active[t];)this.tocEntries[t].classList.remove(this.visibleClass),t--;for(;t>=0&&this.active[t];)this.tocEntries[t].classList.add(this.visibleClass),e=Math.min(e,t),i=Math.max(i,t),t--;for(;t>=0;)this.tocEntries[t].classList.remove(this.visibleClass),t--;let s=this.tocEl?.getBoundingClientRect().top||0,n=this.tocEl?.scrollTop||0,o=this.tocEntries[e].getBoundingClientRect().top-s+n,c=this.tocEntries[i].getBoundingClientRect().bottom-s+n;this.activeIndicator?.setAttribute("style",`display: block; top: ${o}px; height: ${c-o}px`)};scrollToActiveHeading=()=>{if(this.anchorNavTarget||!this.tocEl)return;const t=document.querySelectorAll(`#toc .${this.visibleClass}`);if(!t.length)return;const e=t[0],i=t[t.length-1],s=this.tocEl.clientHeight;let n;i.getBoundingClientRect().bottom-e.getBoundingClientRect().top<.9*s?n=e.offsetTop-32:n=i.offsetTop-s*.8,this.tocEl.scrollTo({top:n,left:0,behavior:"smooth"})};update=()=>{requestAnimationFrame(()=>{this.toggleActiveHeading(),this.scrollToActiveHeading()})};fallback=()=>{if(this.sections.length)for(let t=0;t<this.sections.length;t++){let e=this.sections[t].getBoundingClientRect().top,i=this.sections[t].getBoundingClientRect().bottom;if(this.isInRange(e,0,window.innerHeight)||this.isInRange(i,0,window.innerHeight)||e<0&&i>window.innerHeight)this.markActiveHeading(t);else if(e>window.innerHeight)break}};markActiveHeading=t=>{this.active[t]=!0};handleAnchorClick=t=>{const e=t.composedPath().find(i=>i instanceof HTMLAnchorElement);if(e){const i=decodeURIComponent(e.hash?.substring(1)),s=this.headingIdxMap.get(i);s!==void 0?this.anchorNavTarget=this.headings[s]:this.anchorNavTarget=null}};isInRange(t,e,i){return e<t&&t<i}connectedCallback(){const t=document.querySelector(".prose");t?t.addEventListener("animationend",()=>{this.init()},{once:!0}):console.debug("Animation element not found")}init(){if(this.tocEl=document.getElementById("toc-inner-wrapper"),!!this.tocEl&&(this.tocEl.addEventListener("click",this.handleAnchorClick,{capture:!0}),this.activeIndicator=document.getElementById("active-indicator"),this.tocEntries=Array.from(document.querySelectorAll("#toc a[href^='#']")),this.tocEntries.length!==0)){this.sections=new Array(this.tocEntries.length),this.headings=new Array(this.tocEntries.length);for(let t=0;t<this.tocEntries.length;t++){const e=decodeURIComponent(this.tocEntries[t].hash?.substring(1)),i=document.getElementById(e),s=i?.parentElement;i instanceof HTMLElement&&s instanceof HTMLElement&&(this.headings[t]=i,this.sections[t]=s,this.headingIdxMap.set(e,t))}this.active=new Array(this.tocEntries.length).fill(!1),this.sections.forEach(t=>this.observer.observe(t)),this.fallback(),this.update()}}disconnectedCallback(){this.sections.forEach(t=>this.observer.unobserve(t)),this.observer.disconnect(),this.tocEl?.removeEventListener("click",this.handleAnchorClick)}}customElements.get("table-of-contents")||customElements.define("table-of-contents",l);</script> <div class="h-8 w-full"></div> </div> </div> </div> <!-- #toc needs to exist for Swup to work normally -->  </div> </div>  <!-- increase the page height during page transition to prevent the scrolling animation from jumping --> <div id="page-height-extend" class="hidden h-[300vh]" data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 361;--page-width: 75rem;--bg-url: url(https://eopfapi.b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa/pic?img=ua);--bg-enable: 1;--bg-position: center;--bg-size: cover;--bg-repeat: no-repeat;--bg-attachment: fixed;--bg-opacity: 0.5;"></div> <!-- 域名检测脚本 --> <script>(function(){const officialSites = [{"url":"https://2x.nz","alias":"Vercel"},{"url":"https://blog.2b2x.cn","alias":"备案域"},{"url":"https://b.2.f.f.0.7.4.0.1.0.0.2.ip6.arpa","alias":"漏网之鱼"},{"url":"http://localhost:4321","alias":"Dev"}];

			// 域名检测功能
			function checkDomain() {
				try {
					// 获取当前访问的完整URL
					const currentUrl = window.location.href;
					// 获取当前域名
					const currentDomain = window.location.hostname;
					
					// 获取所有官方域名
					const officialDomains = officialSites.map(site => {
						try {
                            const url = typeof site === 'string' ? site : site.url;
							return new URL(url).hostname;
						} catch (e) {
							return null;
						}
					}).filter(domain => domain !== null);
					
					// 检查当前域名是否为官方域名或本地开发环境
					const isOfficialDomain = officialDomains.includes(currentDomain);
					const isLocalDev = currentDomain === 'localhost' || currentDomain === '127.0.0.1';
					
					// 如果当前域名不是官方域名且不是本地开发环境
					if (!isOfficialDomain && !isLocalDev) {
						// 创建警告弹窗
						const shouldRedirect = confirm(
							`⚠️ 域名安全警告\n\n` +
							`您当前访问的域名：${currentDomain}\n` +
							`官方域名：${officialDomains.join(', ')}\n\n` +
							`您可能正在访问非官方网站，存在安全风险！\n\n` +
							`点击"确定"跳转到官方网站\n` +
							`点击"取消"继续访问当前网站（不推荐）`
						);
						
						// 如果用户选择跳转到官方网站
						if (shouldRedirect) {
							// 构建官方网站的对应页面URL（使用第一个官方网站）
							const currentPath = window.location.pathname + window.location.search + window.location.hash;
                            const firstSite = officialSites[0];
                            const firstUrl = typeof firstSite === 'string' ? firstSite : firstSite.url;
							const officialPageUrl = firstUrl + currentPath;
							// 跳转到官方网站
							window.location.href = officialPageUrl;
						}
					}
				} catch (error) {
					// 如果检测过程中出现错误，静默处理，不影响正常访问
					console.warn('域名检测失败:', error);
				}
			}
			
			// 页面加载完成后执行域名检测
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', checkDomain);
			} else {
				checkDomain();
			}
		})();</script> <vercel-analytics data-props="{&#34;data-astro-cid-sckkx6r4&#34;:true}" data-params="{&#34;page&#34;:&#34;16&#34;}" data-pathname="/16/"></vercel-analytics> <script type="module">var f="@vercel/analytics",l="1.5.0",w=()=>{window.va||(window.va=function(...r){(window.vaq=window.vaq||[]).push(r)})};function d(){return typeof window<"u"}function u(){try{const e="production"}catch{}return"production"}function v(e="auto"){if(e==="auto"){window.vam=u();return}window.vam=e}function m(){return(d()?window.vam:u())||"production"}function c(){return m()==="development"}function b(e,r){if(!e||!r)return e;let n=e;try{const t=Object.entries(r);for(const[a,i]of t)if(!Array.isArray(i)){const o=s(i);o.test(n)&&(n=n.replace(o,`/[${a}]`))}for(const[a,i]of t)if(Array.isArray(i)){const o=s(i.join("/"));o.test(n)&&(n=n.replace(o,`/[...${a}]`))}return n}catch{return e}}function s(e){return new RegExp(`/${h(e)}(?=[/?#]|$)`)}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){return e.scriptSrc?e.scriptSrc:c()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function g(e={debug:!0}){var r;if(!d())return;v(e.mode),w(),e.beforeSend&&((r=window.va)==null||r.call(window,"beforeSend",e.beforeSend));const n=y(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const t=document.createElement("script");t.src=n,t.defer=!0,t.dataset.sdkn=f+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=l,e.disableAutoTrack&&(t.dataset.disableAutoTrack="1"),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(t.dataset.dsn=e.dsn),t.onerror=()=>{const a=c()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${a}`)},c()&&e.debug===!1&&(t.dataset.debug="false"),document.head.appendChild(t)}function p({route:e,path:r}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:r})}function k(){try{return}catch{}}customElements.define("vercel-analytics",class extends HTMLElement{constructor(){super();try{const r=JSON.parse(this.dataset.props??"{}"),n=JSON.parse(this.dataset.params??"{}");g({...r,disableAutoTrack:!0,framework:"astro",basePath:k(),beforeSend:window.webAnalyticsBeforeSend});const t=this.dataset.pathname;p({route:b(t??"",n),path:t})}catch(r){throw new Error(`Failed to parse WebAnalytics properties: ${r}`)}}});</script>  <script type="module" src="/_astro/Layout.astro_astro_type_script_index_1_lang.B61xCTNf.js"></script> <script type="module">window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","G-9Z4LT4H8KH");</script></body></html>